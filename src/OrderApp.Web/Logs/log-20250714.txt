2025-07-14 08:48:50.629 +04:00 [INF] Starting web host
2025-07-14 08:48:50.910 +04:00 [INF] Options were configured
2025-07-14 08:48:50.915 +04:00 [INF] Infrastructure services registered
2025-07-14 08:48:50.932 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 08:48:51.229 +04:00 [FTL] The application failed to start correctly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 118
2025-07-14 08:49:08.465 +04:00 [INF] Starting web host
2025-07-14 08:49:08.706 +04:00 [INF] Options were configured
2025-07-14 08:49:08.711 +04:00 [INF] Infrastructure services registered
2025-07-14 08:49:08.723 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 08:49:09.011 +04:00 [FTL] The application failed to start correctly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 118
2025-07-14 08:53:24.486 +04:00 [INF] Starting web host
2025-07-14 08:53:24.738 +04:00 [INF] Options were configured
2025-07-14 08:53:24.744 +04:00 [INF] Infrastructure services registered
2025-07-14 08:53:24.760 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 08:53:25.039 +04:00 [FTL] The application failed to start correctly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 118
2025-07-14 08:53:38.878 +04:00 [INF] Starting web host
2025-07-14 08:53:39.078 +04:00 [INF] Options were configured
2025-07-14 08:53:39.083 +04:00 [INF] Infrastructure services registered
2025-07-14 08:53:39.097 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 08:53:39.318 +04:00 [FTL] The application failed to start correctly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 118
2025-07-14 08:55:36.401 +04:00 [INF] Starting web host
2025-07-14 08:55:36.543 +04:00 [INF] Options were configured
2025-07-14 08:55:36.546 +04:00 [INF] Infrastructure services registered
2025-07-14 08:55:36.558 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 08:55:36.725 +04:00 [FTL] The application failed to start correctly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 118
2025-07-14 08:55:50.072 +04:00 [INF] Starting web host
2025-07-14 08:55:50.210 +04:00 [INF] Options were configured
2025-07-14 08:55:50.214 +04:00 [INF] Infrastructure services registered
2025-07-14 08:55:50.225 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 08:55:50.438 +04:00 [FTL] The application failed to start correctly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 118
2025-07-14 08:58:15.659 +04:00 [INF] Starting web host
2025-07-14 08:58:15.924 +04:00 [INF] Options were configured
2025-07-14 08:58:15.930 +04:00 [INF] Infrastructure services registered
2025-07-14 08:58:15.946 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 08:58:16.224 +04:00 [FTL] The application failed to start correctly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 118
2025-07-14 09:02:04.816 +04:00 [INF] Starting web host
2025-07-14 09:02:04.967 +04:00 [INF] Options were configured
2025-07-14 09:02:04.971 +04:00 [INF] Infrastructure services registered
2025-07-14 09:02:04.985 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 09:02:05.165 +04:00 [FTL] The application failed to start correctly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 118
2025-07-14 09:02:59.559 +04:00 [INF] Starting web host
2025-07-14 09:02:59.840 +04:00 [INF] Options were configured
2025-07-14 09:02:59.845 +04:00 [INF] Infrastructure services registered
2025-07-14 09:02:59.860 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 09:03:00.156 +04:00 [FTL] The application failed to start correctly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 118
2025-07-14 09:03:54.242 +04:00 [INF] Starting web host
2025-07-14 09:03:54.394 +04:00 [INF] Options were configured
2025-07-14 09:03:54.398 +04:00 [INF] Infrastructure services registered
2025-07-14 09:03:54.410 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 09:03:54.613 +04:00 [FTL] The application failed to start correctly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 118
2025-07-14 09:04:08.122 +04:00 [INF] Starting web host
2025-07-14 09:04:08.309 +04:00 [INF] Options were configured
2025-07-14 09:04:08.314 +04:00 [INF] Infrastructure services registered
2025-07-14 09:04:08.327 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 09:04:08.558 +04:00 [FTL] The application failed to start correctly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 118
2025-07-14 09:06:44.476 +04:00 [INF] Starting web host
2025-07-14 09:06:44.661 +04:00 [INF] Options were configured
2025-07-14 09:06:44.666 +04:00 [INF] Infrastructure services registered
2025-07-14 09:06:44.682 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 09:06:44.905 +04:00 [FTL] The application failed to start correctly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 118
2025-07-14 09:06:53.700 +04:00 [INF] Starting web host
2025-07-14 09:06:53.860 +04:00 [INF] Options were configured
2025-07-14 09:06:53.865 +04:00 [INF] Infrastructure services registered
2025-07-14 09:06:53.877 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 09:06:54.072 +04:00 [FTL] The application failed to start correctly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 118
2025-07-14 09:10:30.326 +04:00 [INF] Starting web host
2025-07-14 09:10:30.546 +04:00 [INF] Options were configured
2025-07-14 09:10:30.554 +04:00 [INF] Infrastructure services registered
2025-07-14 09:10:30.572 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 09:10:30.912 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 09:10:30.958 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 09:10:31.107 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 09:10:31.294 +04:00 [INF] Registered 26 endpoints in 708 milliseconds.
2025-07-14 09:10:31.879 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 09:10:31.916 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 09:10:31.988 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:10:32.060 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 09:10:32.246 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 09:10:32.292 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:10:32.316 +04:00 [DBG] Created DbConnection. (21ms).
2025-07-14 09:10:32.323 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:32.512 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:32.518 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:10:32.529 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-07-14 09:10:32.533 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-07-14 09:10:32.538 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:10:32.587 +04:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:10:32.605 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:32.644 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 17ms reading results.
2025-07-14 09:10:32.661 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:32.682 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (20ms).
2025-07-14 09:10:32.688 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:32.694 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:32.698 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:10:32.701 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-07-14 09:10:32.703 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-07-14 09:10:32.705 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:10:32.708 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:10:32.711 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:32.713 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 1ms reading results.
2025-07-14 09:10:32.714 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:32.715 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (1ms).
2025-07-14 09:10:32.742 +04:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:32.801 +04:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:32.806 +04:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:32.811 +04:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:32.817 +04:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-07-14 09:10:32.823 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:10:32.833 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:10:32.837 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:10:32.839 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:10:32.898 +04:00 [DBG] Executing 2 update commands as a batch.
2025-07-14 09:10:32.907 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:32.909 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:32.914 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:10:32.917 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-07-14 09:10:32.921 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-07-14 09:10:32.925 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Users] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([Name], [Password], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Password])
VALUES (i.[Name], i.[Password])
OUTPUT INSERTED.[Id], i._Position;
2025-07-14 09:10:32.967 +04:00 [INF] Executed DbCommand (44ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Users] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([Name], [Password], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name], [Password])
VALUES (i.[Name], i.[Password])
OUTPUT INSERTED.[Id], i._Position;
2025-07-14 09:10:32.980 +04:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-14 09:10:32.985 +04:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-14 09:10:32.990 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:32.991 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 20ms reading results.
2025-07-14 09:10:32.995 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:32.996 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (1ms).
2025-07-14 09:10:33.007 +04:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.011 +04:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.016 +04:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2025-07-14 09:10:33.019 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:10:33.020 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:10:33.024 +04:00 [DBG] Compiling query expression: 
'DbSet<Company>()
    .Any()'
2025-07-14 09:10:33.030 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Companies AS c)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Companies AS c), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 09:10:33.038 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.039 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.040 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:10:33.041 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 09:10:33.043 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-07-14 09:10:33.045 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Companies] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:10:33.050 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Companies] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:10:33.053 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.054 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 1ms reading results.
2025-07-14 09:10:33.056 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.057 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (1ms).
2025-07-14 09:10:33.060 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.062 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.064 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:10:33.065 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 09:10:33.068 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-07-14 09:10:33.071 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Companies] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:10:33.078 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Companies] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:10:33.081 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.082 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 1ms reading results.
2025-07-14 09:10:33.084 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.086 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (1ms).
2025-07-14 09:10:33.093 +04:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Company.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.105 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.107 +04:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Company.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.109 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.111 +04:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-07-14 09:10:33.114 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:10:33.119 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:10:33.121 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:10:33.124 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:10:33.128 +04:00 [DBG] Executing 2 update commands as a batch.
2025-07-14 09:10:33.131 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.133 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.134 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:10:33.135 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 09:10:33.137 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-14 09:10:33.139 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Companies] USING (
VALUES (@p0, 0),
(@p1, 1)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position;
2025-07-14 09:10:33.149 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Companies] USING (
VALUES (@p0, 0),
(@p1, 1)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position;
2025-07-14 09:10:33.155 +04:00 [DBG] The foreign key property 'Company.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-14 09:10:33.158 +04:00 [DBG] The foreign key property 'Company.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-14 09:10:33.161 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.164 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 9ms reading results.
2025-07-14 09:10:33.166 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.167 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (1ms).
2025-07-14 09:10:33.169 +04:00 [DBG] An entity of type 'Company' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.171 +04:00 [DBG] An entity of type 'Company' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.173 +04:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2025-07-14 09:10:33.174 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:10:33.175 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:10:33.178 +04:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Any()'
2025-07-14 09:10:33.182 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Products AS p)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Products AS p), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 09:10:33.187 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.189 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.190 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:10:33.191 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 09:10:33.192 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-14 09:10:33.194 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:10:33.200 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:10:33.204 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.205 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 1ms reading results.
2025-07-14 09:10:33.207 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.209 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (1ms).
2025-07-14 09:10:33.213 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.214 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.216 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:10:33.217 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 09:10:33.218 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-14 09:10:33.220 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:10:33.223 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:10:33.225 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.227 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 1ms reading results.
2025-07-14 09:10:33.229 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.231 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (1ms).
2025-07-14 09:10:33.234 +04:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.253 +04:00 [DBG] The navigation 'Product.Company' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.256 +04:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.258 +04:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.259 +04:00 [DBG] The navigation 'Product.Company' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.261 +04:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.263 +04:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-07-14 09:10:33.264 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:10:33.269 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:10:33.270 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:10:33.271 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:10:33.273 +04:00 [DBG] Executing 2 update commands as a batch.
2025-07-14 09:10:33.274 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.276 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.277 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:10:33.278 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 09:10:33.280 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-07-14 09:10:33.282 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Products] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1)) AS i ([CompanyId], [Name], [Price], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CompanyId], [Name], [Price])
VALUES (i.[CompanyId], i.[Name], i.[Price])
OUTPUT INSERTED.[Id], i._Position;
2025-07-14 09:10:33.301 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Products] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1)) AS i ([CompanyId], [Name], [Price], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CompanyId], [Name], [Price])
VALUES (i.[CompanyId], i.[Name], i.[Price])
OUTPUT INSERTED.[Id], i._Position;
2025-07-14 09:10:33.304 +04:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-14 09:10:33.305 +04:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-14 09:10:33.306 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.308 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 5ms reading results.
2025-07-14 09:10:33.309 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.311 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (1ms).
2025-07-14 09:10:33.313 +04:00 [DBG] An entity of type 'Product' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.315 +04:00 [DBG] An entity of type 'Product' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.316 +04:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2025-07-14 09:10:33.318 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:10:33.319 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:10:33.320 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Any()'
2025-07-14 09:10:33.324 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Orders AS o)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Orders AS o), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 09:10:33.328 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.330 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.333 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:10:33.334 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 09:10:33.336 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-07-14 09:10:33.339 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:10:33.347 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:10:33.350 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.351 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 1ms reading results.
2025-07-14 09:10:33.352 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.353 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (1ms).
2025-07-14 09:10:33.356 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.357 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.359 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:10:33.361 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 09:10:33.362 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-07-14 09:10:33.365 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:10:33.394 +04:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:10:33.397 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.399 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 1ms reading results.
2025-07-14 09:10:33.401 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.403 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (2ms).
2025-07-14 09:10:33.458 +04:00 [DBG] The navigation 'Order.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.462 +04:00 [DBG] The navigation 'Order.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.463 +04:00 [DBG] Context 'AppDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.465 +04:00 [DBG] The navigation 'Order.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.467 +04:00 [DBG] The navigation 'Order.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.468 +04:00 [DBG] Context 'AppDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:10:33.470 +04:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-07-14 09:10:33.471 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:10:33.483 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:10:33.487 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:10:33.488 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:10:33.489 +04:00 [DBG] Executing 2 update commands as a batch.
2025-07-14 09:10:33.493 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.495 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.497 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:10:33.498 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 09:10:33.500 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-14 09:10:33.501 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([Id], [CreatedAt], [CreatedUserId], [DeletedAt], [DeletedUserId], [IsDeleted], [ModifiedAt], [ModifiedUserId], [OrderDate], [ProductId], [RestoredAt], [RestoredUserId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12),
(@p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25);
2025-07-14 09:10:33.527 +04:00 [ERR] Failed executing DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([Id], [CreatedAt], [CreatedUserId], [DeletedAt], [DeletedUserId], [IsDeleted], [ModifiedAt], [ModifiedUserId], [OrderDate], [ProductId], [RestoredAt], [RestoredUserId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12),
(@p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25);
2025-07-14 09:10:33.532 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.533 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (1ms).
2025-07-14 09:10:33.553 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'OrderApp.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Orders' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0244dc76-ce6c-452b-a429-8031bf0cb0cd
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Orders' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0244dc76-ce6c-452b-a429-8031bf0cb0cd
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-14 09:10:33.564 +04:00 [ERR] An error occurred seeding the DB. An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Orders' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0244dc76-ce6c-452b-a429-8031bf0cb0cd
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at OrderApp.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Infrastructure\Data\AppDbContext.cs:line 70
   at OrderApp.Infrastructure.Data.SeedData.PopulateOrderDataAsync(AppDbContext dbContext) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Infrastructure\Data\SeedData.cs:line 66
   at OrderApp.Infrastructure.Data.SeedData.InitializeAsync(AppDbContext dbContext) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Infrastructure\Data\SeedData.cs:line 20
   at OrderApp.Web.Configurations.MiddlewareConfig.SeedDatabase(WebApplication app) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Configurations\MiddlewareConfig.cs:line 41
2025-07-14 09:10:33.576 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:10:33.579 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:10:33.582 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 09:10:33.584 +04:00 [DBG] Hosting starting
2025-07-14 09:10:33.598 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 09:10:33.619 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 09:10:33.626 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 09:10:33.639 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 09:10:33.642 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 09:10:33.644 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 09:10:33.648 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 09:10:33.653 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 09:10:33.657 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 09:10:33.659 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 09:10:33.661 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 09:10:33.743 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 09:10:33.745 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 09:10:33.819 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 09:10:33.820 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 09:10:33.821 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 09:10:33.821 +04:00 [INF] Hosting environment: Development
2025-07-14 09:10:33.822 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 09:10:33.824 +04:00 [DBG] Hosting started
2025-07-14 09:10:37.731 +04:00 [DBG] Connection id "0HNE2IJ2KHKRG" accepted.
2025-07-14 09:10:37.735 +04:00 [DBG] Connection id "0HNE2IJ2KHKRG" started.
2025-07-14 09:10:37.797 +04:00 [DBG] Connection 0HNE2IJ2KHKRG established using the following protocol: "Tls13"
2025-07-14 09:10:37.868 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/ - null null
2025-07-14 09:10:37.920 +04:00 [DBG] No candidates found for the request path '/'
2025-07-14 09:10:37.923 +04:00 [DBG] Request did not match any endpoints
2025-07-14 09:10:37.957 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:10:37.971 +04:00 [DBG] The request path  does not match the path filter
2025-07-14 09:10:38.079 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/   Responded with [404] in 103ms
2025-07-14 09:10:38.084 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/ - 404 157 application/json 218.7234ms
2025-07-14 09:10:38.095 +04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:57679/, Response status code: 404
2025-07-14 09:10:38.292 +04:00 [DBG] Connection id "0HNE2IJ2KHKRG" received FIN.
2025-07-14 09:10:38.295 +04:00 [DBG] Connection id "0HNE2IJ2KHKRG" is closed. The last processed stream ID was 1.
2025-07-14 09:10:38.297 +04:00 [DBG] The connection queue processing loop for 0HNE2IJ2KHKRG completed.
2025-07-14 09:10:38.297 +04:00 [DBG] Connection id "0HNE2IJ2KHKRG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:10:38.309 +04:00 [DBG] Connection id "0HNE2IJ2KHKRG" stopped.
2025-07-14 09:10:38.699 +04:00 [DBG] Connection id "0HNE2IJ2KHKRH" accepted.
2025-07-14 09:10:38.701 +04:00 [DBG] Connection id "0HNE2IJ2KHKRH" started.
2025-07-14 09:10:38.715 +04:00 [DBG] Connection 0HNE2IJ2KHKRH established using the following protocol: "Tls13"
2025-07-14 09:10:38.723 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/favicon.ico - null null
2025-07-14 09:10:38.731 +04:00 [DBG] No candidates found for the request path '/favicon.ico'
2025-07-14 09:10:38.733 +04:00 [DBG] Request did not match any endpoints
2025-07-14 09:10:38.737 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:10:38.739 +04:00 [DBG] The request path  does not match the path filter
2025-07-14 09:10:38.742 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/favicon.ico   Responded with [404] in 3ms
2025-07-14 09:10:38.748 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/favicon.ico - 404 157 application/json 24.7576ms
2025-07-14 09:10:38.755 +04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:57679/favicon.ico, Response status code: 404
2025-07-14 09:10:43.303 +04:00 [DBG] Connection id "0HNE2IJ2KHKRH" received FIN.
2025-07-14 09:10:43.307 +04:00 [DBG] Connection id "0HNE2IJ2KHKRH" is closed. The last processed stream ID was 1.
2025-07-14 09:10:43.307 +04:00 [DBG] The connection queue processing loop for 0HNE2IJ2KHKRH completed.
2025-07-14 09:10:43.311 +04:00 [DBG] Connection id "0HNE2IJ2KHKRH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:10:43.319 +04:00 [DBG] Connection id "0HNE2IJ2KHKRH" stopped.
2025-07-14 09:10:48.259 +04:00 [DBG] Connection id "0HNE2IJ2KHKRI" accepted.
2025-07-14 09:10:48.261 +04:00 [DBG] Connection id "0HNE2IJ2KHKRI" started.
2025-07-14 09:10:48.266 +04:00 [DBG] Connection 0HNE2IJ2KHKRI established using the following protocol: "Tls13"
2025-07-14 09:10:48.271 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 09:10:48.276 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 09:10:48.281 +04:00 [DBG] Request did not match any endpoints
2025-07-14 09:10:48.285 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:10:48.320 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 49.0928ms
2025-07-14 09:10:48.626 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 09:10:48.633 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 09:10:48.635 +04:00 [DBG] Request did not match any endpoints
2025-07-14 09:10:48.637 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:10:48.643 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 09:10:48.666 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 09:10:49.613 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 987.5074ms
2025-07-14 09:10:53.324 +04:00 [DBG] Connection id "0HNE2IJ2KHKRI" received FIN.
2025-07-14 09:10:53.326 +04:00 [DBG] Connection id "0HNE2IJ2KHKRI" is closed. The last processed stream ID was 3.
2025-07-14 09:10:53.326 +04:00 [DBG] The connection queue processing loop for 0HNE2IJ2KHKRI completed.
2025-07-14 09:10:53.329 +04:00 [DBG] Connection id "0HNE2IJ2KHKRI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:10:53.339 +04:00 [DBG] Connection id "0HNE2IJ2KHKRI" stopped.
2025-07-14 09:10:59.061 +04:00 [DBG] Connection id "0HNE2IJ2KHKRJ" accepted.
2025-07-14 09:10:59.063 +04:00 [DBG] Connection id "0HNE2IJ2KHKRJ" started.
2025-07-14 09:10:59.069 +04:00 [DBG] Connection 0HNE2IJ2KHKRJ established using the following protocol: "Tls13"
2025-07-14 09:11:03.330 +04:00 [DBG] Connection id "0HNE2IJ2KHKRJ" received FIN.
2025-07-14 09:11:03.332 +04:00 [DBG] Connection id "0HNE2IJ2KHKRJ" is closed. The last processed stream ID was 0.
2025-07-14 09:11:03.332 +04:00 [DBG] The connection queue processing loop for 0HNE2IJ2KHKRJ completed.
2025-07-14 09:11:03.334 +04:00 [DBG] Connection id "0HNE2IJ2KHKRJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:11:03.344 +04:00 [DBG] Connection id "0HNE2IJ2KHKRJ" stopped.
2025-07-14 09:11:05.995 +04:00 [DBG] Connection id "0HNE2IJ2KHKRK" accepted.
2025-07-14 09:11:05.997 +04:00 [DBG] Connection id "0HNE2IJ2KHKRK" started.
2025-07-14 09:11:06.004 +04:00 [DBG] Connection 0HNE2IJ2KHKRK established using the following protocol: "Tls13"
2025-07-14 09:11:06.010 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Companies - application/json 22
2025-07-14 09:11:06.023 +04:00 [DBG] 1 candidate(s) found for the request path '/Companies'
2025-07-14 09:11:06.028 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Companies'
2025-07-14 09:11:06.032 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:11:06.039 +04:00 [DBG] Connection id "0HNE2IJ2KHKRK", Request id "0HNE2IJ2KHKRK:00000001": started reading request body.
2025-07-14 09:11:06.044 +04:00 [DBG] Connection id "0HNE2IJ2KHKRK", Request id "0HNE2IJ2KHKRK:00000001": done reading request body.
2025-07-14 09:11:06.046 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:11:06.049 +04:00 [INF] Executing endpoint 'HTTP: POST /Companies'
2025-07-14 09:11:06.144 +04:00 [INF] Executed endpoint 'HTTP: POST /Companies'
2025-07-14 09:11:06.194 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/Companies  {
  "name": "Comp A"
} Responded with [200] in 160ms
2025-07-14 09:11:06.198 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Companies - 200 146 application/json 188.2693ms
2025-07-14 09:11:08.330 +04:00 [DBG] Connection id "0HNE2IJ2KHKRK" received FIN.
2025-07-14 09:11:08.331 +04:00 [DBG] Connection id "0HNE2IJ2KHKRK" is closed. The last processed stream ID was 1.
2025-07-14 09:11:08.332 +04:00 [DBG] The connection queue processing loop for 0HNE2IJ2KHKRK completed.
2025-07-14 09:11:08.333 +04:00 [DBG] Connection id "0HNE2IJ2KHKRK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:11:08.351 +04:00 [DBG] Connection id "0HNE2IJ2KHKRK" stopped.
2025-07-14 09:11:12.046 +04:00 [DBG] Connection id "0HNE2IJ2KHKRL" accepted.
2025-07-14 09:11:12.048 +04:00 [DBG] Connection id "0HNE2IJ2KHKRL" started.
2025-07-14 09:11:12.053 +04:00 [DBG] Connection 0HNE2IJ2KHKRL established using the following protocol: "Tls13"
2025-07-14 09:11:12.057 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Companies - application/json 22
2025-07-14 09:11:12.061 +04:00 [DBG] 1 candidate(s) found for the request path '/Companies'
2025-07-14 09:11:12.064 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Companies'
2025-07-14 09:11:12.069 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:11:12.071 +04:00 [DBG] Connection id "0HNE2IJ2KHKRL", Request id "0HNE2IJ2KHKRL:00000001": started reading request body.
2025-07-14 09:11:12.074 +04:00 [DBG] Connection id "0HNE2IJ2KHKRL", Request id "0HNE2IJ2KHKRL:00000001": done reading request body.
2025-07-14 09:11:12.080 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:11:12.081 +04:00 [INF] Executing endpoint 'HTTP: POST /Companies'
2025-07-14 09:11:12.085 +04:00 [INF] Executed endpoint 'HTTP: POST /Companies'
2025-07-14 09:11:12.088 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/Companies  {
  "name": "Comp B"
} Responded with [200] in 17ms
2025-07-14 09:11:12.093 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Companies - 200 146 application/json 35.6976ms
2025-07-14 09:11:13.333 +04:00 [DBG] Connection id "0HNE2IJ2KHKRL" received FIN.
2025-07-14 09:11:13.334 +04:00 [DBG] Connection id "0HNE2IJ2KHKRL" is closed. The last processed stream ID was 1.
2025-07-14 09:11:13.335 +04:00 [DBG] The connection queue processing loop for 0HNE2IJ2KHKRL completed.
2025-07-14 09:11:13.337 +04:00 [DBG] Connection id "0HNE2IJ2KHKRL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:11:13.348 +04:00 [DBG] Connection id "0HNE2IJ2KHKRL" stopped.
2025-07-14 09:11:17.907 +04:00 [DBG] Connection id "0HNE2IJ2KHKRM" accepted.
2025-07-14 09:11:17.909 +04:00 [DBG] Connection id "0HNE2IJ2KHKRM" started.
2025-07-14 09:11:17.913 +04:00 [DBG] Connection 0HNE2IJ2KHKRM established using the following protocol: "Tls13"
2025-07-14 09:11:17.919 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Companies - null null
2025-07-14 09:11:17.923 +04:00 [DBG] 1 candidate(s) found for the request path '/Companies'
2025-07-14 09:11:17.925 +04:00 [DBG] Request matched endpoint 'HTTP: GET /Companies'
2025-07-14 09:11:17.926 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:11:17.927 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:11:17.928 +04:00 [INF] Executing endpoint 'HTTP: GET /Companies'
2025-07-14 09:11:17.969 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:11:17.974 +04:00 [DBG] Compiling query expression: 
'DbSet<Company>()'
2025-07-14 09:11:18.037 +04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Company>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Company.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Company.Name (string) Required, 1] }
        SELECT c.Id, c.Name
        FROM Companies AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Company.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Company.Name (string) Required, 1] }
        SELECT c.Id, c.Name
        FROM Companies AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Company entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Company instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Company);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Company.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Company)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")]: 
                        {
                            return 
                            {
                                Company instance;
                                instance = new Company();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Name>k__BackingField = dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Company)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: OrderApp.Infrastructure.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-07-14 09:11:18.051 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:11:18.053 +04:00 [DBG] Created DbConnection. (1ms).
2025-07-14 09:11:18.056 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:11:18.059 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:11:18.061 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:11:18.063 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-07-14 09:11:18.065 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-07-14 09:11:18.067 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Companies] AS [c]
2025-07-14 09:11:18.076 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Companies] AS [c]
2025-07-14 09:11:18.084 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:11:18.088 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:11:18.092 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:11:18.094 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 14ms reading results.
2025-07-14 09:11:18.097 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:11:18.100 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (3ms).
2025-07-14 09:11:18.114 +04:00 [INF] Executed endpoint 'HTTP: GET /Companies'
2025-07-14 09:11:18.117 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Companies   Responded with [200] in 189ms
2025-07-14 09:11:18.119 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:11:18.125 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:11:18.128 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 09:11:18.129 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Companies - 200 252 application/json 210.8007ms
2025-07-14 09:11:18.338 +04:00 [DBG] Connection id "0HNE2IJ2KHKRM" received FIN.
2025-07-14 09:11:18.340 +04:00 [DBG] Connection id "0HNE2IJ2KHKRM" is closed. The last processed stream ID was 1.
2025-07-14 09:11:18.340 +04:00 [DBG] The connection queue processing loop for 0HNE2IJ2KHKRM completed.
2025-07-14 09:11:18.349 +04:00 [DBG] Connection id "0HNE2IJ2KHKRM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:11:18.358 +04:00 [DBG] Connection id "0HNE2IJ2KHKRM" stopped.
2025-07-14 09:11:43.534 +04:00 [DBG] Connection id "0HNE2IJ2KHKRN" accepted.
2025-07-14 09:11:43.536 +04:00 [DBG] Connection id "0HNE2IJ2KHKRN" started.
2025-07-14 09:11:43.540 +04:00 [DBG] Connection 0HNE2IJ2KHKRN established using the following protocol: "Tls13"
2025-07-14 09:11:43.542 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Companies - application/json 22
2025-07-14 09:11:43.546 +04:00 [DBG] 1 candidate(s) found for the request path '/Companies'
2025-07-14 09:11:43.548 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Companies'
2025-07-14 09:11:43.551 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:11:43.553 +04:00 [DBG] Connection id "0HNE2IJ2KHKRN", Request id "0HNE2IJ2KHKRN:00000001": started reading request body.
2025-07-14 09:11:43.555 +04:00 [DBG] Connection id "0HNE2IJ2KHKRN", Request id "0HNE2IJ2KHKRN:00000001": done reading request body.
2025-07-14 09:11:43.557 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:11:43.560 +04:00 [INF] Executing endpoint 'HTTP: POST /Companies'
2025-07-14 09:11:43.564 +04:00 [INF] Executed endpoint 'HTTP: POST /Companies'
2025-07-14 09:11:43.565 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/Companies  {
  "name": "Comp B"
} Responded with [200] in 11ms
2025-07-14 09:11:43.567 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Companies - 200 146 application/json 24.8175ms
2025-07-14 09:11:48.383 +04:00 [DBG] Connection id "0HNE2IJ2KHKRN" received FIN.
2025-07-14 09:11:48.386 +04:00 [DBG] Connection id "0HNE2IJ2KHKRN" is closed. The last processed stream ID was 1.
2025-07-14 09:11:48.386 +04:00 [DBG] The connection queue processing loop for 0HNE2IJ2KHKRN completed.
2025-07-14 09:11:48.390 +04:00 [DBG] Connection id "0HNE2IJ2KHKRN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:11:48.398 +04:00 [DBG] Connection id "0HNE2IJ2KHKRN" stopped.
2025-07-14 09:12:05.172 +04:00 [DBG] Connection id "0HNE2IJ2KHKRO" accepted.
2025-07-14 09:12:05.174 +04:00 [DBG] Connection id "0HNE2IJ2KHKRO" started.
2025-07-14 09:12:05.205 +04:00 [DBG] Connection 0HNE2IJ2KHKRO established using the following protocol: "Tls13"
2025-07-14 09:12:05.219 +04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Companies/1 - application/json 26
2025-07-14 09:12:05.223 +04:00 [DBG] 1 candidate(s) found for the request path '/Companies/1'
2025-07-14 09:12:05.226 +04:00 [DBG] Endpoint 'HTTP: PUT /Companies/{CompanyId:int}' with route pattern '/Companies/{CompanyId:int}' is valid for the request path '/Companies/1'
2025-07-14 09:12:05.228 +04:00 [DBG] Request matched endpoint 'HTTP: PUT /Companies/{CompanyId:int}'
2025-07-14 09:12:05.229 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:12:05.231 +04:00 [DBG] Connection id "0HNE2IJ2KHKRO", Request id "0HNE2IJ2KHKRO:00000001": started reading request body.
2025-07-14 09:12:05.233 +04:00 [DBG] Connection id "0HNE2IJ2KHKRO", Request id "0HNE2IJ2KHKRO:00000001": done reading request body.
2025-07-14 09:12:05.235 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:12:05.236 +04:00 [INF] Executing endpoint 'HTTP: PUT /Companies/{CompanyId:int}'
2025-07-14 09:12:05.345 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:12:05.371 +04:00 [DBG] Compiling query expression: 
'DbSet<Company>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-07-14 09:12:05.433 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Company>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Company>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Company.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Company.Name (string) Required, 1] }
            SELECT TOP(1) c.Id, c.Name
            FROM Companies AS c
            WHERE c.Id == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Company.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Company.Name (string) Required, 1] }
            SELECT TOP(1) c.Id, c.Name
            FROM Companies AS c
            WHERE c.Id == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Company entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Company instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Company);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Company.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Company)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")]: 
                            {
                                return 
                                {
                                    Company instance;
                                    instance = new Company();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Company)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 09:12:05.452 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:12:05.453 +04:00 [DBG] Created DbConnection. (1ms).
2025-07-14 09:12:05.454 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:05.457 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:05.459 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:12:05.461 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 09:12:05.463 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-07-14 09:12:05.465 +04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[Id] = @__p_0
2025-07-14 09:12:05.472 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[Id] = @__p_0
2025-07-14 09:12:05.475 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:12:05.478 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:05.480 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 5ms reading results.
2025-07-14 09:12:05.483 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:05.544 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (60ms).
2025-07-14 09:12:05.557 +04:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-07-14 09:12:05.559 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:12:05.563 +04:00 [DBG] The unchanged property 'Company.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-14 09:12:05.565 +04:00 [DBG] An entity of type 'Company' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:12:05.567 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:12:05.569 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:12:05.570 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:12:05.594 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:05.596 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:05.598 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:12:05.600 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 09:12:05.602 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-07-14 09:12:05.604 +04:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Companies] SET [Name] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-07-14 09:12:05.615 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Companies] SET [Name] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-07-14 09:12:05.621 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:05.622 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 3ms reading results.
2025-07-14 09:12:05.625 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:05.626 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (1ms).
2025-07-14 09:12:05.629 +04:00 [DBG] An entity of type 'Company' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:12:05.631 +04:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-07-14 09:12:05.635 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:12:05.636 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:12:05.640 +04:00 [INF] Executed endpoint 'HTTP: PUT /Companies/{CompanyId:int}'
2025-07-14 09:12:05.642 +04:00 [INF] Source:[::1] Request: PUT https localhost:57679/Companies/1  {
  "name": "Acme Corp."
} Responded with [200] in 411ms
2025-07-14 09:12:05.644 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:12:05.646 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:05.648 +04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-07-14 09:12:05.650 +04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Companies/1 - 200 156 application/json 430.9783ms
2025-07-14 09:12:08.397 +04:00 [DBG] Connection id "0HNE2IJ2KHKRO" received FIN.
2025-07-14 09:12:08.400 +04:00 [DBG] Connection id "0HNE2IJ2KHKRO" is closed. The last processed stream ID was 1.
2025-07-14 09:12:08.400 +04:00 [DBG] The connection queue processing loop for 0HNE2IJ2KHKRO completed.
2025-07-14 09:12:08.403 +04:00 [DBG] Connection id "0HNE2IJ2KHKRO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:12:08.413 +04:00 [DBG] Connection id "0HNE2IJ2KHKRO" stopped.
2025-07-14 09:12:10.814 +04:00 [DBG] Connection id "0HNE2IJ2KHKRP" accepted.
2025-07-14 09:12:10.816 +04:00 [DBG] Connection id "0HNE2IJ2KHKRP" started.
2025-07-14 09:12:10.821 +04:00 [DBG] Connection 0HNE2IJ2KHKRP established using the following protocol: "Tls13"
2025-07-14 09:12:10.823 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Companies - null null
2025-07-14 09:12:10.830 +04:00 [DBG] 1 candidate(s) found for the request path '/Companies'
2025-07-14 09:12:10.833 +04:00 [DBG] Request matched endpoint 'HTTP: GET /Companies'
2025-07-14 09:12:10.836 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:12:10.838 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:12:10.841 +04:00 [INF] Executing endpoint 'HTTP: GET /Companies'
2025-07-14 09:12:10.845 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:12:10.851 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:12:10.853 +04:00 [DBG] Created DbConnection. (1ms).
2025-07-14 09:12:10.855 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:10.857 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:10.859 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:12:10.861 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 09:12:10.863 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-07-14 09:12:10.867 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Companies] AS [c]
2025-07-14 09:12:10.872 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Companies] AS [c]
2025-07-14 09:12:10.876 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:12:10.880 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:12:10.885 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:10.888 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 12ms reading results.
2025-07-14 09:12:10.891 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:10.893 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (2ms).
2025-07-14 09:12:10.896 +04:00 [INF] Executed endpoint 'HTTP: GET /Companies'
2025-07-14 09:12:10.900 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Companies   Responded with [200] in 62ms
2025-07-14 09:12:10.903 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:12:10.905 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:10.907 +04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-07-14 09:12:10.909 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Companies - 200 253 application/json 85.2937ms
2025-07-14 09:12:13.403 +04:00 [DBG] Connection id "0HNE2IJ2KHKRP" received FIN.
2025-07-14 09:12:13.406 +04:00 [DBG] Connection id "0HNE2IJ2KHKRP" is closed. The last processed stream ID was 1.
2025-07-14 09:12:13.406 +04:00 [DBG] The connection queue processing loop for 0HNE2IJ2KHKRP completed.
2025-07-14 09:12:13.407 +04:00 [DBG] Connection id "0HNE2IJ2KHKRP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:12:13.418 +04:00 [DBG] Connection id "0HNE2IJ2KHKRP" stopped.
2025-07-14 09:12:18.546 +04:00 [DBG] Connection id "0HNE2IJ2KHKRQ" accepted.
2025-07-14 09:12:18.548 +04:00 [DBG] Connection id "0HNE2IJ2KHKRQ" started.
2025-07-14 09:12:18.557 +04:00 [DBG] Connection 0HNE2IJ2KHKRQ established using the following protocol: "Tls13"
2025-07-14 09:12:18.560 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Companies/1 - null null
2025-07-14 09:12:18.563 +04:00 [DBG] 1 candidate(s) found for the request path '/Companies/1'
2025-07-14 09:12:18.566 +04:00 [DBG] Endpoint 'HTTP: GET /Companies/{CompanyId:int}' with route pattern '/Companies/{CompanyId:int}' is valid for the request path '/Companies/1'
2025-07-14 09:12:18.568 +04:00 [DBG] Request matched endpoint 'HTTP: GET /Companies/{CompanyId:int}'
2025-07-14 09:12:18.570 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:12:18.571 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:12:18.572 +04:00 [INF] Executing endpoint 'HTTP: GET /Companies/{CompanyId:int}'
2025-07-14 09:12:18.588 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:12:18.593 +04:00 [DBG] Compiling query expression: 
'DbSet<Company>()
    .FirstOrDefault(c => c.Id == __request_CompanyId_0)'
2025-07-14 09:12:18.609 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Company>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Company>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Company.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Company.Name (string) Required, 1] }
            SELECT TOP(1) c.Id, c.Name
            FROM Companies AS c
            WHERE c.Id == @__request_CompanyId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Company.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Company.Name (string) Required, 1] }
            SELECT TOP(1) c.Id, c.Name
            FROM Companies AS c
            WHERE c.Id == @__request_CompanyId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Company entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Company instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Company);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Company.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Company)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")]: 
                            {
                                return 
                                {
                                    Company instance;
                                    instance = new Company();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Company)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 09:12:18.619 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:12:18.621 +04:00 [DBG] Created DbConnection. (2ms).
2025-07-14 09:12:18.624 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:18.626 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:18.628 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:12:18.632 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-07-14 09:12:18.635 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-07-14 09:12:18.637 +04:00 [DBG] Executing DbCommand [Parameters=[@__request_CompanyId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[Id] = @__request_CompanyId_0
2025-07-14 09:12:18.643 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_CompanyId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Companies] AS [c]
WHERE [c].[Id] = @__request_CompanyId_0
2025-07-14 09:12:18.648 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:12:18.651 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:18.653 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 5ms reading results.
2025-07-14 09:12:18.656 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:18.658 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (2ms).
2025-07-14 09:12:18.661 +04:00 [INF] Executed endpoint 'HTTP: GET /Companies/{CompanyId:int}'
2025-07-14 09:12:18.665 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Companies/1   Responded with [200] in 93ms
2025-07-14 09:12:18.666 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:12:18.668 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:12:18.671 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 09:12:18.672 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Companies/1 - 200 127 application/json 112.3884ms
2025-07-14 09:12:23.411 +04:00 [DBG] Connection id "0HNE2IJ2KHKRQ" received FIN.
2025-07-14 09:12:23.412 +04:00 [DBG] Connection id "0HNE2IJ2KHKRQ" is closed. The last processed stream ID was 1.
2025-07-14 09:12:23.412 +04:00 [DBG] The connection queue processing loop for 0HNE2IJ2KHKRQ completed.
2025-07-14 09:12:23.414 +04:00 [DBG] Connection id "0HNE2IJ2KHKRQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:12:23.419 +04:00 [DBG] Connection id "0HNE2IJ2KHKRQ" stopped.
2025-07-14 09:15:09.349 +04:00 [INF] Application is shutting down...
2025-07-14 09:15:09.350 +04:00 [DBG] Hosting stopping
2025-07-14 09:15:09.357 +04:00 [DBG] Hosting stopped
2025-07-14 09:15:34.204 +04:00 [INF] Starting web host
2025-07-14 09:15:34.386 +04:00 [INF] Options were configured
2025-07-14 09:15:34.393 +04:00 [INF] Infrastructure services registered
2025-07-14 09:15:34.408 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 09:15:34.660 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 09:15:34.701 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 09:15:34.838 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 09:15:34.988 +04:00 [FTL] The application failed to start correctly
System.InvalidOperationException: Unable to resolve service for type 'OrderApp.Web.Companies.ICompanyEndpointService' while attempting to activate 'OrderApp.Web.Companies.Create.Create'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method363(Closure, IServiceProvider, Object[])
   at FastEndpoints.ServiceResolver.CreateInstance(Type type, IServiceProvider serviceProvider)
   at FastEndpoints.EndpointFactory.Create(EndpointDefinition definition, HttpContext ctx)
   at FastEndpoints.MainExtensions.MapFastEndpoints(IEndpointRouteBuilder app, Action`1 configAction)
   at FastEndpoints.MainExtensions.UseFastEndpoints(IApplicationBuilder app, Action`1 configAction)
   at OrderApp.Web.Configurations.MiddlewareConfig.UseAppMiddlewareAndSeedDatabase(WebApplication app) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Configurations\MiddlewareConfig.cs:line 21
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 132
2025-07-14 09:16:36.227 +04:00 [INF] Starting web host
2025-07-14 09:16:36.400 +04:00 [INF] Options were configured
2025-07-14 09:16:36.406 +04:00 [INF] Infrastructure services registered
2025-07-14 09:16:36.417 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 09:16:36.641 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 09:16:36.672 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 09:16:36.783 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 09:16:36.923 +04:00 [FTL] The application failed to start correctly
Autofac.Core.DependencyResolutionException: An exception was thrown while activating OrderApp.Web.Companies.CompanyEndpointService.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found on type 'OrderApp.Web.Companies.CompanyEndpointService' can be invoked with the available services and parameters:
Cannot resolve parameter 'Ardalis.SharedKernel.IRepository`1[OrderApp.Core.CompanyAggregate.Company] _companyRepository' of constructor 'Void .ctor(Ardalis.SharedKernel.IRepository`1[OrderApp.Core.CompanyAggregate.Company], AutoMapper.IMapper)'.

See https://autofac.rtfd.io/help/no-constructors-bindable for more info.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.<>c__DisplayClass5_0.<Execute>b__0()
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid id, Func`1 creator)
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid primaryId, Nullable`1 qualifyingId, Func`1 creator)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at lambda_method364(Closure, IServiceProvider, Object[])
   at FastEndpoints.ServiceResolver.CreateInstance(Type type, IServiceProvider serviceProvider)
   at FastEndpoints.EndpointFactory.Create(EndpointDefinition definition, HttpContext ctx)
   at FastEndpoints.MainExtensions.MapFastEndpoints(IEndpointRouteBuilder app, Action`1 configAction)
   at FastEndpoints.MainExtensions.UseFastEndpoints(IApplicationBuilder app, Action`1 configAction)
   at OrderApp.Web.Configurations.MiddlewareConfig.UseAppMiddlewareAndSeedDatabase(WebApplication app) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Configurations\MiddlewareConfig.cs:line 21
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 132
2025-07-14 09:19:38.492 +04:00 [INF] Starting web host
2025-07-14 09:19:38.684 +04:00 [INF] Options were configured
2025-07-14 09:19:38.689 +04:00 [INF] Infrastructure services registered
2025-07-14 09:19:38.701 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 09:19:38.965 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 09:19:39.003 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 09:19:39.139 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 09:19:39.310 +04:00 [FTL] The application failed to start correctly
Autofac.Core.DependencyResolutionException: An exception was thrown while activating OrderApp.Web.Companies.CompanyEndpointService.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found on type 'OrderApp.Web.Companies.CompanyEndpointService' can be invoked with the available services and parameters:
Cannot resolve parameter 'Ardalis.SharedKernel.IRepository`1[OrderApp.Core.CompanyAggregate.Company] _companyRepository' of constructor 'Void .ctor(Ardalis.SharedKernel.IRepository`1[OrderApp.Core.CompanyAggregate.Company], AutoMapper.IMapper)'.

See https://autofac.rtfd.io/help/no-constructors-bindable for more info.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<>c__DisplayClass14_0.<UseSingleConstructorActivation>b__0(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Extensions.DependencyInjection.KeyedServiceMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.<>c__DisplayClass5_0.<Execute>b__0()
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid id, Func`1 creator)
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid primaryId, Nullable`1 qualifyingId, Func`1 creator)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext context)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext context)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest& request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest& request)
   at Autofac.Core.Lifetime.LifetimeScope.Autofac.IComponentContext.ResolveComponent(ResolveRequest& request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at lambda_method364(Closure, IServiceProvider, Object[])
   at FastEndpoints.ServiceResolver.CreateInstance(Type type, IServiceProvider serviceProvider)
   at FastEndpoints.EndpointFactory.Create(EndpointDefinition definition, HttpContext ctx)
   at FastEndpoints.MainExtensions.MapFastEndpoints(IEndpointRouteBuilder app, Action`1 configAction)
   at FastEndpoints.MainExtensions.UseFastEndpoints(IApplicationBuilder app, Action`1 configAction)
   at OrderApp.Web.Configurations.MiddlewareConfig.UseAppMiddlewareAndSeedDatabase(WebApplication app) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Configurations\MiddlewareConfig.cs:line 21
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 132
2025-07-14 09:24:46.736 +04:00 [INF] Starting web host
2025-07-14 09:24:46.908 +04:00 [INF] Options were configured
2025-07-14 09:24:46.915 +04:00 [INF] Infrastructure services registered
2025-07-14 09:24:46.930 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 09:24:47.204 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 09:24:47.252 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 09:24:47.437 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 09:24:47.586 +04:00 [INF] Registered 26 endpoints in 643 milliseconds.
2025-07-14 09:24:48.194 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 09:24:48.234 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 09:24:48.305 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:24:48.378 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 09:24:48.546 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 09:24:48.595 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:24:48.620 +04:00 [DBG] Created DbConnection. (24ms).
2025-07-14 09:24:48.625 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:24:48.818 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:24:48.824 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:24:48.831 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-07-14 09:24:48.835 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-07-14 09:24:48.845 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:24:48.890 +04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:24:48.907 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:24:48.915 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 17ms reading results.
2025-07-14 09:24:48.920 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:24:48.926 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (5ms).
2025-07-14 09:24:48.931 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:24:48.936 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:24:48.939 +04:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-07-14 09:24:48.943 +04:00 [DBG] Hosting starting
2025-07-14 09:24:48.960 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 09:24:48.991 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 09:24:49.002 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 09:24:49.018 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 09:24:49.023 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 09:24:49.026 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 09:24:49.028 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 09:24:49.034 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 09:24:49.038 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 09:24:49.042 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 09:24:49.044 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 09:24:49.119 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 09:24:49.121 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 09:24:49.196 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 09:24:49.198 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 09:24:49.199 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 09:24:49.200 +04:00 [INF] Hosting environment: Development
2025-07-14 09:24:49.201 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 09:24:49.202 +04:00 [DBG] Hosting started
2025-07-14 09:24:54.438 +04:00 [DBG] Connection id "0HNE2IR1UNIVI" accepted.
2025-07-14 09:24:54.441 +04:00 [DBG] Connection id "0HNE2IR1UNIVI" started.
2025-07-14 09:24:54.475 +04:00 [DBG] Connection 0HNE2IR1UNIVI established using the following protocol: "Tls13"
2025-07-14 09:24:54.535 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 09:24:54.582 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 09:24:54.589 +04:00 [DBG] Request did not match any endpoints
2025-07-14 09:24:54.670 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:24:54.771 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 236.5361ms
2025-07-14 09:24:55.199 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 09:24:55.206 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 09:24:55.210 +04:00 [DBG] Request did not match any endpoints
2025-07-14 09:24:55.215 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:24:55.227 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 09:24:55.243 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 09:24:55.943 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 745.5097ms
2025-07-14 09:25:04.616 +04:00 [DBG] Connection id "0HNE2IR1UNIVI" received FIN.
2025-07-14 09:25:04.628 +04:00 [DBG] The connection queue processing loop for 0HNE2IR1UNIVI completed.
2025-07-14 09:25:04.628 +04:00 [DBG] Connection id "0HNE2IR1UNIVI" is closed. The last processed stream ID was 3.
2025-07-14 09:25:04.645 +04:00 [DBG] Connection id "0HNE2IR1UNIVI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:25:04.665 +04:00 [DBG] Connection id "0HNE2IR1UNIVI" stopped.
2025-07-14 09:25:09.362 +04:00 [DBG] Connection id "0HNE2IR1UNIVJ" accepted.
2025-07-14 09:25:09.364 +04:00 [DBG] Connection id "0HNE2IR1UNIVJ" started.
2025-07-14 09:25:09.369 +04:00 [DBG] Connection 0HNE2IR1UNIVJ established using the following protocol: "Tls13"
2025-07-14 09:25:09.373 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Companies - application/json 22
2025-07-14 09:25:09.383 +04:00 [DBG] 1 candidate(s) found for the request path '/Companies'
2025-07-14 09:25:09.385 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Companies'
2025-07-14 09:25:09.389 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:25:09.400 +04:00 [DBG] Connection id "0HNE2IR1UNIVJ", Request id "0HNE2IR1UNIVJ:00000001": started reading request body.
2025-07-14 09:25:09.402 +04:00 [DBG] Connection id "0HNE2IR1UNIVJ", Request id "0HNE2IR1UNIVJ:00000001": done reading request body.
2025-07-14 09:25:09.406 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:25:09.409 +04:00 [INF] Executing endpoint 'HTTP: POST /Companies'
2025-07-14 09:25:09.532 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:25:09.571 +04:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Company.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:25:09.634 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:25:09.643 +04:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-07-14 09:25:09.652 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:25:09.666 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:25:09.672 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:25:09.674 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:25:09.773 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:25:09.776 +04:00 [DBG] Created DbConnection. (2ms).
2025-07-14 09:25:09.778 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:25:09.782 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:25:09.788 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:25:09.791 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-07-14 09:25:09.799 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-07-14 09:25:09.805 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Companies] ([Name])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-07-14 09:25:09.840 +04:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Companies] ([Name])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-07-14 09:25:09.859 +04:00 [DBG] The foreign key property 'Company.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-14 09:25:09.870 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:25:09.873 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 28ms reading results.
2025-07-14 09:25:09.877 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:25:09.880 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (2ms).
2025-07-14 09:25:09.896 +04:00 [DBG] An entity of type 'Company' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:25:09.902 +04:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-07-14 09:25:09.906 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:25:09.907 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:25:09.921 +04:00 [INF] Executed endpoint 'HTTP: POST /Companies'
2025-07-14 09:25:09.945 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/Companies  {
  "name": "Comp A"
} Responded with [204] in 538ms
2025-07-14 09:25:09.950 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:25:09.955 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:25:09.957 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 09:25:09.960 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Companies - 204 null null 586.245ms
2025-07-14 09:25:14.625 +04:00 [DBG] Connection id "0HNE2IR1UNIVJ" received FIN.
2025-07-14 09:25:14.628 +04:00 [DBG] Connection id "0HNE2IR1UNIVJ" is closed. The last processed stream ID was 1.
2025-07-14 09:25:14.628 +04:00 [DBG] The connection queue processing loop for 0HNE2IR1UNIVJ completed.
2025-07-14 09:25:14.633 +04:00 [DBG] Connection id "0HNE2IR1UNIVJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:25:14.655 +04:00 [DBG] Connection id "0HNE2IR1UNIVJ" stopped.
2025-07-14 09:25:31.076 +04:00 [DBG] Connection id "0HNE2IR1UNIVK" accepted.
2025-07-14 09:25:31.078 +04:00 [DBG] Connection id "0HNE2IR1UNIVK" started.
2025-07-14 09:25:31.100 +04:00 [DBG] Connection 0HNE2IR1UNIVK established using the following protocol: "Tls13"
2025-07-14 09:25:31.111 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Companies - null null
2025-07-14 09:25:31.114 +04:00 [DBG] 1 candidate(s) found for the request path '/Companies'
2025-07-14 09:25:31.123 +04:00 [DBG] Request matched endpoint 'HTTP: GET /Companies'
2025-07-14 09:25:31.125 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:25:31.128 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:25:31.131 +04:00 [INF] Executing endpoint 'HTTP: GET /Companies'
2025-07-14 09:25:31.238 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:25:31.245 +04:00 [DBG] Compiling query expression: 
'DbSet<Company>()'
2025-07-14 09:25:31.306 +04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Company>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Company.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Company.Name (string) Required, 1] }
        SELECT c.Id, c.Name
        FROM Companies AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Company.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Company.Name (string) Required, 1] }
        SELECT c.Id, c.Name
        FROM Companies AS c, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Company entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Company instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Company);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Company.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Company)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")]: 
                        {
                            return 
                            {
                                Company instance;
                                instance = new Company();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Name>k__BackingField = dataReader.GetString(1);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Company)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: OrderApp.Infrastructure.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-07-14 09:25:31.321 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:25:31.323 +04:00 [DBG] Created DbConnection. (2ms).
2025-07-14 09:25:31.327 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:25:31.330 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:25:31.333 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:25:31.335 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 09:25:31.337 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-07-14 09:25:31.339 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Companies] AS [c]
2025-07-14 09:25:31.347 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Companies] AS [c]
2025-07-14 09:25:31.356 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:25:31.362 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:25:31.365 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:25:31.367 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:25:31.369 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 17ms reading results.
2025-07-14 09:25:31.372 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:25:31.374 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (1ms).
2025-07-14 09:25:31.389 +04:00 [INF] Executed endpoint 'HTTP: GET /Companies'
2025-07-14 09:25:31.449 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Companies   Responded with [200] in 320ms
2025-07-14 09:25:31.451 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:25:31.453 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:25:31.455 +04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-07-14 09:25:31.458 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Companies - 200 316 application/json 347.1126ms
2025-07-14 09:25:34.629 +04:00 [DBG] Connection id "0HNE2IR1UNIVK" received FIN.
2025-07-14 09:25:34.631 +04:00 [DBG] Connection id "0HNE2IR1UNIVK" is closed. The last processed stream ID was 1.
2025-07-14 09:25:34.631 +04:00 [DBG] The connection queue processing loop for 0HNE2IR1UNIVK completed.
2025-07-14 09:25:34.633 +04:00 [DBG] Connection id "0HNE2IR1UNIVK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:25:34.644 +04:00 [DBG] Connection id "0HNE2IR1UNIVK" stopped.
2025-07-14 09:26:13.263 +04:00 [INF] Application is shutting down...
2025-07-14 09:26:13.264 +04:00 [DBG] Hosting stopping
2025-07-14 09:26:13.272 +04:00 [DBG] Hosting stopped
2025-07-14 09:26:16.960 +04:00 [INF] Starting web host
2025-07-14 09:26:17.128 +04:00 [INF] Options were configured
2025-07-14 09:26:17.134 +04:00 [INF] Infrastructure services registered
2025-07-14 09:26:17.149 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 09:26:17.391 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 09:26:17.422 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 09:26:17.541 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 09:26:17.692 +04:00 [INF] Registered 26 endpoints in 533 milliseconds.
2025-07-14 09:26:18.375 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 09:26:18.420 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 09:26:18.529 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:26:18.575 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 09:26:18.743 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 09:26:18.782 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:26:18.799 +04:00 [DBG] Created DbConnection. (15ms).
2025-07-14 09:26:18.805 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:26:18.963 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:26:18.968 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:26:18.975 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-07-14 09:26:18.979 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-07-14 09:26:18.990 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:26:19.030 +04:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:26:19.047 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:26:19.056 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 17ms reading results.
2025-07-14 09:26:19.064 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:26:19.073 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (8ms).
2025-07-14 09:26:19.077 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:26:19.082 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:26:19.086 +04:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-07-14 09:26:19.091 +04:00 [DBG] Hosting starting
2025-07-14 09:26:19.111 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 09:26:19.148 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 09:26:19.157 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 09:26:19.166 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 09:26:19.173 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 09:26:19.174 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 09:26:19.176 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 09:26:19.179 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 09:26:19.181 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 09:26:19.183 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 09:26:19.185 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 09:26:19.240 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 09:26:19.241 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 09:26:19.282 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 09:26:19.284 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 09:26:19.287 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 09:26:19.289 +04:00 [INF] Hosting environment: Development
2025-07-14 09:26:19.293 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 09:26:19.296 +04:00 [DBG] Hosting started
2025-07-14 09:26:19.347 +04:00 [DBG] Connection id "0HNE2IRR8G2UV" accepted.
2025-07-14 09:26:19.352 +04:00 [DBG] Connection id "0HNE2IRR8G2UV" started.
2025-07-14 09:26:19.390 +04:00 [DBG] Connection id "0HNE2IRR8G2V0" accepted.
2025-07-14 09:26:19.393 +04:00 [DBG] Connection id "0HNE2IRR8G2V0" started.
2025-07-14 09:26:19.395 +04:00 [DBG] Connection 0HNE2IRR8G2UV established using the following protocol: "Tls13"
2025-07-14 09:26:19.398 +04:00 [DBG] Connection 0HNE2IRR8G2V0 established using the following protocol: "Tls13"
2025-07-14 09:26:19.442 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 09:26:19.493 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 09:26:19.497 +04:00 [DBG] Request did not match any endpoints
2025-07-14 09:26:19.564 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:26:19.665 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 222.8529ms
2025-07-14 09:26:19.713 +04:00 [DBG] Connection id "0HNE2IRR8G2V0" received FIN.
2025-07-14 09:26:19.713 +04:00 [DBG] Connection id "0HNE2IRR8G2UV" received FIN.
2025-07-14 09:26:19.728 +04:00 [DBG] Connection id "0HNE2IRR8G2V0" is closed. The last processed stream ID was 0.
2025-07-14 09:26:19.728 +04:00 [DBG] Connection id "0HNE2IRR8G2UV" is closed. The last processed stream ID was 1.
2025-07-14 09:26:19.730 +04:00 [DBG] The connection queue processing loop for 0HNE2IRR8G2V0 completed.
2025-07-14 09:26:19.730 +04:00 [DBG] The connection queue processing loop for 0HNE2IRR8G2UV completed.
2025-07-14 09:26:19.731 +04:00 [DBG] Connection id "0HNE2IRR8G2V0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:26:19.732 +04:00 [DBG] Connection id "0HNE2IRR8G2UV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:26:19.745 +04:00 [DBG] Connection id "0HNE2IRR8G2V0" stopped.
2025-07-14 09:26:19.757 +04:00 [DBG] Connection id "0HNE2IRR8G2UV" stopped.
2025-07-14 09:26:20.218 +04:00 [DBG] Connection id "0HNE2IRR8G2V1" accepted.
2025-07-14 09:26:20.223 +04:00 [DBG] Connection id "0HNE2IRR8G2V1" started.
2025-07-14 09:26:20.230 +04:00 [DBG] Connection 0HNE2IRR8G2V1 established using the following protocol: "Tls13"
2025-07-14 09:26:20.238 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 09:26:20.249 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 09:26:20.251 +04:00 [DBG] Request did not match any endpoints
2025-07-14 09:26:20.254 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:26:20.265 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 09:26:20.282 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 09:26:20.957 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 718.5938ms
2025-07-14 09:26:29.712 +04:00 [DBG] Connection id "0HNE2IRR8G2V1" received FIN.
2025-07-14 09:26:29.715 +04:00 [DBG] Connection id "0HNE2IRR8G2V1" is closed. The last processed stream ID was 1.
2025-07-14 09:26:29.715 +04:00 [DBG] The connection queue processing loop for 0HNE2IRR8G2V1 completed.
2025-07-14 09:26:29.718 +04:00 [DBG] Connection id "0HNE2IRR8G2V1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:26:29.737 +04:00 [DBG] Connection id "0HNE2IRR8G2V1" stopped.
2025-07-14 09:26:30.419 +04:00 [DBG] Connection id "0HNE2IRR8G2V2" accepted.
2025-07-14 09:26:30.420 +04:00 [DBG] Connection id "0HNE2IRR8G2V2" started.
2025-07-14 09:26:30.424 +04:00 [DBG] Connection 0HNE2IRR8G2V2 established using the following protocol: "Tls13"
2025-07-14 09:26:30.428 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Companies - application/json 22
2025-07-14 09:26:30.441 +04:00 [DBG] 1 candidate(s) found for the request path '/Companies'
2025-07-14 09:26:30.444 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Companies'
2025-07-14 09:26:30.446 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:26:30.454 +04:00 [DBG] Connection id "0HNE2IRR8G2V2", Request id "0HNE2IRR8G2V2:00000001": started reading request body.
2025-07-14 09:26:30.458 +04:00 [DBG] Connection id "0HNE2IRR8G2V2", Request id "0HNE2IRR8G2V2:00000001": done reading request body.
2025-07-14 09:26:30.461 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:26:30.464 +04:00 [INF] Executing endpoint 'HTTP: POST /Companies'
2025-07-14 09:26:30.573 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:26:30.616 +04:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Company.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:26:30.678 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:26:30.689 +04:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-07-14 09:26:30.696 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:26:30.709 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:26:30.714 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:26:30.715 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:26:30.801 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:26:30.803 +04:00 [DBG] Created DbConnection. (2ms).
2025-07-14 09:26:30.806 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:26:30.809 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:26:30.815 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:26:30.818 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-07-14 09:26:30.823 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-07-14 09:26:30.828 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Companies] ([Name])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-07-14 09:26:30.862 +04:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Companies] ([Name])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2025-07-14 09:26:30.883 +04:00 [DBG] The foreign key property 'Company.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-14 09:26:30.895 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:26:30.897 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 30ms reading results.
2025-07-14 09:26:30.903 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:26:30.906 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (3ms).
2025-07-14 09:26:30.925 +04:00 [DBG] An entity of type 'Company' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:26:30.931 +04:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-07-14 09:26:30.935 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:26:30.938 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:26:30.960 +04:00 [INF] Executed endpoint 'HTTP: POST /Companies'
2025-07-14 09:26:31.046 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/Companies  {
  "name": "Comp B"
} Responded with [200] in 582ms
2025-07-14 09:26:31.052 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:26:31.059 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:26:31.062 +04:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-07-14 09:26:31.066 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Companies - 200 124 application/json 637.7104ms
2025-07-14 09:26:39.725 +04:00 [DBG] Connection id "0HNE2IRR8G2V2" received FIN.
2025-07-14 09:26:39.727 +04:00 [DBG] Connection id "0HNE2IRR8G2V2" is closed. The last processed stream ID was 1.
2025-07-14 09:26:39.727 +04:00 [DBG] The connection queue processing loop for 0HNE2IRR8G2V2 completed.
2025-07-14 09:26:39.729 +04:00 [DBG] Connection id "0HNE2IRR8G2V2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:26:39.739 +04:00 [DBG] Connection id "0HNE2IRR8G2V2" stopped.
2025-07-14 09:26:51.110 +04:00 [DBG] Connection id "0HNE2IRR8G2V3" accepted.
2025-07-14 09:26:51.112 +04:00 [DBG] Connection id "0HNE2IRR8G2V3" started.
2025-07-14 09:26:51.119 +04:00 [DBG] Connection 0HNE2IRR8G2V3 established using the following protocol: "Tls13"
2025-07-14 09:26:51.122 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Products - null null
2025-07-14 09:26:51.126 +04:00 [DBG] 1 candidate(s) found for the request path '/Products'
2025-07-14 09:26:51.128 +04:00 [DBG] Request matched endpoint 'HTTP: GET /Products'
2025-07-14 09:26:51.131 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:26:51.134 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:26:51.137 +04:00 [INF] Executing endpoint 'HTTP: GET /Products'
2025-07-14 09:26:51.244 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:26:51.257 +04:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Include(x => x.Company)'
2025-07-14 09:26:51.282 +04:00 [DBG] Including navigation: 'Product.Company'.
2025-07-14 09:26:51.406 +04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Product>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CompanyId (int) Required FK Index, 1], [Property: Product.Name (string) Required, 2], [Property: Product.Price (decimal) Required, 3] }
            1 -> Dictionary<IProperty, int> { [Property: Company.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Company.Name (string) Required, 5] }
        SELECT p.Id, p.CompanyId, p.Name, p.Price, c.Id, c.Name
        FROM Products AS p
        INNER JOIN Companies AS c ON p.CompanyId == c.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CompanyId (int) Required FK Index, 1], [Property: Product.Name (string) Required, 2], [Property: Product.Price (decimal) Required, 3] }
            1 -> Dictionary<IProperty, int> { [Property: Company.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Company.Name (string) Required, 5] }
        SELECT p.Id, p.CompanyId, p.Name, p.Price, c.Id, c.Name
        FROM Products AS p
        INNER JOIN Companies AS c ON p.CompanyId == c.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Product entity;
        Company entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Product instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Product);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Product.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Product)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product")]: 
                        {
                            return 
                            {
                                Product instance;
                                instance = new Product();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CompanyId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Name>k__BackingField = dataReader.GetString(2);
                                instance.<Price>k__BackingField = dataReader.GetDecimal(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Product)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Company instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Company);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Company.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(4) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Company)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")]: 
                        {
                            return 
                            {
                                Company instance;
                                instance = new Company();
                                instance.<Id>k__BackingField = dataReader.GetInt32(4);
                                instance.<Name>k__BackingField = dataReader.GetString(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Company)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Product, Product, Company>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Product.Company (Company) ToPrincipal Company | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product").FindNavigation("Company")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{7}, namelessParameter{8}) => 
            {
                return namelessParameter{7}.<Company>k__BackingField = namelessParameter{8};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: OrderApp.Infrastructure.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-07-14 09:26:51.431 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:26:51.433 +04:00 [DBG] Created DbConnection. (2ms).
2025-07-14 09:26:51.436 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:26:51.439 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:26:51.443 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:26:51.446 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-07-14 09:26:51.449 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-07-14 09:26:51.453 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CompanyId], [p].[Name], [p].[Price], [c].[Id], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Companies] AS [c] ON [p].[CompanyId] = [c].[Id]
2025-07-14 09:26:51.476 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CompanyId], [p].[Name], [p].[Price], [c].[Id], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Companies] AS [c] ON [p].[CompanyId] = [c].[Id]
2025-07-14 09:26:51.496 +04:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:26:51.518 +04:00 [DBG] The navigation 'Product.Company' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:26:51.523 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:26:51.528 +04:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:26:51.532 +04:00 [DBG] The navigation 'Product.Company' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:26:51.535 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:26:51.539 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:26:51.542 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 61ms reading results.
2025-07-14 09:26:51.546 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:26:51.549 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (3ms).
2025-07-14 09:26:51.582 +04:00 [INF] Executed endpoint 'HTTP: GET /Products'
2025-07-14 09:26:51.603 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Products   Responded with [200] in 468ms
2025-07-14 09:26:51.605 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:26:51.607 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:26:51.609 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 09:26:51.611 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Products - 200 522 application/json 489.8373ms
2025-07-14 09:26:59.764 +04:00 [DBG] Connection id "0HNE2IRR8G2V3" received FIN.
2025-07-14 09:26:59.771 +04:00 [DBG] Connection id "0HNE2IRR8G2V3" is closed. The last processed stream ID was 1.
2025-07-14 09:26:59.771 +04:00 [DBG] The connection queue processing loop for 0HNE2IRR8G2V3 completed.
2025-07-14 09:26:59.778 +04:00 [DBG] Connection id "0HNE2IRR8G2V3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:26:59.794 +04:00 [DBG] Connection id "0HNE2IRR8G2V3" stopped.
2025-07-14 09:27:04.351 +04:00 [DBG] Connection id "0HNE2IRR8G2V4" accepted.
2025-07-14 09:27:04.353 +04:00 [DBG] Connection id "0HNE2IRR8G2V4" started.
2025-07-14 09:27:04.356 +04:00 [DBG] Connection 0HNE2IRR8G2V4 established using the following protocol: "Tls13"
2025-07-14 09:27:04.360 +04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Products/1 - application/json 54
2025-07-14 09:27:04.367 +04:00 [DBG] 1 candidate(s) found for the request path '/Products/1'
2025-07-14 09:27:04.371 +04:00 [DBG] Endpoint 'HTTP: PUT /Products/{id}' with route pattern '/Products/{id}' is valid for the request path '/Products/1'
2025-07-14 09:27:04.373 +04:00 [DBG] Request matched endpoint 'HTTP: PUT /Products/{id}'
2025-07-14 09:27:04.374 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:27:04.375 +04:00 [DBG] Connection id "0HNE2IRR8G2V4", Request id "0HNE2IRR8G2V4:00000001": started reading request body.
2025-07-14 09:27:04.377 +04:00 [DBG] Connection id "0HNE2IRR8G2V4", Request id "0HNE2IRR8G2V4:00000001": done reading request body.
2025-07-14 09:27:04.379 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:27:04.380 +04:00 [INF] Executing endpoint 'HTTP: PUT /Products/{id}'
2025-07-14 09:27:04.407 +04:00 [INF] Executed endpoint 'HTTP: PUT /Products/{id}'
2025-07-14 09:27:04.417 +04:00 [INF] Source:[::1] Request: PUT https localhost:57679/Products/1  {
  "name": "string",
  "price": 1,
  "companyId": 1
} Responded with [400] in 41ms
2025-07-14 09:27:04.419 +04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Products/1 - 400 394 application/json 59.0025ms
2025-07-14 09:27:09.765 +04:00 [DBG] Connection id "0HNE2IRR8G2V4" received FIN.
2025-07-14 09:27:09.769 +04:00 [DBG] Connection id "0HNE2IRR8G2V4" is closed. The last processed stream ID was 1.
2025-07-14 09:27:09.769 +04:00 [DBG] The connection queue processing loop for 0HNE2IRR8G2V4 completed.
2025-07-14 09:27:09.773 +04:00 [DBG] Connection id "0HNE2IRR8G2V4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:27:09.790 +04:00 [DBG] Connection id "0HNE2IRR8G2V4" stopped.
2025-07-14 09:28:08.380 +04:00 [DBG] Connection id "0HNE2IRR8G2V5" accepted.
2025-07-14 09:28:08.382 +04:00 [DBG] Connection id "0HNE2IRR8G2V5" started.
2025-07-14 09:28:08.390 +04:00 [DBG] Connection 0HNE2IRR8G2V5 established using the following protocol: "Tls13"
2025-07-14 09:28:08.393 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Products/1 - null null
2025-07-14 09:28:08.396 +04:00 [DBG] 1 candidate(s) found for the request path '/Products/1'
2025-07-14 09:28:08.399 +04:00 [DBG] Endpoint 'HTTP: GET /Products/{id}' with route pattern '/Products/{id}' is valid for the request path '/Products/1'
2025-07-14 09:28:08.401 +04:00 [DBG] Request matched endpoint 'HTTP: GET /Products/{id}'
2025-07-14 09:28:08.403 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:28:08.407 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:28:08.409 +04:00 [INF] Executing endpoint 'HTTP: GET /Products/{id}'
2025-07-14 09:28:08.425 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:28:08.435 +04:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Include(x => x.Company)
    .FirstOrDefault(x => x.Id == __request_Id_0)'
2025-07-14 09:28:08.443 +04:00 [DBG] Including navigation: 'Product.Company'.
2025-07-14 09:28:08.462 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Product>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CompanyId (int) Required FK Index, 1], [Property: Product.Name (string) Required, 2], [Property: Product.Price (decimal) Required, 3] }
                1 -> Dictionary<IProperty, int> { [Property: Company.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Company.Name (string) Required, 5] }
            SELECT TOP(1) p.Id, p.CompanyId, p.Name, p.Price, c.Id, c.Name
            FROM Products AS p
            INNER JOIN Companies AS c ON p.CompanyId == c.Id
            WHERE p.Id == @__request_Id_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CompanyId (int) Required FK Index, 1], [Property: Product.Name (string) Required, 2], [Property: Product.Price (decimal) Required, 3] }
                1 -> Dictionary<IProperty, int> { [Property: Company.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Company.Name (string) Required, 5] }
            SELECT TOP(1) p.Id, p.CompanyId, p.Name, p.Price, c.Id, c.Name
            FROM Products AS p
            INNER JOIN Companies AS c ON p.CompanyId == c.Id
            WHERE p.Id == @__request_Id_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Product entity;
            Company entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Product instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Product);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Product.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Product)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product")]: 
                            {
                                return 
                                {
                                    Product instance;
                                    instance = new Product();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CompanyId>k__BackingField = dataReader.GetInt32(1);
                                    instance.<Name>k__BackingField = dataReader.GetString(2);
                                    instance.<Price>k__BackingField = dataReader.GetDecimal(3);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Product)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Company instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Company);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Company.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(4) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Company)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")]: 
                            {
                                return 
                                {
                                    Company instance;
                                    instance = new Company();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(4);
                                    instance.<Name>k__BackingField = dataReader.GetString(5);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Company)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Product, Product, Company>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Product.Company (Company) ToPrincipal Company | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product").FindNavigation("Company")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{7}, namelessParameter{8}) => 
                {
                    return namelessParameter{7}.<Company>k__BackingField = namelessParameter{8};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 09:28:08.489 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:28:08.491 +04:00 [DBG] Created DbConnection. (1ms).
2025-07-14 09:28:08.494 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:28:08.496 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:28:08.498 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:28:08.500 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 09:28:08.502 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-07-14 09:28:08.505 +04:00 [DBG] Executing DbCommand [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CompanyId], [p].[Name], [p].[Price], [c].[Id], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Companies] AS [c] ON [p].[CompanyId] = [c].[Id]
WHERE [p].[Id] = @__request_Id_0
2025-07-14 09:28:08.523 +04:00 [INF] Executed DbCommand (19ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CompanyId], [p].[Name], [p].[Price], [c].[Id], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Companies] AS [c] ON [p].[CompanyId] = [c].[Id]
WHERE [p].[Id] = @__request_Id_0
2025-07-14 09:28:08.528 +04:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:28:08.531 +04:00 [DBG] The navigation 'Product.Company' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:28:08.533 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:28:08.535 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:28:08.538 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 10ms reading results.
2025-07-14 09:28:08.541 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:28:08.544 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (2ms).
2025-07-14 09:28:08.547 +04:00 [INF] Executed endpoint 'HTTP: GET /Products/{id}'
2025-07-14 09:28:08.550 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Products/1   Responded with [200] in 142ms
2025-07-14 09:28:08.551 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:28:08.554 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:28:08.557 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 09:28:08.560 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Products/1 - 200 236 application/json 167.4278ms
2025-07-14 09:28:09.853 +04:00 [DBG] Connection id "0HNE2IRR8G2V5" received FIN.
2025-07-14 09:28:09.860 +04:00 [DBG] Connection id "0HNE2IRR8G2V5" is closed. The last processed stream ID was 1.
2025-07-14 09:28:09.860 +04:00 [DBG] The connection queue processing loop for 0HNE2IRR8G2V5 completed.
2025-07-14 09:28:09.869 +04:00 [DBG] Connection id "0HNE2IRR8G2V5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:28:09.898 +04:00 [DBG] Connection id "0HNE2IRR8G2V5" stopped.
2025-07-14 09:28:22.692 +04:00 [DBG] Connection id "0HNE2IRR8G2V6" accepted.
2025-07-14 09:28:22.694 +04:00 [DBG] Connection id "0HNE2IRR8G2V6" started.
2025-07-14 09:28:22.698 +04:00 [DBG] Connection 0HNE2IRR8G2V6 established using the following protocol: "Tls13"
2025-07-14 09:28:22.702 +04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Products/1 - application/json 54
2025-07-14 09:28:22.706 +04:00 [DBG] 1 candidate(s) found for the request path '/Products/1'
2025-07-14 09:28:22.708 +04:00 [DBG] Endpoint 'HTTP: PUT /Products/{id}' with route pattern '/Products/{id}' is valid for the request path '/Products/1'
2025-07-14 09:28:22.711 +04:00 [DBG] Request matched endpoint 'HTTP: PUT /Products/{id}'
2025-07-14 09:28:22.715 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:28:22.717 +04:00 [DBG] Connection id "0HNE2IRR8G2V6", Request id "0HNE2IRR8G2V6:00000001": started reading request body.
2025-07-14 09:28:22.720 +04:00 [DBG] Connection id "0HNE2IRR8G2V6", Request id "0HNE2IRR8G2V6:00000001": done reading request body.
2025-07-14 09:28:22.723 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:28:22.724 +04:00 [INF] Executing endpoint 'HTTP: PUT /Products/{id}'
2025-07-14 09:28:22.727 +04:00 [INF] Executed endpoint 'HTTP: PUT /Products/{id}'
2025-07-14 09:28:22.728 +04:00 [INF] Source:[::1] Request: PUT https localhost:57679/Products/1  {
  "name": "string",
  "price": 1,
  "companyId": 3
} Responded with [400] in 11ms
2025-07-14 09:28:22.730 +04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Products/1 - 400 394 application/json 28.1713ms
2025-07-14 09:28:29.865 +04:00 [DBG] Connection id "0HNE2IRR8G2V6" received FIN.
2025-07-14 09:28:29.870 +04:00 [DBG] Connection id "0HNE2IRR8G2V6" is closed. The last processed stream ID was 1.
2025-07-14 09:28:29.870 +04:00 [DBG] The connection queue processing loop for 0HNE2IRR8G2V6 completed.
2025-07-14 09:28:29.872 +04:00 [DBG] Connection id "0HNE2IRR8G2V6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:28:29.879 +04:00 [DBG] Connection id "0HNE2IRR8G2V6" stopped.
2025-07-14 09:28:34.432 +04:00 [DBG] Connection id "0HNE2IRR8G2V7" accepted.
2025-07-14 09:28:34.434 +04:00 [DBG] Connection id "0HNE2IRR8G2V7" started.
2025-07-14 09:28:34.439 +04:00 [DBG] Connection 0HNE2IRR8G2V7 established using the following protocol: "Tls13"
2025-07-14 09:28:34.442 +04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Products/1 - application/json 53
2025-07-14 09:28:34.446 +04:00 [DBG] 1 candidate(s) found for the request path '/Products/1'
2025-07-14 09:28:34.448 +04:00 [DBG] Endpoint 'HTTP: PUT /Products/{id}' with route pattern '/Products/{id}' is valid for the request path '/Products/1'
2025-07-14 09:28:34.453 +04:00 [DBG] Request matched endpoint 'HTTP: PUT /Products/{id}'
2025-07-14 09:28:34.456 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:28:34.459 +04:00 [DBG] Connection id "0HNE2IRR8G2V7", Request id "0HNE2IRR8G2V7:00000001": started reading request body.
2025-07-14 09:28:34.461 +04:00 [DBG] Connection id "0HNE2IRR8G2V7", Request id "0HNE2IRR8G2V7:00000001": done reading request body.
2025-07-14 09:28:34.462 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:28:34.463 +04:00 [INF] Executing endpoint 'HTTP: PUT /Products/{id}'
2025-07-14 09:28:34.465 +04:00 [INF] Executed endpoint 'HTTP: PUT /Products/{id}'
2025-07-14 09:28:34.469 +04:00 [INF] Source:[::1] Request: PUT https localhost:57679/Products/1  {
  "name": "Watch",
  "price": 1,
  "companyId": 3
} Responded with [400] in 9ms
2025-07-14 09:28:34.472 +04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Products/1 - 400 394 application/json 29.8827ms
2025-07-14 09:28:39.867 +04:00 [DBG] Connection id "0HNE2IRR8G2V7" received FIN.
2025-07-14 09:28:39.871 +04:00 [DBG] Connection id "0HNE2IRR8G2V7" is closed. The last processed stream ID was 1.
2025-07-14 09:28:39.871 +04:00 [DBG] The connection queue processing loop for 0HNE2IRR8G2V7 completed.
2025-07-14 09:28:39.875 +04:00 [DBG] Connection id "0HNE2IRR8G2V7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:28:39.890 +04:00 [DBG] Connection id "0HNE2IRR8G2V7" stopped.
2025-07-14 09:29:08.963 +04:00 [INF] Application is shutting down...
2025-07-14 09:29:08.964 +04:00 [DBG] Hosting stopping
2025-07-14 09:29:08.973 +04:00 [DBG] Hosting stopped
2025-07-14 09:30:04.255 +04:00 [INF] Starting web host
2025-07-14 09:30:04.540 +04:00 [INF] Options were configured
2025-07-14 09:30:04.544 +04:00 [INF] Infrastructure services registered
2025-07-14 09:30:04.557 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 09:30:04.796 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 09:30:04.825 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 09:30:04.927 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 09:30:05.113 +04:00 [INF] Registered 26 endpoints in 547 milliseconds.
2025-07-14 09:30:05.660 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 09:30:05.695 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 09:30:05.750 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:30:05.791 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 09:30:05.952 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 09:30:05.995 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:30:06.013 +04:00 [DBG] Created DbConnection. (16ms).
2025-07-14 09:30:06.017 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:30:06.200 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:30:06.204 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:30:06.211 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-07-14 09:30:06.215 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-07-14 09:30:06.226 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:30:06.264 +04:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:30:06.281 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:30:06.287 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 16ms reading results.
2025-07-14 09:30:06.293 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:30:06.302 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (9ms).
2025-07-14 09:30:06.308 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:30:06.315 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:30:06.318 +04:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-07-14 09:30:06.323 +04:00 [DBG] Hosting starting
2025-07-14 09:30:06.335 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 09:30:06.364 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 09:30:06.371 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 09:30:06.381 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 09:30:06.385 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 09:30:06.388 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 09:30:06.393 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 09:30:06.398 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 09:30:06.400 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 09:30:06.403 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 09:30:06.405 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 09:30:06.454 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 09:30:06.457 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 09:30:06.501 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 09:30:06.504 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 09:30:06.507 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 09:30:06.511 +04:00 [INF] Hosting environment: Development
2025-07-14 09:30:06.514 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 09:30:06.518 +04:00 [DBG] Hosting started
2025-07-14 09:30:06.592 +04:00 [DBG] Connection id "0HNE2ITUVLO7L" accepted.
2025-07-14 09:30:06.595 +04:00 [DBG] Connection id "0HNE2ITUVLO7L" started.
2025-07-14 09:30:06.630 +04:00 [DBG] Connection 0HNE2ITUVLO7L established using the following protocol: "Tls13"
2025-07-14 09:30:06.672 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 09:30:06.715 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 09:30:06.717 +04:00 [DBG] Request did not match any endpoints
2025-07-14 09:30:06.790 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:30:06.886 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 216.2788ms
2025-07-14 09:30:07.281 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 09:30:07.322 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 09:30:07.359 +04:00 [DBG] Request did not match any endpoints
2025-07-14 09:30:07.363 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:30:07.387 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 09:30:07.430 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 09:30:07.995 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 714.9113ms
2025-07-14 09:30:14.997 +04:00 [DBG] Connection id "0HNE2ITUVLO7L" received FIN.
2025-07-14 09:30:15.002 +04:00 [DBG] The connection queue processing loop for 0HNE2ITUVLO7L completed.
2025-07-14 09:30:15.002 +04:00 [DBG] Connection id "0HNE2ITUVLO7L" is closed. The last processed stream ID was 3.
2025-07-14 09:30:15.006 +04:00 [DBG] Connection id "0HNE2ITUVLO7L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:30:15.015 +04:00 [DBG] Connection id "0HNE2ITUVLO7L" stopped.
2025-07-14 09:30:23.214 +04:00 [DBG] Connection id "0HNE2ITUVLO7M" accepted.
2025-07-14 09:30:23.216 +04:00 [DBG] Connection id "0HNE2ITUVLO7M" started.
2025-07-14 09:30:23.221 +04:00 [DBG] Connection 0HNE2ITUVLO7M established using the following protocol: "Tls13"
2025-07-14 09:30:23.230 +04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Products/1 - application/json 53
2025-07-14 09:30:23.360 +04:00 [DBG] 1 candidate(s) found for the request path '/Products/1'
2025-07-14 09:30:23.363 +04:00 [DBG] Endpoint 'HTTP: PUT /Products/{Id:int}' with route pattern '/Products/{Id:int}' is valid for the request path '/Products/1'
2025-07-14 09:30:23.365 +04:00 [DBG] Request matched endpoint 'HTTP: PUT /Products/{Id:int}'
2025-07-14 09:30:23.368 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:30:23.379 +04:00 [DBG] Connection id "0HNE2ITUVLO7M", Request id "0HNE2ITUVLO7M:00000001": started reading request body.
2025-07-14 09:30:23.381 +04:00 [DBG] Connection id "0HNE2ITUVLO7M", Request id "0HNE2ITUVLO7M:00000001": done reading request body.
2025-07-14 09:30:23.387 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:30:23.390 +04:00 [INF] Executing endpoint 'HTTP: PUT /Products/{Id:int}'
2025-07-14 09:30:23.518 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:30:23.529 +04:00 [INF] Executed endpoint 'HTTP: PUT /Products/{Id:int}'
2025-07-14 09:30:23.531 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The key value at position 0 of the call to 'DbSet<Product>.Find' was of type '<>f__AnonymousType0<int>', which does not match the property type of 'int'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues)
   at OrderApp.Web.Products.Update.HandleAsync(UpdateProductRequest request, CancellationToken cancellationToken) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Products\Update\Update.cs:line 28
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-14 09:30:23.597 +04:00 [INF] Source:[::1] Request: PUT https localhost:57679/Products/1  {
  "name": "Watch",
  "price": 1,
  "companyId": 3
} Responded with [500] in 213ms
2025-07-14 09:30:23.600 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:30:23.606 +04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Products/1 - 500 2561 application/json 376.1214ms
2025-07-14 09:30:25.009 +04:00 [DBG] Connection id "0HNE2ITUVLO7M" received FIN.
2025-07-14 09:30:25.011 +04:00 [DBG] Connection id "0HNE2ITUVLO7M" is closed. The last processed stream ID was 1.
2025-07-14 09:30:25.012 +04:00 [DBG] The connection queue processing loop for 0HNE2ITUVLO7M completed.
2025-07-14 09:30:25.014 +04:00 [DBG] Connection id "0HNE2ITUVLO7M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:30:25.024 +04:00 [DBG] Connection id "0HNE2ITUVLO7M" stopped.
2025-07-14 09:31:04.369 +04:00 [INF] Application is shutting down...
2025-07-14 09:31:04.371 +04:00 [DBG] Hosting stopping
2025-07-14 09:31:04.391 +04:00 [DBG] Hosting stopped
2025-07-14 09:31:09.096 +04:00 [INF] Starting web host
2025-07-14 09:31:09.273 +04:00 [INF] Options were configured
2025-07-14 09:31:09.277 +04:00 [INF] Infrastructure services registered
2025-07-14 09:31:09.289 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 09:31:09.554 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 09:31:09.599 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 09:31:09.718 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 09:31:09.853 +04:00 [INF] Registered 26 endpoints in 556 milliseconds.
2025-07-14 09:31:10.359 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 09:31:10.397 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 09:31:10.455 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:31:10.498 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 09:31:10.679 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 09:31:10.726 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:31:10.744 +04:00 [DBG] Created DbConnection. (16ms).
2025-07-14 09:31:10.751 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:10.890 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:10.897 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:31:10.908 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-07-14 09:31:10.913 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-07-14 09:31:10.922 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:31:10.975 +04:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 09:31:10.998 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:11.009 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 22ms reading results.
2025-07-14 09:31:11.016 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:11.023 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (7ms).
2025-07-14 09:31:11.028 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:31:11.033 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:11.036 +04:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-07-14 09:31:11.041 +04:00 [DBG] Hosting starting
2025-07-14 09:31:11.058 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 09:31:11.089 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 09:31:11.098 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 09:31:11.109 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 09:31:11.116 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 09:31:11.118 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 09:31:11.119 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 09:31:11.123 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 09:31:11.127 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 09:31:11.129 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 09:31:11.131 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 09:31:11.193 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 09:31:11.194 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 09:31:11.245 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 09:31:11.247 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 09:31:11.251 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 09:31:11.252 +04:00 [INF] Hosting environment: Development
2025-07-14 09:31:11.254 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 09:31:11.256 +04:00 [DBG] Hosting started
2025-07-14 09:31:19.225 +04:00 [DBG] Connection id "0HNE2IUKKBJEK" accepted.
2025-07-14 09:31:19.227 +04:00 [DBG] Connection id "0HNE2IUKKBJEK" started.
2025-07-14 09:31:19.266 +04:00 [DBG] Connection 0HNE2IUKKBJEK established using the following protocol: "Tls13"
2025-07-14 09:31:19.301 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 09:31:19.338 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 09:31:19.343 +04:00 [DBG] Request did not match any endpoints
2025-07-14 09:31:19.393 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:31:19.472 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 171.7799ms
2025-07-14 09:31:19.690 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 09:31:19.702 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 09:31:19.704 +04:00 [DBG] Request did not match any endpoints
2025-07-14 09:31:19.707 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:31:19.721 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 09:31:19.745 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 09:31:20.366 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 676.5621ms
2025-07-14 09:31:25.096 +04:00 [DBG] Connection id "0HNE2IUKKBJEK" received FIN.
2025-07-14 09:31:25.100 +04:00 [DBG] Connection id "0HNE2IUKKBJEK" is closed. The last processed stream ID was 3.
2025-07-14 09:31:25.100 +04:00 [DBG] The connection queue processing loop for 0HNE2IUKKBJEK completed.
2025-07-14 09:31:25.102 +04:00 [DBG] Connection id "0HNE2IUKKBJEK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:31:25.115 +04:00 [DBG] Connection id "0HNE2IUKKBJEK" stopped.
2025-07-14 09:31:27.001 +04:00 [DBG] Connection id "0HNE2IUKKBJEL" accepted.
2025-07-14 09:31:27.002 +04:00 [DBG] Connection id "0HNE2IUKKBJEL" started.
2025-07-14 09:31:27.008 +04:00 [DBG] Connection 0HNE2IUKKBJEL established using the following protocol: "Tls13"
2025-07-14 09:31:27.013 +04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Products/1 - application/json 53
2025-07-14 09:31:27.024 +04:00 [DBG] 1 candidate(s) found for the request path '/Products/1'
2025-07-14 09:31:27.026 +04:00 [DBG] Endpoint 'HTTP: PUT /Products/{Id:int}' with route pattern '/Products/{Id:int}' is valid for the request path '/Products/1'
2025-07-14 09:31:27.031 +04:00 [DBG] Request matched endpoint 'HTTP: PUT /Products/{Id:int}'
2025-07-14 09:31:27.035 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:31:27.040 +04:00 [DBG] Connection id "0HNE2IUKKBJEL", Request id "0HNE2IUKKBJEL:00000001": started reading request body.
2025-07-14 09:31:27.043 +04:00 [DBG] Connection id "0HNE2IUKKBJEL", Request id "0HNE2IUKKBJEL:00000001": done reading request body.
2025-07-14 09:31:27.049 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:31:27.052 +04:00 [INF] Executing endpoint 'HTTP: PUT /Products/{Id:int}'
2025-07-14 09:31:27.179 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:31:27.205 +04:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-07-14 09:31:27.315 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Product>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CompanyId (int) Required FK Index, 1], [Property: Product.Name (string) Required, 2], [Property: Product.Price (decimal) Required, 3] }
            SELECT TOP(1) p.Id, p.CompanyId, p.Name, p.Price
            FROM Products AS p
            WHERE p.Id == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CompanyId (int) Required FK Index, 1], [Property: Product.Name (string) Required, 2], [Property: Product.Price (decimal) Required, 3] }
            SELECT TOP(1) p.Id, p.CompanyId, p.Name, p.Price
            FROM Products AS p
            WHERE p.Id == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Product entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Product instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Product);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Product.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Product)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product")]: 
                            {
                                return 
                                {
                                    Product instance;
                                    instance = new Product();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CompanyId>k__BackingField = dataReader.GetInt32(1);
                                    instance.<Name>k__BackingField = dataReader.GetString(2);
                                    instance.<Price>k__BackingField = dataReader.GetDecimal(3);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Product)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 09:31:27.348 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:31:27.352 +04:00 [DBG] Created DbConnection. (3ms).
2025-07-14 09:31:27.353 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:27.357 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:27.359 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:31:27.361 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-07-14 09:31:27.370 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-07-14 09:31:27.377 +04:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CompanyId], [p].[Name], [p].[Price]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-07-14 09:31:27.411 +04:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CompanyId], [p].[Name], [p].[Price]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-07-14 09:31:27.471 +04:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:31:27.506 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:27.509 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 93ms reading results.
2025-07-14 09:31:27.511 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:27.515 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (3ms).
2025-07-14 09:31:27.523 +04:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-07-14 09:31:27.533 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:31:27.551 +04:00 [DBG] The unchanged property 'Product.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-14 09:31:27.565 +04:00 [DBG] An entity of type 'Product' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:31:27.574 +04:00 [DBG] The unchanged property 'Product.Price' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-14 09:31:27.582 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:31:27.587 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:31:27.588 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:31:27.678 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:27.681 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:27.686 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:31:27.687 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 09:31:27.691 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-07-14 09:31:27.694 +04:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [Name] = @p0, [Price] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-07-14 09:31:27.716 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [Name] = @p0, [Price] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-07-14 09:31:27.726 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:27.730 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 9ms reading results.
2025-07-14 09:31:27.734 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:27.736 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (2ms).
2025-07-14 09:31:27.749 +04:00 [DBG] An entity of type 'Product' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:31:27.754 +04:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-07-14 09:31:27.759 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:31:27.761 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:31:27.787 +04:00 [INF] Executed endpoint 'HTTP: PUT /Products/{Id:int}'
2025-07-14 09:31:27.949 +04:00 [INF] Source:[::1] Request: PUT https localhost:57679/Products/1  {
  "name": "Watch",
  "price": 1,
  "companyId": 1
} Responded with [200] in 898ms
2025-07-14 09:31:27.952 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:31:27.957 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:27.959 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 09:31:27.965 +04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Products/1 - 200 217 application/json 951.8565ms
2025-07-14 09:31:33.102 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Products - null null
2025-07-14 09:31:33.106 +04:00 [DBG] 1 candidate(s) found for the request path '/Products'
2025-07-14 09:31:33.108 +04:00 [DBG] Request matched endpoint 'HTTP: GET /Products'
2025-07-14 09:31:33.112 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:31:33.115 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:31:33.116 +04:00 [INF] Executing endpoint 'HTTP: GET /Products'
2025-07-14 09:31:33.218 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:31:33.228 +04:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Include(x => x.Company)'
2025-07-14 09:31:33.240 +04:00 [DBG] Including navigation: 'Product.Company'.
2025-07-14 09:31:33.288 +04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Product>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CompanyId (int) Required FK Index, 1], [Property: Product.Name (string) Required, 2], [Property: Product.Price (decimal) Required, 3] }
            1 -> Dictionary<IProperty, int> { [Property: Company.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Company.Name (string) Required, 5] }
        SELECT p.Id, p.CompanyId, p.Name, p.Price, c.Id, c.Name
        FROM Products AS p
        INNER JOIN Companies AS c ON p.CompanyId == c.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CompanyId (int) Required FK Index, 1], [Property: Product.Name (string) Required, 2], [Property: Product.Price (decimal) Required, 3] }
            1 -> Dictionary<IProperty, int> { [Property: Company.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Company.Name (string) Required, 5] }
        SELECT p.Id, p.CompanyId, p.Name, p.Price, c.Id, c.Name
        FROM Products AS p
        INNER JOIN Companies AS c ON p.CompanyId == c.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Product entity;
        Company entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Product instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Product);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Product.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Product)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product")]: 
                        {
                            return 
                            {
                                Product instance;
                                instance = new Product();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CompanyId>k__BackingField = dataReader.GetInt32(1);
                                instance.<Name>k__BackingField = dataReader.GetString(2);
                                instance.<Price>k__BackingField = dataReader.GetDecimal(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Product)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Company instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Company);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Company.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(4) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Company)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")]: 
                        {
                            return 
                            {
                                Company instance;
                                instance = new Company();
                                instance.<Id>k__BackingField = dataReader.GetInt32(4);
                                instance.<Name>k__BackingField = dataReader.GetString(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Company | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("OrderApp.Core.CompanyAggregate.Company")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Company)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Product, Product, Company>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Product.Company (Company) ToPrincipal Company | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("OrderApp.Core.ProductAggregate.Product").FindNavigation("Company")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{7}, namelessParameter{8}) => 
            {
                return namelessParameter{7}.<Company>k__BackingField = namelessParameter{8};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: OrderApp.Infrastructure.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-07-14 09:31:33.303 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:31:33.305 +04:00 [DBG] Created DbConnection. (1ms).
2025-07-14 09:31:33.307 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:33.308 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:33.311 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:31:33.313 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-07-14 09:31:33.317 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-07-14 09:31:33.319 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CompanyId], [p].[Name], [p].[Price], [c].[Id], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Companies] AS [c] ON [p].[CompanyId] = [c].[Id]
2025-07-14 09:31:33.325 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CompanyId], [p].[Name], [p].[Price], [c].[Id], [c].[Name]
FROM [Products] AS [p]
INNER JOIN [Companies] AS [c] ON [p].[CompanyId] = [c].[Id]
2025-07-14 09:31:33.331 +04:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:31:33.344 +04:00 [DBG] The navigation 'Product.Company' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:31:33.353 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:31:33.364 +04:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:31:33.368 +04:00 [DBG] The navigation 'Product.Company' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:31:33.370 +04:00 [DBG] Context 'AppDbContext' started tracking 'Company' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:31:33.372 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:33.375 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 44ms reading results.
2025-07-14 09:31:33.379 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:33.383 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (4ms).
2025-07-14 09:31:33.397 +04:00 [INF] Executed endpoint 'HTTP: GET /Products'
2025-07-14 09:31:33.413 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Products   Responded with [200] in 298ms
2025-07-14 09:31:33.417 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:31:33.419 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:33.421 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 09:31:33.423 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Products - 200 518 application/json 321.0344ms
2025-07-14 09:31:35.105 +04:00 [DBG] Connection id "0HNE2IUKKBJEL" received FIN.
2025-07-14 09:31:35.106 +04:00 [DBG] Connection id "0HNE2IUKKBJEL" is closed. The last processed stream ID was 3.
2025-07-14 09:31:35.107 +04:00 [DBG] The connection queue processing loop for 0HNE2IUKKBJEL completed.
2025-07-14 09:31:35.108 +04:00 [DBG] Connection id "0HNE2IUKKBJEL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:31:35.119 +04:00 [DBG] Connection id "0HNE2IUKKBJEL" stopped.
2025-07-14 09:31:35.769 +04:00 [DBG] Connection id "0HNE2IUKKBJEM" accepted.
2025-07-14 09:31:35.773 +04:00 [DBG] Connection id "0HNE2IUKKBJEM" started.
2025-07-14 09:31:35.780 +04:00 [DBG] Connection 0HNE2IUKKBJEM established using the following protocol: "Tls13"
2025-07-14 09:31:45.124 +04:00 [DBG] Connection id "0HNE2IUKKBJEM" received FIN.
2025-07-14 09:31:45.127 +04:00 [DBG] Connection id "0HNE2IUKKBJEM" is closed. The last processed stream ID was 0.
2025-07-14 09:31:45.128 +04:00 [DBG] The connection queue processing loop for 0HNE2IUKKBJEM completed.
2025-07-14 09:31:45.130 +04:00 [DBG] Connection id "0HNE2IUKKBJEM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:31:45.139 +04:00 [DBG] Connection id "0HNE2IUKKBJEM" stopped.
2025-07-14 09:31:50.329 +04:00 [DBG] Connection id "0HNE2IUKKBJEN" accepted.
2025-07-14 09:31:50.330 +04:00 [DBG] Connection id "0HNE2IUKKBJEN" started.
2025-07-14 09:31:50.334 +04:00 [DBG] Connection 0HNE2IUKKBJEN established using the following protocol: "Tls13"
2025-07-14 09:31:50.337 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Products - application/json 54
2025-07-14 09:31:50.339 +04:00 [DBG] 1 candidate(s) found for the request path '/Products'
2025-07-14 09:31:50.343 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Products'
2025-07-14 09:31:50.345 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 09:31:50.346 +04:00 [DBG] Connection id "0HNE2IUKKBJEN", Request id "0HNE2IUKKBJEN:00000001": started reading request body.
2025-07-14 09:31:50.348 +04:00 [DBG] Connection id "0HNE2IUKKBJEN", Request id "0HNE2IUKKBJEN:00000001": done reading request body.
2025-07-14 09:31:50.349 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 09:31:50.351 +04:00 [INF] Executing endpoint 'HTTP: POST /Products'
2025-07-14 09:31:50.369 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 09:31:50.392 +04:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:31:50.402 +04:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:31:50.406 +04:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-07-14 09:31:50.409 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:31:50.412 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:31:50.416 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:31:50.417 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:31:50.435 +04:00 [DBG] Creating DbConnection.
2025-07-14 09:31:50.436 +04:00 [DBG] Created DbConnection. (1ms).
2025-07-14 09:31:50.438 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:50.440 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:50.444 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 09:31:50.446 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 09:31:50.447 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-07-14 09:31:50.450 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CompanyId], [Name], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-07-14 09:31:50.459 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CompanyId], [Name], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-07-14 09:31:50.471 +04:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-14 09:31:50.481 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:50.483 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 20ms reading results.
2025-07-14 09:31:50.486 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:50.488 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (2ms).
2025-07-14 09:31:50.496 +04:00 [DBG] An entity of type 'Product' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 09:31:50.500 +04:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-07-14 09:31:50.502 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 09:31:50.504 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 09:31:50.508 +04:00 [INF] Executed endpoint 'HTTP: POST /Products'
2025-07-14 09:31:50.513 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/Products  {
  "name": "Case",
  "price": 100,
  "companyId": 3
} Responded with [200] in 167ms
2025-07-14 09:31:50.516 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 09:31:50.517 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 09:31:50.519 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 09:31:50.521 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Products - 200 162 application/json 184.3318ms
2025-07-14 09:31:55.144 +04:00 [DBG] Connection id "0HNE2IUKKBJEN" received FIN.
2025-07-14 09:31:55.146 +04:00 [DBG] Connection id "0HNE2IUKKBJEN" is closed. The last processed stream ID was 1.
2025-07-14 09:31:55.147 +04:00 [DBG] The connection queue processing loop for 0HNE2IUKKBJEN completed.
2025-07-14 09:31:55.149 +04:00 [DBG] Connection id "0HNE2IUKKBJEN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 09:31:55.159 +04:00 [DBG] Connection id "0HNE2IUKKBJEN" stopped.
2025-07-14 09:33:07.526 +04:00 [INF] Application is shutting down...
2025-07-14 09:33:07.529 +04:00 [DBG] Hosting stopping
2025-07-14 09:33:07.544 +04:00 [DBG] Hosting stopped
2025-07-14 09:33:24.942 +04:00 [INF] Starting web host
2025-07-14 09:33:25.092 +04:00 [INF] Options were configured
2025-07-14 09:33:25.095 +04:00 [INF] Infrastructure services registered
2025-07-14 09:33:25.105 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 09:33:25.287 +04:00 [FTL] The application failed to start correctly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 118
2025-07-14 09:33:37.120 +04:00 [INF] Starting web host
2025-07-14 09:33:37.411 +04:00 [INF] Options were configured
2025-07-14 09:33:37.416 +04:00 [INF] Infrastructure services registered
2025-07-14 09:33:37.431 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 09:33:37.701 +04:00 [FTL] The application failed to start correctly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Program.cs:line 118
2025-07-14 10:48:09.015 +04:00 [INF] Starting web host
2025-07-14 10:48:09.558 +04:00 [INF] Options were configured
2025-07-14 10:48:09.580 +04:00 [INF] Infrastructure services registered
2025-07-14 10:48:09.623 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 10:48:10.304 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 10:48:10.374 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 10:48:10.730 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 10:48:11.137 +04:00 [INF] Registered 28 endpoints in 1,496 milliseconds.
2025-07-14 10:48:12.566 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 10:48:12.575 +04:00 [WRN] The foreign key property 'UserRole.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-14 10:48:12.746 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 10:48:12.875 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 10:48:12.985 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 10:48:13.541 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 10:48:13.631 +04:00 [DBG] Creating DbConnection.
2025-07-14 10:48:13.670 +04:00 [DBG] Created DbConnection. (35ms).
2025-07-14 10:48:13.780 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:48:14.215 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:48:14.222 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 10:48:14.236 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-07-14 10:48:14.244 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2025-07-14 10:48:14.264 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 10:48:14.365 +04:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 10:48:14.393 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:48:14.405 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 29ms reading results.
2025-07-14 10:48:14.410 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:48:14.449 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (37ms).
2025-07-14 10:48:14.552 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 10:48:14.557 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:48:14.572 +04:00 [DBG] Disposed connection to database '' on server '' (14ms).
2025-07-14 10:48:14.576 +04:00 [DBG] Hosting starting
2025-07-14 10:48:14.612 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 10:48:14.672 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 10:48:14.685 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 10:48:14.711 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 10:48:14.721 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 10:48:14.725 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 10:48:14.728 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 10:48:14.736 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 10:48:14.739 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 10:48:14.745 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 10:48:14.748 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 10:48:14.886 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 10:48:14.888 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 10:48:15.064 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 10:48:15.067 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 10:48:15.069 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 10:48:15.070 +04:00 [INF] Hosting environment: Development
2025-07-14 10:48:15.071 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 10:48:15.074 +04:00 [DBG] Hosting started
2025-07-14 10:48:18.737 +04:00 [DBG] Connection id "0HNE2K9LBEF3S" accepted.
2025-07-14 10:48:18.740 +04:00 [DBG] Connection id "0HNE2K9LBEF3S" started.
2025-07-14 10:48:18.888 +04:00 [DBG] Connection 0HNE2K9LBEF3S established using the following protocol: "Tls13"
2025-07-14 10:48:19.013 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 10:48:19.103 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 10:48:19.106 +04:00 [DBG] Request did not match any endpoints
2025-07-14 10:48:19.169 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 10:48:19.456 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 447.1107ms
2025-07-14 10:48:19.589 +04:00 [DBG] Connection id "0HNE2K9LBEF3S" received FIN.
2025-07-14 10:48:19.630 +04:00 [DBG] Connection id "0HNE2K9LBEF3S" is closed. The last processed stream ID was 1.
2025-07-14 10:48:19.638 +04:00 [DBG] The connection queue processing loop for 0HNE2K9LBEF3S completed.
2025-07-14 10:48:19.655 +04:00 [DBG] Connection id "0HNE2K9LBEF3S" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 10:48:19.693 +04:00 [DBG] Connection id "0HNE2K9LBEF3S" stopped.
2025-07-14 10:48:20.587 +04:00 [DBG] Connection id "0HNE2K9LBEF3T" accepted.
2025-07-14 10:48:20.600 +04:00 [DBG] Connection id "0HNE2K9LBEF3T" started.
2025-07-14 10:48:20.655 +04:00 [DBG] Connection 0HNE2K9LBEF3T established using the following protocol: "Tls13"
2025-07-14 10:48:20.666 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 10:48:20.681 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 10:48:20.687 +04:00 [DBG] Request did not match any endpoints
2025-07-14 10:48:20.692 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 10:48:20.708 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 10:48:20.773 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 10:48:22.913 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 2247.1809ms
2025-07-14 10:48:24.583 +04:00 [DBG] Connection id "0HNE2K9LBEF3T" received FIN.
2025-07-14 10:48:24.586 +04:00 [DBG] Connection id "0HNE2K9LBEF3T" is closed. The last processed stream ID was 1.
2025-07-14 10:48:24.586 +04:00 [DBG] The connection queue processing loop for 0HNE2K9LBEF3T completed.
2025-07-14 10:48:24.589 +04:00 [DBG] Connection id "0HNE2K9LBEF3T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 10:48:24.598 +04:00 [DBG] Connection id "0HNE2K9LBEF3T" stopped.
2025-07-14 10:48:26.801 +04:00 [DBG] Connection id "0HNE2K9LBEF3U" accepted.
2025-07-14 10:48:26.803 +04:00 [DBG] Connection id "0HNE2K9LBEF3U" started.
2025-07-14 10:48:26.807 +04:00 [DBG] Connection 0HNE2K9LBEF3U established using the following protocol: "Tls13"
2025-07-14 10:48:29.594 +04:00 [DBG] Connection id "0HNE2K9LBEF3U" received FIN.
2025-07-14 10:48:29.601 +04:00 [DBG] Connection id "0HNE2K9LBEF3U" is closed. The last processed stream ID was 0.
2025-07-14 10:48:29.602 +04:00 [DBG] The connection queue processing loop for 0HNE2K9LBEF3U completed.
2025-07-14 10:48:29.609 +04:00 [DBG] Connection id "0HNE2K9LBEF3U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 10:48:29.624 +04:00 [DBG] Connection id "0HNE2K9LBEF3U" stopped.
2025-07-14 10:48:31.687 +04:00 [DBG] Connection id "0HNE2K9LBEF3V" accepted.
2025-07-14 10:48:31.691 +04:00 [DBG] Connection id "0HNE2K9LBEF3V" started.
2025-07-14 10:48:31.710 +04:00 [DBG] Connection 0HNE2K9LBEF3V established using the following protocol: "Tls13"
2025-07-14 10:48:31.719 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Roles - application/json 22
2025-07-14 10:48:31.749 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 10:48:31.756 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Roles'
2025-07-14 10:48:31.779 +04:00 [DBG] Policy authentication schemes  did not succeed
2025-07-14 10:48:31.799 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-14 10:48:32.005 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11-Jul-25 08:32:07', Current time (UTC): '14-Jul-25 06:48:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-14 10:48:32.059 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-14 10:48:32.064 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Roles - 401 0 null 344.947ms
2025-07-14 10:48:32.087 +04:00 [DBG] Connection id "0HNE2K9LBEF3V", Request id "0HNE2K9LBEF3V:00000001": started reading request body.
2025-07-14 10:48:32.101 +04:00 [DBG] Connection id "0HNE2K9LBEF3V", Request id "0HNE2K9LBEF3V:00000001": done reading request body.
2025-07-14 10:48:34.598 +04:00 [DBG] Connection id "0HNE2K9LBEF3V" received FIN.
2025-07-14 10:48:34.600 +04:00 [DBG] Connection id "0HNE2K9LBEF3V" is closed. The last processed stream ID was 1.
2025-07-14 10:48:34.601 +04:00 [DBG] The connection queue processing loop for 0HNE2K9LBEF3V completed.
2025-07-14 10:48:34.604 +04:00 [DBG] Connection id "0HNE2K9LBEF3V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 10:48:34.613 +04:00 [DBG] Connection id "0HNE2K9LBEF3V" stopped.
2025-07-14 10:48:45.314 +04:00 [DBG] Connection id "0HNE2K9LBEF40" accepted.
2025-07-14 10:48:45.317 +04:00 [DBG] Connection id "0HNE2K9LBEF40" started.
2025-07-14 10:48:45.327 +04:00 [DBG] Connection 0HNE2K9LBEF40 established using the following protocol: "Tls13"
2025-07-14 10:48:45.333 +04:00 [INF] Request starting HTTP/2 DELETE https://localhost:57679/Roles/1 - null null
2025-07-14 10:48:45.343 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles/1'
2025-07-14 10:48:45.350 +04:00 [DBG] Endpoint 'HTTP: DELETE /Roles/{Id:int}' with route pattern '/Roles/{Id:int}' is valid for the request path '/Roles/1'
2025-07-14 10:48:45.355 +04:00 [DBG] Request matched endpoint 'HTTP: DELETE /Roles/{Id:int}'
2025-07-14 10:48:45.360 +04:00 [DBG] Policy authentication schemes  did not succeed
2025-07-14 10:48:45.367 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-14 10:48:45.371 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11-Jul-25 08:32:07', Current time (UTC): '14-Jul-25 06:48:45'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-14 10:48:45.380 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-14 10:48:45.385 +04:00 [INF] Request finished HTTP/2 DELETE https://localhost:57679/Roles/1 - 401 0 null 51.9558ms
2025-07-14 10:48:49.626 +04:00 [DBG] Connection id "0HNE2K9LBEF40" received FIN.
2025-07-14 10:48:49.629 +04:00 [DBG] Connection id "0HNE2K9LBEF40" is closed. The last processed stream ID was 1.
2025-07-14 10:48:49.629 +04:00 [DBG] The connection queue processing loop for 0HNE2K9LBEF40 completed.
2025-07-14 10:48:49.632 +04:00 [DBG] Connection id "0HNE2K9LBEF40" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 10:48:49.640 +04:00 [DBG] Connection id "0HNE2K9LBEF40" stopped.
2025-07-14 10:49:13.601 +04:00 [DBG] Connection id "0HNE2K9LBEF41" accepted.
2025-07-14 10:49:13.605 +04:00 [DBG] Connection id "0HNE2K9LBEF41" started.
2025-07-14 10:49:13.615 +04:00 [DBG] Connection 0HNE2K9LBEF41 established using the following protocol: "Tls13"
2025-07-14 10:49:13.620 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/auth/login - application/json 47
2025-07-14 10:49:13.630 +04:00 [DBG] 1 candidate(s) found for the request path '/auth/login'
2025-07-14 10:49:13.635 +04:00 [DBG] Request matched endpoint 'HTTP: POST /auth/login'
2025-07-14 10:49:13.640 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 10:49:13.667 +04:00 [DBG] Connection id "0HNE2K9LBEF41", Request id "0HNE2K9LBEF41:00000001": started reading request body.
2025-07-14 10:49:13.673 +04:00 [DBG] Connection id "0HNE2K9LBEF41", Request id "0HNE2K9LBEF41:00000001": done reading request body.
2025-07-14 10:49:13.685 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 10:49:13.693 +04:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-07-14 10:49:13.952 +04:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-07-14 10:49:14.073 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/auth/login  {
  "username": "admin",
  "password": "1234"
} Responded with [200] in 404ms
2025-07-14 10:49:14.078 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/auth/login - 200 448 application/json 457.0219ms
2025-07-14 10:49:14.685 +04:00 [DBG] Connection id "0HNE2K9LBEF41" received FIN.
2025-07-14 10:49:14.691 +04:00 [DBG] Connection id "0HNE2K9LBEF41" is closed. The last processed stream ID was 1.
2025-07-14 10:49:14.691 +04:00 [DBG] The connection queue processing loop for 0HNE2K9LBEF41 completed.
2025-07-14 10:49:14.694 +04:00 [DBG] Connection id "0HNE2K9LBEF41" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 10:49:14.698 +04:00 [DBG] Connection id "0HNE2K9LBEF41" stopped.
2025-07-14 10:49:45.106 +04:00 [DBG] Connection id "0HNE2K9LBEF42" accepted.
2025-07-14 10:49:45.111 +04:00 [DBG] Connection id "0HNE2K9LBEF42" started.
2025-07-14 10:49:45.212 +04:00 [DBG] Connection 0HNE2K9LBEF42 established using the following protocol: "Tls13"
2025-07-14 10:49:45.240 +04:00 [INF] Request starting HTTP/2 DELETE https://localhost:57679/Roles/1 - null null
2025-07-14 10:49:45.248 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles/1'
2025-07-14 10:49:45.253 +04:00 [DBG] Endpoint 'HTTP: DELETE /Roles/{Id:int}' with route pattern '/Roles/{Id:int}' is valid for the request path '/Roles/1'
2025-07-14 10:49:45.259 +04:00 [DBG] Request matched endpoint 'HTTP: DELETE /Roles/{Id:int}'
2025-07-14 10:49:45.263 +04:00 [DBG] Policy authentication schemes  did not succeed
2025-07-14 10:49:45.265 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-14 10:49:45.292 +04:00 [DBG] Successfully validated the token.
2025-07-14 10:49:45.297 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-14 10:49:45.302 +04:00 [INF] Request finished HTTP/2 DELETE https://localhost:57679/Roles/1 - 401 0 null 61.9549ms
2025-07-14 10:49:54.745 +04:00 [DBG] Connection id "0HNE2K9LBEF42" received FIN.
2025-07-14 10:49:54.748 +04:00 [DBG] Connection id "0HNE2K9LBEF42" is closed. The last processed stream ID was 1.
2025-07-14 10:49:54.749 +04:00 [DBG] The connection queue processing loop for 0HNE2K9LBEF42 completed.
2025-07-14 10:49:54.750 +04:00 [DBG] Connection id "0HNE2K9LBEF42" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 10:49:54.760 +04:00 [DBG] Connection id "0HNE2K9LBEF42" stopped.
2025-07-14 10:54:43.252 +04:00 [INF] Application is shutting down...
2025-07-14 10:54:43.256 +04:00 [DBG] Hosting stopping
2025-07-14 10:54:43.285 +04:00 [DBG] Hosting stopped
2025-07-14 10:54:55.416 +04:00 [INF] Starting web host
2025-07-14 10:54:56.008 +04:00 [INF] Options were configured
2025-07-14 10:54:56.025 +04:00 [INF] Infrastructure services registered
2025-07-14 10:54:56.065 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 10:54:56.681 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 10:54:56.737 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 10:54:57.102 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 10:54:57.544 +04:00 [INF] Registered 29 endpoints in 1,463 milliseconds.
2025-07-14 10:54:59.647 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 10:54:59.657 +04:00 [WRN] The foreign key property 'UserRole.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-14 10:54:59.770 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 10:55:00.061 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 10:55:00.198 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 10:55:00.956 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 10:55:01.097 +04:00 [DBG] Creating DbConnection.
2025-07-14 10:55:01.184 +04:00 [DBG] Created DbConnection. (81ms).
2025-07-14 10:55:01.331 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:55:01.727 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:55:01.802 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 10:55:01.819 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-07-14 10:55:01.851 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (50ms).
2025-07-14 10:55:01.867 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 10:55:01.984 +04:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 10:55:02.030 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:55:02.048 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 49ms reading results.
2025-07-14 10:55:02.058 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:55:02.075 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (16ms).
2025-07-14 10:55:02.081 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 10:55:02.086 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:55:02.091 +04:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-07-14 10:55:02.101 +04:00 [DBG] Hosting starting
2025-07-14 10:55:02.136 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 10:55:02.284 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 10:55:02.346 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 10:55:02.371 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 10:55:02.399 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 10:55:02.402 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 10:55:02.406 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 10:55:02.418 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 10:55:02.421 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 10:55:02.424 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 10:55:02.434 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 10:55:02.605 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 10:55:02.607 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 10:55:02.709 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 10:55:02.713 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 10:55:02.716 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 10:55:02.717 +04:00 [INF] Hosting environment: Development
2025-07-14 10:55:02.719 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 10:55:02.721 +04:00 [DBG] Hosting started
2025-07-14 10:55:02.953 +04:00 [DBG] Connection id "0HNE2KDDQBJ7Q" accepted.
2025-07-14 10:55:02.956 +04:00 [DBG] Connection id "0HNE2KDDQBJ7Q" started.
2025-07-14 10:55:03.034 +04:00 [DBG] Connection 0HNE2KDDQBJ7Q established using the following protocol: "Tls13"
2025-07-14 10:55:03.133 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 10:55:03.263 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 10:55:03.334 +04:00 [DBG] Request did not match any endpoints
2025-07-14 10:55:03.407 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 10:55:03.597 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 466.0483ms
2025-07-14 10:55:04.648 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 10:55:04.677 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 10:55:04.721 +04:00 [DBG] Request did not match any endpoints
2025-07-14 10:55:04.731 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 10:55:04.747 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 10:55:04.804 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 10:55:06.841 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 2194.6032ms
2025-07-14 10:55:10.346 +04:00 [DBG] Connection id "0HNE2KDDQBJ7Q" received FIN.
2025-07-14 10:55:10.350 +04:00 [DBG] Connection id "0HNE2KDDQBJ7Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 10:55:10.351 +04:00 [DBG] Connection id "0HNE2KDDQBJ7Q" is closed. The last processed stream ID was 3.
2025-07-14 10:55:10.355 +04:00 [DBG] The connection queue processing loop for 0HNE2KDDQBJ7Q completed.
2025-07-14 10:55:10.362 +04:00 [DBG] Connection id "0HNE2KDDQBJ7Q" stopped.
2025-07-14 10:55:13.655 +04:00 [DBG] Connection id "0HNE2KDDQBJ7R" accepted.
2025-07-14 10:55:13.658 +04:00 [DBG] Connection id "0HNE2KDDQBJ7R" started.
2025-07-14 10:55:13.669 +04:00 [DBG] Connection 0HNE2KDDQBJ7R established using the following protocol: "Tls13"
2025-07-14 10:55:13.678 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Roles - null null
2025-07-14 10:55:13.695 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 10:55:13.701 +04:00 [DBG] Request matched endpoint 'HTTP: GET /Roles'
2025-07-14 10:55:13.718 +04:00 [DBG] Policy authentication schemes  did not succeed
2025-07-14 10:55:13.733 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-14 10:55:13.907 +04:00 [DBG] Successfully validated the token.
2025-07-14 10:55:13.912 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-14 10:55:13.915 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Roles - 401 0 null 237.0149ms
2025-07-14 10:55:20.350 +04:00 [DBG] Connection id "0HNE2KDDQBJ7R" received FIN.
2025-07-14 10:55:20.352 +04:00 [DBG] Connection id "0HNE2KDDQBJ7R" is closed. The last processed stream ID was 1.
2025-07-14 10:55:20.352 +04:00 [DBG] The connection queue processing loop for 0HNE2KDDQBJ7R completed.
2025-07-14 10:55:20.355 +04:00 [DBG] Connection id "0HNE2KDDQBJ7R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 10:55:20.371 +04:00 [DBG] Connection id "0HNE2KDDQBJ7R" stopped.
2025-07-14 10:55:46.000 +04:00 [INF] Application is shutting down...
2025-07-14 10:55:46.002 +04:00 [DBG] Hosting stopping
2025-07-14 10:55:46.024 +04:00 [DBG] Hosting stopped
2025-07-14 10:55:54.507 +04:00 [INF] Starting web host
2025-07-14 10:55:55.071 +04:00 [INF] Options were configured
2025-07-14 10:55:55.090 +04:00 [INF] Infrastructure services registered
2025-07-14 10:55:55.121 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 10:55:55.752 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 10:55:55.794 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 10:55:56.043 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 10:55:56.471 +04:00 [INF] Registered 29 endpoints in 1,330 milliseconds.
2025-07-14 10:55:58.104 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 10:55:58.118 +04:00 [WRN] The foreign key property 'UserRole.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-14 10:55:58.227 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 10:55:58.398 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 10:55:58.603 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 10:55:59.044 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 10:55:59.160 +04:00 [DBG] Creating DbConnection.
2025-07-14 10:55:59.197 +04:00 [DBG] Created DbConnection. (32ms).
2025-07-14 10:55:59.204 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:55:59.565 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:55:59.574 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 10:55:59.591 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-07-14 10:55:59.596 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2025-07-14 10:55:59.613 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 10:55:59.711 +04:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 10:55:59.872 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:55:59.902 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 103ms reading results.
2025-07-14 10:55:59.929 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:55:59.944 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (12ms).
2025-07-14 10:55:59.950 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 10:55:59.964 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:55:59.969 +04:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-07-14 10:55:59.982 +04:00 [DBG] Hosting starting
2025-07-14 10:56:00.032 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 10:56:00.143 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 10:56:00.158 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 10:56:00.183 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 10:56:00.195 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 10:56:00.200 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 10:56:00.209 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 10:56:00.225 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 10:56:00.230 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 10:56:00.235 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 10:56:00.237 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 10:56:00.427 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 10:56:00.448 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 10:56:00.610 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 10:56:00.614 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 10:56:00.615 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 10:56:00.616 +04:00 [INF] Hosting environment: Development
2025-07-14 10:56:00.618 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 10:56:00.621 +04:00 [DBG] Hosting started
2025-07-14 10:56:47.906 +04:00 [DBG] Connection id "0HNE2KED38E9H" accepted.
2025-07-14 10:56:47.915 +04:00 [DBG] Connection id "0HNE2KED38E9H" started.
2025-07-14 10:56:48.058 +04:00 [DBG] Connection 0HNE2KED38E9H established using the following protocol: "Tls13"
2025-07-14 10:56:48.204 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 10:56:48.375 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 10:56:48.382 +04:00 [DBG] Request did not match any endpoints
2025-07-14 10:56:48.507 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 10:56:48.834 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 637.5792ms
2025-07-14 10:56:49.290 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 10:56:49.302 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 10:56:49.304 +04:00 [DBG] Request did not match any endpoints
2025-07-14 10:56:49.306 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 10:56:49.320 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 10:56:49.370 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 10:56:51.082 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 1792.642ms
2025-07-14 10:56:53.480 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Roles - null null
2025-07-14 10:56:53.503 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 10:56:53.509 +04:00 [DBG] Request matched endpoint 'HTTP: GET /Roles'
2025-07-14 10:56:53.516 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 10:56:53.525 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 10:56:53.532 +04:00 [INF] Executing endpoint 'HTTP: GET /Roles'
2025-07-14 10:56:53.676 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 10:56:53.693 +04:00 [DBG] Compiling query expression: 
'DbSet<Role>()'
2025-07-14 10:56:53.826 +04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Role>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.CreatedAt (DateTime) Required, 1], [Property: Role.CreatedUserId (int) Required FK Index, 2], [Property: Role.DeletedAt (DateTime?), 3], [Property: Role.DeletedUserId (int?) FK Index, 4], [Property: Role.IsDeleted (bool) Required, 5], [Property: Role.ModifiedAt (DateTime?), 6], [Property: Role.ModifiedUserId (int?) FK Index, 7], [Property: Role.Name (string) Required, 8], [Property: Role.RestoredAt (DateTime?), 9], [Property: Role.RestoredUserId (int?) FK Index, 10] }
        SELECT r.Id, r.CreatedAt, r.CreatedUserId, r.DeletedAt, r.DeletedUserId, r.IsDeleted, r.ModifiedAt, r.ModifiedUserId, r.Name, r.RestoredAt, r.RestoredUserId
        FROM Roles AS r) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.CreatedAt (DateTime) Required, 1], [Property: Role.CreatedUserId (int) Required FK Index, 2], [Property: Role.DeletedAt (DateTime?), 3], [Property: Role.DeletedUserId (int?) FK Index, 4], [Property: Role.IsDeleted (bool) Required, 5], [Property: Role.ModifiedAt (DateTime?), 6], [Property: Role.ModifiedUserId (int?) FK Index, 7], [Property: Role.Name (string) Required, 8], [Property: Role.RestoredAt (DateTime?), 9], [Property: Role.RestoredUserId (int?) FK Index, 10] }
        SELECT r.Id, r.CreatedAt, r.CreatedUserId, r.DeletedAt, r.DeletedUserId, r.IsDeleted, r.ModifiedAt, r.ModifiedUserId, r.Name, r.RestoredAt, r.RestoredUserId
        FROM Roles AS r, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Role entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Role instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Role);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Role.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Role)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")]: 
                        {
                            return 
                            {
                                Role instance;
                                instance = new Role();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<CreatedUserId>k__BackingField = dataReader.GetInt32(2);
                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                instance.<DeletedUserId>k__BackingField = dataReader.IsDBNull(4) ? default(int?) : (int?)dataReader.GetInt32(4);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                instance.<ModifiedAt>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                instance.<ModifiedUserId>k__BackingField = dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7);
                                instance.<Name>k__BackingField = dataReader.GetString(8);
                                instance.<RestoredAt>k__BackingField = dataReader.IsDBNull(9) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(9);
                                instance.<RestoredUserId>k__BackingField = dataReader.IsDBNull(10) ? default(int?) : (int?)dataReader.GetInt32(10);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Role)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: OrderApp.Infrastructure.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-07-14 10:56:53.856 +04:00 [DBG] Creating DbConnection.
2025-07-14 10:56:53.862 +04:00 [DBG] Created DbConnection. (5ms).
2025-07-14 10:56:53.866 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:56:53.873 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:56:53.877 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 10:56:53.879 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-07-14 10:56:53.884 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-07-14 10:56:53.888 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
2025-07-14 10:56:53.916 +04:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
2025-07-14 10:56:53.925 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:56:53.929 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 7ms reading results.
2025-07-14 10:56:53.934 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:56:53.938 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (4ms).
2025-07-14 10:56:54.006 +04:00 [INF] Executed endpoint 'HTTP: GET /Roles'
2025-07-14 10:56:54.176 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Roles   Responded with [200] in 632ms
2025-07-14 10:56:54.183 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 10:56:54.193 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:56:54.199 +04:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-07-14 10:56:54.207 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Roles - 200 104 application/json 726.3125ms
2025-07-14 10:56:59.684 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Roles - application/json 22
2025-07-14 10:56:59.690 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 10:56:59.694 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Roles'
2025-07-14 10:56:59.706 +04:00 [DBG] Policy authentication schemes  did not succeed
2025-07-14 10:56:59.716 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-14 10:56:59.835 +04:00 [DBG] Successfully validated the token.
2025-07-14 10:56:59.840 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-14 10:56:59.844 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Roles - 401 0 null 159.4974ms
2025-07-14 10:56:59.857 +04:00 [DBG] Connection id "0HNE2KED38E9H", Request id "0HNE2KED38E9H:00000007": started reading request body.
2025-07-14 10:56:59.861 +04:00 [DBG] Connection id "0HNE2KED38E9H", Request id "0HNE2KED38E9H:00000007": done reading request body.
2025-07-14 10:57:00.496 +04:00 [DBG] Connection id "0HNE2KED38E9H" received FIN.
2025-07-14 10:57:00.504 +04:00 [DBG] Connection id "0HNE2KED38E9H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 10:57:00.506 +04:00 [DBG] Connection id "0HNE2KED38E9H" is closed. The last processed stream ID was 7.
2025-07-14 10:57:00.525 +04:00 [DBG] The connection queue processing loop for 0HNE2KED38E9H completed.
2025-07-14 10:57:00.542 +04:00 [DBG] Connection id "0HNE2KED38E9H" stopped.
2025-07-14 10:57:05.767 +04:00 [DBG] Connection id "0HNE2KED38E9I" accepted.
2025-07-14 10:57:05.772 +04:00 [DBG] Connection id "0HNE2KED38E9I" started.
2025-07-14 10:57:05.797 +04:00 [DBG] Connection 0HNE2KED38E9I established using the following protocol: "Tls13"
2025-07-14 10:57:05.805 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Roles - null null
2025-07-14 10:57:05.816 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 10:57:05.817 +04:00 [DBG] Request matched endpoint 'HTTP: GET /Roles'
2025-07-14 10:57:05.819 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 10:57:05.824 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 10:57:05.828 +04:00 [INF] Executing endpoint 'HTTP: GET /Roles'
2025-07-14 10:57:06.071 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 10:57:06.085 +04:00 [DBG] Creating DbConnection.
2025-07-14 10:57:06.088 +04:00 [DBG] Created DbConnection. (2ms).
2025-07-14 10:57:06.094 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:57:06.103 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:57:06.112 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 10:57:06.118 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-07-14 10:57:06.126 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-07-14 10:57:06.134 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
2025-07-14 10:57:06.168 +04:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
2025-07-14 10:57:06.181 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:57:06.187 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 7ms reading results.
2025-07-14 10:57:06.195 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:57:06.201 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (5ms).
2025-07-14 10:57:06.218 +04:00 [INF] Executed endpoint 'HTTP: GET /Roles'
2025-07-14 10:57:06.231 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Roles   Responded with [200] in 400ms
2025-07-14 10:57:06.236 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 10:57:06.239 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:57:06.243 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 10:57:06.248 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Roles - 200 104 application/json 443.0877ms
2025-07-14 10:57:10.502 +04:00 [DBG] Connection id "0HNE2KED38E9I" received FIN.
2025-07-14 10:57:10.504 +04:00 [DBG] Connection id "0HNE2KED38E9I" is closed. The last processed stream ID was 1.
2025-07-14 10:57:10.504 +04:00 [DBG] The connection queue processing loop for 0HNE2KED38E9I completed.
2025-07-14 10:57:10.507 +04:00 [DBG] Connection id "0HNE2KED38E9I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 10:57:10.517 +04:00 [DBG] Connection id "0HNE2KED38E9I" stopped.
2025-07-14 10:57:31.026 +04:00 [INF] Application is shutting down...
2025-07-14 10:57:31.028 +04:00 [DBG] Hosting stopping
2025-07-14 10:57:31.044 +04:00 [DBG] Hosting stopped
2025-07-14 10:57:39.423 +04:00 [INF] Starting web host
2025-07-14 10:57:40.000 +04:00 [INF] Options were configured
2025-07-14 10:57:40.044 +04:00 [INF] Infrastructure services registered
2025-07-14 10:57:40.075 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 10:57:40.894 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 10:57:40.952 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 10:57:41.323 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 10:57:41.756 +04:00 [INF] Registered 29 endpoints in 1,663 milliseconds.
2025-07-14 10:57:44.020 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 10:57:44.039 +04:00 [WRN] The foreign key property 'UserRole.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-14 10:57:44.285 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 10:57:44.568 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 10:57:44.724 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 10:57:45.599 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 10:57:45.852 +04:00 [DBG] Creating DbConnection.
2025-07-14 10:57:45.890 +04:00 [DBG] Created DbConnection. (32ms).
2025-07-14 10:57:45.897 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:57:46.311 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:57:46.319 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 10:57:46.333 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-07-14 10:57:46.337 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-07-14 10:57:46.349 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 10:57:46.466 +04:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 10:57:46.497 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:57:46.516 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 31ms reading results.
2025-07-14 10:57:46.535 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:57:46.564 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (28ms).
2025-07-14 10:57:46.571 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 10:57:46.585 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:57:46.597 +04:00 [DBG] Disposed connection to database '' on server '' (11ms).
2025-07-14 10:57:46.603 +04:00 [DBG] Hosting starting
2025-07-14 10:57:46.749 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 10:57:46.885 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 10:57:46.932 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 10:57:46.961 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 10:57:46.969 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 10:57:46.977 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 10:57:46.981 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 10:57:46.993 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 10:57:46.997 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 10:57:47.001 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 10:57:47.010 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 10:57:47.239 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 10:57:47.242 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 10:57:47.378 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 10:57:47.380 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 10:57:47.382 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 10:57:47.384 +04:00 [INF] Hosting environment: Development
2025-07-14 10:57:47.386 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 10:57:47.393 +04:00 [DBG] Hosting started
2025-07-14 10:57:47.813 +04:00 [DBG] Connection id "0HNE2KEUUIQUN" accepted.
2025-07-14 10:57:47.817 +04:00 [DBG] Connection id "0HNE2KEUUIQUN" started.
2025-07-14 10:57:47.908 +04:00 [DBG] Connection 0HNE2KEUUIQUN established using the following protocol: "Tls13"
2025-07-14 10:57:48.111 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 10:57:48.214 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 10:57:48.217 +04:00 [DBG] Request did not match any endpoints
2025-07-14 10:57:48.269 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 10:57:48.500 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 400.1964ms
2025-07-14 10:57:49.546 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 10:57:49.685 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 10:57:49.709 +04:00 [DBG] Request did not match any endpoints
2025-07-14 10:57:49.862 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 10:57:49.879 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 10:57:49.964 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 10:57:52.366 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 2819.8956ms
2025-07-14 10:57:54.827 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Roles - application/json 22
2025-07-14 10:57:54.844 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 10:57:54.848 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Roles'
2025-07-14 10:57:54.851 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 10:57:54.865 +04:00 [DBG] Connection id "0HNE2KEUUIQUN", Request id "0HNE2KEUUIQUN:00000005": started reading request body.
2025-07-14 10:57:55.051 +04:00 [DBG] Connection id "0HNE2KEUUIQUN", Request id "0HNE2KEUUIQUN:00000005": done reading request body.
2025-07-14 10:57:55.060 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 10:57:55.063 +04:00 [INF] Executing endpoint 'HTTP: POST /Roles'
2025-07-14 10:57:55.277 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 10:57:55.365 +04:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .Where(r => r.Name == __roleName_0)
    .FirstOrDefault()'
2025-07-14 10:57:55.693 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Role>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.CreatedAt (DateTime) Required, 1], [Property: Role.CreatedUserId (int) Required FK Index, 2], [Property: Role.DeletedAt (DateTime?), 3], [Property: Role.DeletedUserId (int?) FK Index, 4], [Property: Role.IsDeleted (bool) Required, 5], [Property: Role.ModifiedAt (DateTime?), 6], [Property: Role.ModifiedUserId (int?) FK Index, 7], [Property: Role.Name (string) Required, 8], [Property: Role.RestoredAt (DateTime?), 9], [Property: Role.RestoredUserId (int?) FK Index, 10] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedUserId, r.DeletedAt, r.DeletedUserId, r.IsDeleted, r.ModifiedAt, r.ModifiedUserId, r.Name, r.RestoredAt, r.RestoredUserId
            FROM Roles AS r
            WHERE r.Name == @__roleName_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.CreatedAt (DateTime) Required, 1], [Property: Role.CreatedUserId (int) Required FK Index, 2], [Property: Role.DeletedAt (DateTime?), 3], [Property: Role.DeletedUserId (int?) FK Index, 4], [Property: Role.IsDeleted (bool) Required, 5], [Property: Role.ModifiedAt (DateTime?), 6], [Property: Role.ModifiedUserId (int?) FK Index, 7], [Property: Role.Name (string) Required, 8], [Property: Role.RestoredAt (DateTime?), 9], [Property: Role.RestoredUserId (int?) FK Index, 10] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedUserId, r.DeletedAt, r.DeletedUserId, r.IsDeleted, r.ModifiedAt, r.ModifiedUserId, r.Name, r.RestoredAt, r.RestoredUserId
            FROM Roles AS r
            WHERE r.Name == @__roleName_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Role entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Role instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Role);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Role.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Role)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")]: 
                            {
                                return 
                                {
                                    Role instance;
                                    instance = new Role();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<CreatedUserId>k__BackingField = dataReader.GetInt32(2);
                                    instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                    instance.<DeletedUserId>k__BackingField = dataReader.IsDBNull(4) ? default(int?) : (int?)dataReader.GetInt32(4);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<ModifiedAt>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                    instance.<ModifiedUserId>k__BackingField = dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7);
                                    instance.<Name>k__BackingField = dataReader.GetString(8);
                                    instance.<RestoredAt>k__BackingField = dataReader.IsDBNull(9) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(9);
                                    instance.<RestoredUserId>k__BackingField = dataReader.IsDBNull(10) ? default(int?) : (int?)dataReader.GetInt32(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Role)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 10:57:55.774 +04:00 [DBG] Creating DbConnection.
2025-07-14 10:57:55.777 +04:00 [DBG] Created DbConnection. (2ms).
2025-07-14 10:57:55.781 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:57:55.788 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:57:55.793 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 10:57:55.795 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-07-14 10:57:55.810 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-07-14 10:57:55.820 +04:00 [DBG] Executing DbCommand [Parameters=[@__roleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__roleName_0
2025-07-14 10:57:55.878 +04:00 [ERR] Unhandled
System.Exception: Role Already Exsists
   at OrderApp.Web.Roles.RoleEndpointService.CreateAsync(CreateRoleRequest req, CancellationToken ct) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Roles\RoleEndpointService.cs:line 23
2025-07-14 10:57:55.880 +04:00 [INF] Executed DbCommand (65ms) [Parameters=[@__roleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__roleName_0
2025-07-14 10:57:55.918 +04:00 [INF] Executed endpoint 'HTTP: POST /Roles'
2025-07-14 10:57:55.925 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:57:55.931 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 13ms reading results.
2025-07-14 10:57:55.934 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:57:55.944 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (9ms).
2025-07-14 10:57:56.025 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/Roles  {
  "name": "string"
} Responded with [200] in 1142ms
2025-07-14 10:57:56.030 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 10:57:56.041 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:57:56.045 +04:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-07-14 10:57:56.048 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Roles - 200 84 application/json 1220.4561ms
2025-07-14 10:58:04.340 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Roles - null null
2025-07-14 10:58:04.345 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 10:58:04.348 +04:00 [DBG] Request matched endpoint 'HTTP: GET /Roles'
2025-07-14 10:58:04.356 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 10:58:04.364 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 10:58:04.370 +04:00 [INF] Executing endpoint 'HTTP: GET /Roles'
2025-07-14 10:58:04.598 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 10:58:04.609 +04:00 [DBG] Compiling query expression: 
'DbSet<Role>()'
2025-07-14 10:58:04.624 +04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Role>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.CreatedAt (DateTime) Required, 1], [Property: Role.CreatedUserId (int) Required FK Index, 2], [Property: Role.DeletedAt (DateTime?), 3], [Property: Role.DeletedUserId (int?) FK Index, 4], [Property: Role.IsDeleted (bool) Required, 5], [Property: Role.ModifiedAt (DateTime?), 6], [Property: Role.ModifiedUserId (int?) FK Index, 7], [Property: Role.Name (string) Required, 8], [Property: Role.RestoredAt (DateTime?), 9], [Property: Role.RestoredUserId (int?) FK Index, 10] }
        SELECT r.Id, r.CreatedAt, r.CreatedUserId, r.DeletedAt, r.DeletedUserId, r.IsDeleted, r.ModifiedAt, r.ModifiedUserId, r.Name, r.RestoredAt, r.RestoredUserId
        FROM Roles AS r) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.CreatedAt (DateTime) Required, 1], [Property: Role.CreatedUserId (int) Required FK Index, 2], [Property: Role.DeletedAt (DateTime?), 3], [Property: Role.DeletedUserId (int?) FK Index, 4], [Property: Role.IsDeleted (bool) Required, 5], [Property: Role.ModifiedAt (DateTime?), 6], [Property: Role.ModifiedUserId (int?) FK Index, 7], [Property: Role.Name (string) Required, 8], [Property: Role.RestoredAt (DateTime?), 9], [Property: Role.RestoredUserId (int?) FK Index, 10] }
        SELECT r.Id, r.CreatedAt, r.CreatedUserId, r.DeletedAt, r.DeletedUserId, r.IsDeleted, r.ModifiedAt, r.ModifiedUserId, r.Name, r.RestoredAt, r.RestoredUserId
        FROM Roles AS r, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Role entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Role instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Role);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Role.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Role)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")]: 
                        {
                            return 
                            {
                                Role instance;
                                instance = new Role();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<CreatedUserId>k__BackingField = dataReader.GetInt32(2);
                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                instance.<DeletedUserId>k__BackingField = dataReader.IsDBNull(4) ? default(int?) : (int?)dataReader.GetInt32(4);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                instance.<ModifiedAt>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                instance.<ModifiedUserId>k__BackingField = dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7);
                                instance.<Name>k__BackingField = dataReader.GetString(8);
                                instance.<RestoredAt>k__BackingField = dataReader.IsDBNull(9) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(9);
                                instance.<RestoredUserId>k__BackingField = dataReader.IsDBNull(10) ? default(int?) : (int?)dataReader.GetInt32(10);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Role)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: OrderApp.Infrastructure.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-07-14 10:58:04.637 +04:00 [DBG] Creating DbConnection.
2025-07-14 10:58:04.639 +04:00 [DBG] Created DbConnection. (2ms).
2025-07-14 10:58:04.642 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:58:04.645 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:58:04.648 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 10:58:04.650 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-07-14 10:58:04.652 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-07-14 10:58:04.656 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
2025-07-14 10:58:04.667 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
2025-07-14 10:58:04.678 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:58:04.682 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 6ms reading results.
2025-07-14 10:58:04.687 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:58:04.692 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (5ms).
2025-07-14 10:58:04.754 +04:00 [INF] Executed endpoint 'HTTP: GET /Roles'
2025-07-14 10:58:04.831 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Roles   Responded with [200] in 466ms
2025-07-14 10:58:04.938 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 10:58:04.943 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 10:58:04.945 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 10:58:04.948 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Roles - 200 104 application/json 607.9521ms
2025-07-14 10:58:05.599 +04:00 [DBG] Connection id "0HNE2KEUUIQUN" received FIN.
2025-07-14 10:58:05.603 +04:00 [DBG] Connection id "0HNE2KEUUIQUN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 10:58:05.604 +04:00 [DBG] Connection id "0HNE2KEUUIQUN" is closed. The last processed stream ID was 7.
2025-07-14 10:58:05.609 +04:00 [DBG] The connection queue processing loop for 0HNE2KEUUIQUN completed.
2025-07-14 10:58:05.614 +04:00 [DBG] Connection id "0HNE2KEUUIQUN" stopped.
2025-07-14 11:02:29.119 +04:00 [DBG] Connection id "0HNE2KEUUIQUO" accepted.
2025-07-14 11:02:29.123 +04:00 [DBG] Connection id "0HNE2KEUUIQUO" started.
2025-07-14 11:02:29.139 +04:00 [DBG] Connection 0HNE2KEUUIQUO established using the following protocol: "Tls13"
2025-07-14 11:02:29.147 +04:00 [INF] Request starting HTTP/2 DELETE https://localhost:57679/Roles/1 - null null
2025-07-14 11:02:29.161 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles/1'
2025-07-14 11:02:29.174 +04:00 [DBG] Endpoint 'HTTP: DELETE /Roles/{Id:int}' with route pattern '/Roles/{Id:int}' is valid for the request path '/Roles/1'
2025-07-14 11:02:29.185 +04:00 [DBG] Request matched endpoint 'HTTP: DELETE /Roles/{Id:int}'
2025-07-14 11:02:29.193 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:02:29.201 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 11:02:29.206 +04:00 [INF] Executing endpoint 'HTTP: DELETE /Roles/{Id:int}'
2025-07-14 11:02:29.277 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 11:02:29.518 +04:00 [DBG] Context 'AppDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 11:02:29.541 +04:00 [DBG] An entity of type 'Role' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 11:02:29.568 +04:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-07-14 11:02:29.582 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 11:02:29.714 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 11:02:29.777 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 11:02:29.779 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 11:02:29.963 +04:00 [DBG] Creating DbConnection.
2025-07-14 11:02:29.964 +04:00 [DBG] Created DbConnection. (1ms).
2025-07-14 11:02:29.969 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:02:29.973 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:02:29.980 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 11:02:29.981 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 11:02:29.984 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-07-14 11:02:29.989 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Roles]
OUTPUT 1
WHERE [Id] = @p0;
2025-07-14 11:02:30.045 +04:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Roles]
OUTPUT 1
WHERE [Id] = @p0;
2025-07-14 11:02:30.078 +04:00 [DBG] Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
2025-07-14 11:02:30.083 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:02:30.085 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 26ms reading results.
2025-07-14 11:02:30.090 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:02:30.093 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (2ms).
2025-07-14 11:02:30.106 +04:00 [ERR] Unhandled
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at OrderApp.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Infrastructure\Data\AppDbContext.cs:line 70
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.SaveChangesAsync(CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.DeleteAsync(T entity, CancellationToken cancellationToken)
   at OrderApp.Web.Roles.RoleEndpointService.DeleteAsync(DeleteRoleRequest req, CancellationToken ct) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Roles\RoleEndpointService.cs:line 41
2025-07-14 11:02:30.125 +04:00 [INF] Executed endpoint 'HTTP: DELETE /Roles/{Id:int}'
2025-07-14 11:02:30.128 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Id not found
   at OrderApp.Web.Roles.Delete.Delete.HandleAsync(DeleteRoleRequest request, CancellationToken cancellationToken) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Roles\Delete\Delete.cs:line 16
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-14 11:02:30.157 +04:00 [INF] Source:[::1] Request: DELETE https localhost:57679/Roles/1   Responded with [500] in 956ms
2025-07-14 11:02:30.159 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 11:02:30.162 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:02:30.164 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 11:02:30.174 +04:00 [INF] Request finished HTTP/2 DELETE https://localhost:57679/Roles/1 - 500 2051 application/json 1027.8522ms
2025-07-14 11:02:36.023 +04:00 [DBG] Connection id "0HNE2KEUUIQUO" received FIN.
2025-07-14 11:02:36.026 +04:00 [DBG] Connection id "0HNE2KEUUIQUO" is closed. The last processed stream ID was 1.
2025-07-14 11:02:36.026 +04:00 [DBG] The connection queue processing loop for 0HNE2KEUUIQUO completed.
2025-07-14 11:02:36.028 +04:00 [DBG] Connection id "0HNE2KEUUIQUO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 11:02:36.039 +04:00 [DBG] Connection id "0HNE2KEUUIQUO" stopped.
2025-07-14 11:06:58.218 +04:00 [INF] Application is shutting down...
2025-07-14 11:06:58.219 +04:00 [DBG] Hosting stopping
2025-07-14 11:06:58.227 +04:00 [DBG] Hosting stopped
2025-07-14 11:07:04.073 +04:00 [INF] Starting web host
2025-07-14 11:07:04.510 +04:00 [INF] Options were configured
2025-07-14 11:07:04.516 +04:00 [INF] Infrastructure services registered
2025-07-14 11:07:04.576 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 11:07:05.231 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 11:07:05.274 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 11:07:05.519 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 11:07:06.003 +04:00 [INF] Registered 29 endpoints in 1,362 milliseconds.
2025-07-14 11:07:07.294 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 11:07:07.304 +04:00 [WRN] The foreign key property 'UserRole.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-14 11:07:07.407 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 11:07:07.510 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 11:07:07.592 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 11:07:08.064 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 11:07:08.164 +04:00 [DBG] Creating DbConnection.
2025-07-14 11:07:08.203 +04:00 [DBG] Created DbConnection. (35ms).
2025-07-14 11:07:08.211 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:07:08.569 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:07:08.578 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 11:07:08.593 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-07-14 11:07:08.598 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2025-07-14 11:07:08.611 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 11:07:08.774 +04:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 11:07:08.841 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:07:08.866 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 70ms reading results.
2025-07-14 11:07:08.879 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:07:08.898 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (17ms).
2025-07-14 11:07:08.905 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 11:07:08.912 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:07:08.931 +04:00 [DBG] Disposed connection to database '' on server '' (12ms).
2025-07-14 11:07:08.945 +04:00 [DBG] Hosting starting
2025-07-14 11:07:08.988 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 11:07:09.050 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 11:07:09.062 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 11:07:09.089 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 11:07:09.097 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 11:07:09.107 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 11:07:09.110 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 11:07:09.121 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 11:07:09.124 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 11:07:09.128 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 11:07:09.135 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 11:07:09.266 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 11:07:09.271 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 11:07:09.436 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 11:07:09.437 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 11:07:09.439 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 11:07:09.440 +04:00 [INF] Hosting environment: Development
2025-07-14 11:07:09.442 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 11:07:09.443 +04:00 [DBG] Hosting started
2025-07-14 11:07:12.354 +04:00 [DBG] Connection id "0HNE2KK76F5E5" accepted.
2025-07-14 11:07:12.356 +04:00 [DBG] Connection id "0HNE2KK76F5E5" started.
2025-07-14 11:07:12.415 +04:00 [DBG] Connection 0HNE2KK76F5E5 established using the following protocol: "Tls13"
2025-07-14 11:07:12.468 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 11:07:12.538 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 11:07:12.541 +04:00 [DBG] Request did not match any endpoints
2025-07-14 11:07:12.592 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:07:12.758 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 291.6036ms
2025-07-14 11:07:13.582 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 11:07:13.602 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 11:07:13.608 +04:00 [DBG] Request did not match any endpoints
2025-07-14 11:07:13.614 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:07:13.622 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 11:07:13.660 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 11:07:15.561 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 1983.4081ms
2025-07-14 11:07:16.451 +04:00 [DBG] Connection id "0HNE2KK76F5E5" received FIN.
2025-07-14 11:07:16.456 +04:00 [DBG] The connection queue processing loop for 0HNE2KK76F5E5 completed.
2025-07-14 11:07:16.456 +04:00 [DBG] Connection id "0HNE2KK76F5E5" is closed. The last processed stream ID was 3.
2025-07-14 11:07:16.460 +04:00 [DBG] Connection id "0HNE2KK76F5E5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 11:07:16.471 +04:00 [DBG] Connection id "0HNE2KK76F5E5" stopped.
2025-07-14 11:07:20.357 +04:00 [DBG] Connection id "0HNE2KK76F5E6" accepted.
2025-07-14 11:07:20.361 +04:00 [DBG] Connection id "0HNE2KK76F5E6" started.
2025-07-14 11:07:20.369 +04:00 [DBG] Connection 0HNE2KK76F5E6 established using the following protocol: "Tls13"
2025-07-14 11:07:20.374 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Roles - application/json 22
2025-07-14 11:07:20.379 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 11:07:20.383 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Roles'
2025-07-14 11:07:20.385 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:07:20.389 +04:00 [DBG] Connection id "0HNE2KK76F5E6", Request id "0HNE2KK76F5E6:00000001": started reading request body.
2025-07-14 11:07:20.390 +04:00 [DBG] Connection id "0HNE2KK76F5E6", Request id "0HNE2KK76F5E6:00000001": done reading request body.
2025-07-14 11:07:20.393 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 11:07:20.396 +04:00 [INF] Executing endpoint 'HTTP: POST /Roles'
2025-07-14 11:07:20.475 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 11:07:20.490 +04:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .Where(r => r.Name == __roleName_0)
    .FirstOrDefault()'
2025-07-14 11:07:20.559 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Role>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.CreatedAt (DateTime) Required, 1], [Property: Role.CreatedUserId (int) Required FK Index, 2], [Property: Role.DeletedAt (DateTime?), 3], [Property: Role.DeletedUserId (int?) FK Index, 4], [Property: Role.IsDeleted (bool) Required, 5], [Property: Role.ModifiedAt (DateTime?), 6], [Property: Role.ModifiedUserId (int?) FK Index, 7], [Property: Role.Name (string) Required, 8], [Property: Role.RestoredAt (DateTime?), 9], [Property: Role.RestoredUserId (int?) FK Index, 10] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedUserId, r.DeletedAt, r.DeletedUserId, r.IsDeleted, r.ModifiedAt, r.ModifiedUserId, r.Name, r.RestoredAt, r.RestoredUserId
            FROM Roles AS r
            WHERE r.Name == @__roleName_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.CreatedAt (DateTime) Required, 1], [Property: Role.CreatedUserId (int) Required FK Index, 2], [Property: Role.DeletedAt (DateTime?), 3], [Property: Role.DeletedUserId (int?) FK Index, 4], [Property: Role.IsDeleted (bool) Required, 5], [Property: Role.ModifiedAt (DateTime?), 6], [Property: Role.ModifiedUserId (int?) FK Index, 7], [Property: Role.Name (string) Required, 8], [Property: Role.RestoredAt (DateTime?), 9], [Property: Role.RestoredUserId (int?) FK Index, 10] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedUserId, r.DeletedAt, r.DeletedUserId, r.IsDeleted, r.ModifiedAt, r.ModifiedUserId, r.Name, r.RestoredAt, r.RestoredUserId
            FROM Roles AS r
            WHERE r.Name == @__roleName_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Role entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Role instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Role);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Role.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Role)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")]: 
                            {
                                return 
                                {
                                    Role instance;
                                    instance = new Role();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<CreatedUserId>k__BackingField = dataReader.GetInt32(2);
                                    instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                    instance.<DeletedUserId>k__BackingField = dataReader.IsDBNull(4) ? default(int?) : (int?)dataReader.GetInt32(4);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<ModifiedAt>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                    instance.<ModifiedUserId>k__BackingField = dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7);
                                    instance.<Name>k__BackingField = dataReader.GetString(8);
                                    instance.<RestoredAt>k__BackingField = dataReader.IsDBNull(9) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(9);
                                    instance.<RestoredUserId>k__BackingField = dataReader.IsDBNull(10) ? default(int?) : (int?)dataReader.GetInt32(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Role)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 11:07:20.578 +04:00 [DBG] Creating DbConnection.
2025-07-14 11:07:20.581 +04:00 [DBG] Created DbConnection. (2ms).
2025-07-14 11:07:20.584 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:07:20.587 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:07:20.589 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 11:07:20.590 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 11:07:20.594 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-07-14 11:07:20.602 +04:00 [DBG] Executing DbCommand [Parameters=[@__roleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__roleName_0
2025-07-14 11:07:20.626 +04:00 [INF] Executed DbCommand (30ms) [Parameters=[@__roleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__roleName_0
2025-07-14 11:07:20.636 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:07:20.639 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 7ms reading results.
2025-07-14 11:07:20.641 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:07:20.643 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (1ms).
2025-07-14 11:07:20.702 +04:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Role.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 11:07:20.802 +04:00 [DBG] Context 'AppDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 11:07:20.809 +04:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-07-14 11:07:20.819 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 11:07:20.843 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 11:07:20.860 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 11:07:20.862 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 11:07:20.973 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:07:20.976 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:07:20.981 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 11:07:20.983 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-07-14 11:07:20.987 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-07-14 11:07:20.990 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Roles] ([CreatedAt], [CreatedUserId], [DeletedAt], [DeletedUserId], [IsDeleted], [ModifiedAt], [ModifiedUserId], [Name], [RestoredAt], [RestoredUserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-14 11:07:21.042 +04:00 [INF] Executed DbCommand (52ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Roles] ([CreatedAt], [CreatedUserId], [DeletedAt], [DeletedUserId], [IsDeleted], [ModifiedAt], [ModifiedUserId], [Name], [RestoredAt], [RestoredUserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-14 11:07:21.055 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:07:21.057 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 11ms reading results.
2025-07-14 11:07:21.060 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:07:21.062 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (2ms).
2025-07-14 11:07:21.090 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'OrderApp.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Roles_Users_CreatedUserId". The conflict occurred in database "OrderApp", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e9eb58cf-266e-446e-ad38-c73475be0896
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Roles_Users_CreatedUserId". The conflict occurred in database "OrderApp", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e9eb58cf-266e-446e-ad38-c73475be0896
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-14 11:07:21.107 +04:00 [ERR] Unhandled
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Roles_Users_CreatedUserId". The conflict occurred in database "OrderApp", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e9eb58cf-266e-446e-ad38-c73475be0896
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at OrderApp.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Infrastructure\Data\AppDbContext.cs:line 70
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.SaveChangesAsync(CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.AddAsync(T entity, CancellationToken cancellationToken)
   at OrderApp.Web.Roles.RoleEndpointService.CreateAsync(CreateRoleRequest req, CancellationToken ct) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Roles\RoleEndpointService.cs:line 24
2025-07-14 11:07:21.134 +04:00 [INF] Executed endpoint 'HTTP: POST /Roles'
2025-07-14 11:07:21.191 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/Roles  {
  "name": "string"
} Responded with [200] in 787ms
2025-07-14 11:07:21.195 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 11:07:21.207 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:07:21.218 +04:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-07-14 11:07:21.221 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Roles - 200 84 application/json 847.9194ms
2025-07-14 11:07:26.457 +04:00 [DBG] Connection id "0HNE2KK76F5E6" received FIN.
2025-07-14 11:07:26.459 +04:00 [DBG] Connection id "0HNE2KK76F5E6" is closed. The last processed stream ID was 1.
2025-07-14 11:07:26.460 +04:00 [DBG] The connection queue processing loop for 0HNE2KK76F5E6 completed.
2025-07-14 11:07:26.461 +04:00 [DBG] Connection id "0HNE2KK76F5E6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 11:07:26.473 +04:00 [DBG] Connection id "0HNE2KK76F5E6" stopped.
2025-07-14 11:08:12.713 +04:00 [INF] Application is shutting down...
2025-07-14 11:08:12.735 +04:00 [DBG] Hosting stopping
2025-07-14 11:08:12.768 +04:00 [DBG] Hosting stopped
2025-07-14 11:08:21.715 +04:00 [INF] Starting web host
2025-07-14 11:08:22.285 +04:00 [INF] Options were configured
2025-07-14 11:08:22.559 +04:00 [INF] Infrastructure services registered
2025-07-14 11:08:22.595 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 11:08:23.352 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 11:08:23.398 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 11:08:23.667 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 11:08:24.066 +04:00 [INF] Registered 29 endpoints in 1,451 milliseconds.
2025-07-14 11:08:25.962 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 11:08:25.973 +04:00 [WRN] The foreign key property 'UserRole.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-14 11:08:26.077 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 11:08:26.196 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 11:08:26.326 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 11:08:26.887 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 11:08:27.044 +04:00 [DBG] Creating DbConnection.
2025-07-14 11:08:27.078 +04:00 [DBG] Created DbConnection. (27ms).
2025-07-14 11:08:27.084 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:08:27.464 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:08:27.473 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 11:08:27.487 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-07-14 11:08:27.494 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2025-07-14 11:08:27.508 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 11:08:27.665 +04:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 11:08:27.708 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:08:27.721 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 44ms reading results.
2025-07-14 11:08:27.731 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:08:27.741 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (10ms).
2025-07-14 11:08:27.746 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 11:08:27.751 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:08:27.759 +04:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-07-14 11:08:27.764 +04:00 [DBG] Hosting starting
2025-07-14 11:08:27.789 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 11:08:27.833 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 11:08:27.844 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 11:08:27.860 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 11:08:27.865 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 11:08:27.868 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 11:08:27.874 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 11:08:27.880 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 11:08:27.883 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 11:08:27.888 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 11:08:27.890 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 11:08:28.019 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 11:08:28.023 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 11:08:28.144 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 11:08:28.190 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 11:08:28.201 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 11:08:28.208 +04:00 [INF] Hosting environment: Development
2025-07-14 11:08:28.210 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 11:08:28.213 +04:00 [DBG] Hosting started
2025-07-14 11:08:29.200 +04:00 [DBG] Connection id "0HNE2KKU3AJ1E" accepted.
2025-07-14 11:08:29.203 +04:00 [DBG] Connection id "0HNE2KKU3AJ1E" started.
2025-07-14 11:08:29.389 +04:00 [DBG] Connection 0HNE2KKU3AJ1E established using the following protocol: "Tls13"
2025-07-14 11:08:29.478 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 11:08:29.598 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 11:08:29.600 +04:00 [DBG] Request did not match any endpoints
2025-07-14 11:08:29.658 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:08:29.855 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 348.0393ms
2025-07-14 11:08:30.728 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 11:08:30.777 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 11:08:30.794 +04:00 [DBG] Request did not match any endpoints
2025-07-14 11:08:30.801 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:08:30.818 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 11:08:30.853 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 11:08:32.533 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 1805.5408ms
2025-07-14 11:08:34.842 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Roles - application/json 22
2025-07-14 11:08:34.855 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 11:08:34.859 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Roles'
2025-07-14 11:08:34.864 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:08:34.876 +04:00 [DBG] Connection id "0HNE2KKU3AJ1E", Request id "0HNE2KKU3AJ1E:00000005": started reading request body.
2025-07-14 11:08:34.881 +04:00 [DBG] Connection id "0HNE2KKU3AJ1E", Request id "0HNE2KKU3AJ1E:00000005": done reading request body.
2025-07-14 11:08:34.890 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 11:08:34.899 +04:00 [INF] Executing endpoint 'HTTP: POST /Roles'
2025-07-14 11:08:35.262 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 11:08:35.298 +04:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .Where(r => r.Name == __roleName_0)
    .FirstOrDefault()'
2025-07-14 11:08:35.460 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Role>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.CreatedAt (DateTime) Required, 1], [Property: Role.CreatedUserId (int) Required FK Index, 2], [Property: Role.DeletedAt (DateTime?), 3], [Property: Role.DeletedUserId (int?) FK Index, 4], [Property: Role.IsDeleted (bool) Required, 5], [Property: Role.ModifiedAt (DateTime?), 6], [Property: Role.ModifiedUserId (int?) FK Index, 7], [Property: Role.Name (string) Required, 8], [Property: Role.RestoredAt (DateTime?), 9], [Property: Role.RestoredUserId (int?) FK Index, 10] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedUserId, r.DeletedAt, r.DeletedUserId, r.IsDeleted, r.ModifiedAt, r.ModifiedUserId, r.Name, r.RestoredAt, r.RestoredUserId
            FROM Roles AS r
            WHERE r.Name == @__roleName_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.CreatedAt (DateTime) Required, 1], [Property: Role.CreatedUserId (int) Required FK Index, 2], [Property: Role.DeletedAt (DateTime?), 3], [Property: Role.DeletedUserId (int?) FK Index, 4], [Property: Role.IsDeleted (bool) Required, 5], [Property: Role.ModifiedAt (DateTime?), 6], [Property: Role.ModifiedUserId (int?) FK Index, 7], [Property: Role.Name (string) Required, 8], [Property: Role.RestoredAt (DateTime?), 9], [Property: Role.RestoredUserId (int?) FK Index, 10] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedUserId, r.DeletedAt, r.DeletedUserId, r.IsDeleted, r.ModifiedAt, r.ModifiedUserId, r.Name, r.RestoredAt, r.RestoredUserId
            FROM Roles AS r
            WHERE r.Name == @__roleName_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Role entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Role instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Role);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Role.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Role)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")]: 
                            {
                                return 
                                {
                                    Role instance;
                                    instance = new Role();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<CreatedUserId>k__BackingField = dataReader.GetInt32(2);
                                    instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                    instance.<DeletedUserId>k__BackingField = dataReader.IsDBNull(4) ? default(int?) : (int?)dataReader.GetInt32(4);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<ModifiedAt>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                    instance.<ModifiedUserId>k__BackingField = dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7);
                                    instance.<Name>k__BackingField = dataReader.GetString(8);
                                    instance.<RestoredAt>k__BackingField = dataReader.IsDBNull(9) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(9);
                                    instance.<RestoredUserId>k__BackingField = dataReader.IsDBNull(10) ? default(int?) : (int?)dataReader.GetInt32(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Role)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 11:08:35.550 +04:00 [DBG] Creating DbConnection.
2025-07-14 11:08:35.591 +04:00 [DBG] Created DbConnection. (41ms).
2025-07-14 11:08:35.594 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:08:35.598 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:08:35.602 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 11:08:35.606 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-07-14 11:08:35.612 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-07-14 11:08:35.633 +04:00 [DBG] Executing DbCommand [Parameters=[@__roleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__roleName_0
2025-07-14 11:08:35.681 +04:00 [INF] Executed DbCommand (67ms) [Parameters=[@__roleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__roleName_0
2025-07-14 11:08:35.692 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:08:35.695 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 9ms reading results.
2025-07-14 11:08:35.698 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:08:35.700 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (1ms).
2025-07-14 11:08:35.779 +04:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Role.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 11:08:35.906 +04:00 [DBG] Context 'AppDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 11:08:35.917 +04:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-07-14 11:08:35.961 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 11:08:36.082 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 11:08:36.096 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 11:08:36.098 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 11:08:36.227 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:08:36.229 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:08:36.234 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 11:08:36.238 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-07-14 11:08:36.241 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-07-14 11:08:36.243 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Roles] ([CreatedAt], [CreatedUserId], [DeletedAt], [DeletedUserId], [IsDeleted], [ModifiedAt], [ModifiedUserId], [Name], [RestoredAt], [RestoredUserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-14 11:08:36.257 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Roles] ([CreatedAt], [CreatedUserId], [DeletedAt], [DeletedUserId], [IsDeleted], [ModifiedAt], [ModifiedUserId], [Name], [RestoredAt], [RestoredUserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-14 11:08:36.278 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:08:36.281 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 19ms reading results.
2025-07-14 11:08:36.286 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:08:36.291 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (5ms).
2025-07-14 11:08:36.324 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'OrderApp.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Roles_Users_CreatedUserId". The conflict occurred in database "OrderApp", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:32ad767f-b061-4422-9c25-612e989f3d9e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Roles_Users_CreatedUserId". The conflict occurred in database "OrderApp", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:32ad767f-b061-4422-9c25-612e989f3d9e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-14 11:08:36.341 +04:00 [ERR] Unhandled
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Roles_Users_CreatedUserId". The conflict occurred in database "OrderApp", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:32ad767f-b061-4422-9c25-612e989f3d9e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at OrderApp.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Infrastructure\Data\AppDbContext.cs:line 70
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.SaveChangesAsync(CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.AddAsync(T entity, CancellationToken cancellationToken)
   at OrderApp.Web.Roles.RoleEndpointService.CreateAsync(CreateRoleRequest req, CancellationToken ct) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Roles\RoleEndpointService.cs:line 25
2025-07-14 11:08:36.361 +04:00 [INF] Executed endpoint 'HTTP: POST /Roles'
2025-07-14 11:08:36.408 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/Roles  {
  "name": "string"
} Responded with [200] in 1529ms
2025-07-14 11:08:36.411 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 11:08:36.417 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:08:36.420 +04:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-07-14 11:08:36.422 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Roles - 200 84 application/json 1580.8553ms
2025-07-14 11:08:36.642 +04:00 [DBG] Connection id "0HNE2KKU3AJ1E" received FIN.
2025-07-14 11:08:36.732 +04:00 [DBG] Connection id "0HNE2KKU3AJ1E" is closed. The last processed stream ID was 5.
2025-07-14 11:08:36.733 +04:00 [DBG] The connection queue processing loop for 0HNE2KKU3AJ1E completed.
2025-07-14 11:08:36.744 +04:00 [DBG] Connection id "0HNE2KKU3AJ1E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 11:08:36.758 +04:00 [DBG] Connection id "0HNE2KKU3AJ1E" stopped.
2025-07-14 11:10:20.293 +04:00 [INF] Application is shutting down...
2025-07-14 11:10:20.294 +04:00 [DBG] Hosting stopping
2025-07-14 11:10:20.301 +04:00 [DBG] Hosting stopped
2025-07-14 11:10:33.927 +04:00 [INF] Starting web host
2025-07-14 11:10:34.607 +04:00 [INF] Options were configured
2025-07-14 11:10:34.623 +04:00 [INF] Infrastructure services registered
2025-07-14 11:10:34.655 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 11:10:35.179 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 11:10:35.274 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 11:10:35.614 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 11:10:36.030 +04:00 [INF] Registered 29 endpoints in 1,334 milliseconds.
2025-07-14 11:10:37.659 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 11:10:37.664 +04:00 [WRN] The foreign key property 'UserRole.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-14 11:10:37.708 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 11:10:37.801 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 11:10:37.865 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 11:10:38.135 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 11:10:38.286 +04:00 [DBG] Creating DbConnection.
2025-07-14 11:10:38.312 +04:00 [DBG] Created DbConnection. (24ms).
2025-07-14 11:10:38.316 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:10:38.773 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:10:38.779 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 11:10:38.791 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-07-14 11:10:38.794 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-07-14 11:10:38.804 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 11:10:38.879 +04:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 11:10:38.906 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:10:38.915 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 28ms reading results.
2025-07-14 11:10:38.920 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:10:38.928 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (8ms).
2025-07-14 11:10:38.929 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 11:10:38.932 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:10:38.933 +04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-07-14 11:10:38.936 +04:00 [DBG] Hosting starting
2025-07-14 11:10:39.022 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 11:10:39.110 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 11:10:39.121 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 11:10:39.138 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 11:10:39.143 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 11:10:39.143 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 11:10:39.146 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 11:10:39.150 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 11:10:39.152 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 11:10:39.154 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 11:10:39.156 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 11:10:39.304 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 11:10:39.305 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 11:10:39.505 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 11:10:39.505 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 11:10:39.506 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 11:10:39.506 +04:00 [INF] Hosting environment: Development
2025-07-14 11:10:39.506 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 11:10:39.506 +04:00 [DBG] Hosting started
2025-07-14 11:50:55.668 +04:00 [INF] Starting web host
2025-07-14 11:51:33.743 +04:00 [INF] Starting web host
2025-07-14 11:51:34.447 +04:00 [INF] Options were configured
2025-07-14 11:51:34.469 +04:00 [INF] Infrastructure services registered
2025-07-14 11:51:34.516 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 11:51:35.382 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 11:51:35.456 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 11:51:35.911 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 11:51:36.488 +04:00 [INF] Registered 29 endpoints in 1,915 milliseconds.
2025-07-14 11:51:38.715 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 11:51:38.727 +04:00 [WRN] The foreign key property 'UserRole.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-14 11:51:38.896 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 11:51:39.069 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 11:51:39.157 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 11:51:39.621 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 11:51:39.885 +04:00 [DBG] Creating DbConnection.
2025-07-14 11:51:39.919 +04:00 [DBG] Created DbConnection. (29ms).
2025-07-14 11:51:39.926 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:51:40.361 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:51:40.369 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 11:51:40.383 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-07-14 11:51:40.389 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2025-07-14 11:51:40.404 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 11:51:40.499 +04:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 11:51:40.529 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:51:40.541 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 31ms reading results.
2025-07-14 11:51:40.548 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:51:40.559 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (11ms).
2025-07-14 11:51:40.587 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 11:51:40.592 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:51:40.595 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 11:51:40.600 +04:00 [DBG] Hosting starting
2025-07-14 11:51:40.619 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 11:51:40.730 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 11:51:40.750 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 11:51:40.815 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 11:51:40.841 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 11:51:40.851 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 11:51:40.855 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 11:51:40.863 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 11:51:40.866 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 11:51:40.869 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 11:51:40.875 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 11:51:40.982 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 11:51:40.984 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 11:51:41.106 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 11:51:41.180 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 11:51:41.189 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 11:51:41.191 +04:00 [INF] Hosting environment: Development
2025-07-14 11:51:41.192 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 11:51:41.195 +04:00 [DBG] Hosting started
2025-07-14 11:51:47.142 +04:00 [DBG] Connection id "0HNE2LD4B7FE0" accepted.
2025-07-14 11:51:47.152 +04:00 [DBG] Connection id "0HNE2LD4B7FE0" started.
2025-07-14 11:51:47.266 +04:00 [DBG] Connection 0HNE2LD4B7FE0 established using the following protocol: "Tls13"
2025-07-14 11:51:47.561 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 11:51:47.691 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 11:51:47.721 +04:00 [DBG] Request did not match any endpoints
2025-07-14 11:51:47.805 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:51:48.084 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 11:51:48.136 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 577.7635ms
2025-07-14 11:51:48.171 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/favicon-16x16.png - null null
2025-07-14 11:51:48.436 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 11:51:48.456 +04:00 [DBG] Request did not match any endpoints
2025-07-14 11:51:48.455 +04:00 [DBG] No candidates found for the request path '/swagger/favicon-16x16.png'
2025-07-14 11:51:48.458 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:51:48.459 +04:00 [DBG] Request did not match any endpoints
2025-07-14 11:51:48.466 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 11:51:48.468 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:51:48.487 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 11:51:48.514 +04:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-07-14 11:51:48.521 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 11:51:48.522 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/favicon-32x32.png - null null
2025-07-14 11:51:48.784 +04:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2025-07-14 11:51:48.757 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 11:51:48.801 +04:00 [DBG] Request did not match any endpoints
2025-07-14 11:51:48.800 +04:00 [DBG] Request did not match any endpoints
2025-07-14 11:51:48.755 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/favicon-16x16.png - 200 665 image/png 583.9419ms
2025-07-14 11:51:48.802 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:51:48.815 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:51:48.849 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-07-14 11:51:48.863 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/favicon-32x32.png - 200 628 image/png 341.3012ms
2025-07-14 11:51:50.131 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 2047.8943ms
2025-07-14 11:51:50.132 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 1611.1139ms
2025-07-14 11:51:50.547 +04:00 [DBG] Connection id "0HNE2LD4B7FE0" received FIN.
2025-07-14 11:51:50.563 +04:00 [DBG] Connection id "0HNE2LD4B7FE0" is closed. The last processed stream ID was 9.
2025-07-14 11:51:50.565 +04:00 [DBG] The connection queue processing loop for 0HNE2LD4B7FE0 completed.
2025-07-14 11:51:50.566 +04:00 [DBG] Connection id "0HNE2LD4B7FE0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 11:51:50.588 +04:00 [DBG] Connection id "0HNE2LD4B7FE0" stopped.
2025-07-14 11:51:54.478 +04:00 [DBG] Connection id "0HNE2LD4B7FE1" accepted.
2025-07-14 11:51:54.480 +04:00 [DBG] Connection id "0HNE2LD4B7FE1" started.
2025-07-14 11:51:54.491 +04:00 [DBG] Connection 0HNE2LD4B7FE1 established using the following protocol: "Tls13"
2025-07-14 11:51:54.500 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Roles - null null
2025-07-14 11:51:54.514 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 11:51:54.516 +04:00 [DBG] Request matched endpoint 'HTTP: GET /Roles'
2025-07-14 11:51:54.521 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:51:54.526 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 11:51:54.533 +04:00 [INF] Executing endpoint 'HTTP: GET /Roles'
2025-07-14 11:51:54.604 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 11:51:54.618 +04:00 [DBG] Compiling query expression: 
'DbSet<Role>()'
2025-07-14 11:51:54.690 +04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Role>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.CreatedAt (DateTime) Required, 1], [Property: Role.CreatedUserId (int) Required FK Index, 2], [Property: Role.DeletedAt (DateTime?), 3], [Property: Role.DeletedUserId (int?) FK Index, 4], [Property: Role.IsDeleted (bool) Required, 5], [Property: Role.ModifiedAt (DateTime?), 6], [Property: Role.ModifiedUserId (int?) FK Index, 7], [Property: Role.Name (string) Required, 8], [Property: Role.RestoredAt (DateTime?), 9], [Property: Role.RestoredUserId (int?) FK Index, 10] }
        SELECT r.Id, r.CreatedAt, r.CreatedUserId, r.DeletedAt, r.DeletedUserId, r.IsDeleted, r.ModifiedAt, r.ModifiedUserId, r.Name, r.RestoredAt, r.RestoredUserId
        FROM Roles AS r) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.CreatedAt (DateTime) Required, 1], [Property: Role.CreatedUserId (int) Required FK Index, 2], [Property: Role.DeletedAt (DateTime?), 3], [Property: Role.DeletedUserId (int?) FK Index, 4], [Property: Role.IsDeleted (bool) Required, 5], [Property: Role.ModifiedAt (DateTime?), 6], [Property: Role.ModifiedUserId (int?) FK Index, 7], [Property: Role.Name (string) Required, 8], [Property: Role.RestoredAt (DateTime?), 9], [Property: Role.RestoredUserId (int?) FK Index, 10] }
        SELECT r.Id, r.CreatedAt, r.CreatedUserId, r.DeletedAt, r.DeletedUserId, r.IsDeleted, r.ModifiedAt, r.ModifiedUserId, r.Name, r.RestoredAt, r.RestoredUserId
        FROM Roles AS r, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Role entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Role instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Role);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Role.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Role)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")]: 
                        {
                            return 
                            {
                                Role instance;
                                instance = new Role();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<CreatedUserId>k__BackingField = dataReader.GetInt32(2);
                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                instance.<DeletedUserId>k__BackingField = dataReader.IsDBNull(4) ? default(int?) : (int?)dataReader.GetInt32(4);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                instance.<ModifiedAt>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                instance.<ModifiedUserId>k__BackingField = dataReader.IsDBNull(7) ? default(int?) : (int?)dataReader.GetInt32(7);
                                instance.<Name>k__BackingField = dataReader.GetString(8);
                                instance.<RestoredAt>k__BackingField = dataReader.IsDBNull(9) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(9);
                                instance.<RestoredUserId>k__BackingField = dataReader.IsDBNull(10) ? default(int?) : (int?)dataReader.GetInt32(10);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.Role")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Role)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: OrderApp.Infrastructure.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-07-14 11:51:54.707 +04:00 [DBG] Creating DbConnection.
2025-07-14 11:51:54.710 +04:00 [DBG] Created DbConnection. (2ms).
2025-07-14 11:51:54.713 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:51:54.720 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:51:54.723 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 11:51:54.725 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-14 11:51:54.728 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-07-14 11:51:54.733 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
2025-07-14 11:51:54.745 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
2025-07-14 11:51:54.812 +04:00 [DBG] Context 'AppDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 11:51:54.972 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:51:54.978 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 223ms reading results.
2025-07-14 11:51:54.988 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:51:54.995 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (7ms).
2025-07-14 11:51:55.101 +04:00 [INF] Executed endpoint 'HTTP: GET /Roles'
2025-07-14 11:51:55.337 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Roles   Responded with [200] in 779ms
2025-07-14 11:51:55.340 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 11:51:55.348 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:51:55.351 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 11:51:55.354 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Roles - 200 172 application/json 854.1034ms
2025-07-14 11:51:55.514 +04:00 [DBG] Connection id "0HNE2LD4B7FE1" received FIN.
2025-07-14 11:51:55.571 +04:00 [DBG] Connection id "0HNE2LD4B7FE1" is closed. The last processed stream ID was 1.
2025-07-14 11:51:55.586 +04:00 [DBG] Connection id "0HNE2LD4B7FE1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 11:51:55.572 +04:00 [DBG] The connection queue processing loop for 0HNE2LD4B7FE1 completed.
2025-07-14 11:51:55.721 +04:00 [DBG] Connection id "0HNE2LD4B7FE1" stopped.
2025-07-14 11:53:20.797 +04:00 [DBG] Connection id "0HNE2LD4B7FE2" accepted.
2025-07-14 11:53:20.801 +04:00 [DBG] Connection id "0HNE2LD4B7FE2" started.
2025-07-14 11:53:20.816 +04:00 [DBG] Connection 0HNE2LD4B7FE2 established using the following protocol: "Tls13"
2025-07-14 11:53:20.823 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 11:53:20.832 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 11:53:20.837 +04:00 [DBG] Request did not match any endpoints
2025-07-14 11:53:20.839 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:53:20.845 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 21.9578ms
2025-07-14 11:53:21.261 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 11:53:21.269 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 11:53:21.270 +04:00 [DBG] Request did not match any endpoints
2025-07-14 11:53:21.271 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:53:21.273 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 12.3642ms
2025-07-14 11:53:23.290 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Roles - null null
2025-07-14 11:53:23.296 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 11:53:23.299 +04:00 [DBG] Request matched endpoint 'HTTP: GET /Roles'
2025-07-14 11:53:23.302 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:53:23.305 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 11:53:23.308 +04:00 [INF] Executing endpoint 'HTTP: GET /Roles'
2025-07-14 11:53:23.401 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 11:53:23.408 +04:00 [DBG] Creating DbConnection.
2025-07-14 11:53:23.410 +04:00 [DBG] Created DbConnection. (1ms).
2025-07-14 11:53:23.412 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:53:23.416 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:53:23.421 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 11:53:23.428 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-07-14 11:53:23.432 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-07-14 11:53:23.438 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
2025-07-14 11:53:23.455 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
2025-07-14 11:53:23.466 +04:00 [DBG] Context 'AppDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 11:53:23.473 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:53:23.481 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 16ms reading results.
2025-07-14 11:53:23.488 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:53:23.497 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (8ms).
2025-07-14 11:53:23.510 +04:00 [INF] Executed endpoint 'HTTP: GET /Roles'
2025-07-14 11:53:23.519 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Roles   Responded with [200] in 213ms
2025-07-14 11:53:23.525 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 11:53:23.531 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:53:23.537 +04:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-07-14 11:53:23.545 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Roles - 200 172 application/json 254.7729ms
2025-07-14 11:53:25.628 +04:00 [DBG] Connection id "0HNE2LD4B7FE2" received FIN.
2025-07-14 11:53:25.631 +04:00 [DBG] Connection id "0HNE2LD4B7FE2" is closed. The last processed stream ID was 5.
2025-07-14 11:53:25.631 +04:00 [DBG] The connection queue processing loop for 0HNE2LD4B7FE2 completed.
2025-07-14 11:53:25.633 +04:00 [DBG] Connection id "0HNE2LD4B7FE2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 11:53:25.643 +04:00 [DBG] Connection id "0HNE2LD4B7FE2" stopped.
2025-07-14 11:53:40.397 +04:00 [DBG] Connection id "0HNE2LD4B7FE3" accepted.
2025-07-14 11:53:40.447 +04:00 [DBG] Connection id "0HNE2LD4B7FE3" started.
2025-07-14 11:53:40.455 +04:00 [DBG] Connection 0HNE2LD4B7FE3 established using the following protocol: "Tls13"
2025-07-14 11:53:40.467 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Roles - null null
2025-07-14 11:53:40.475 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 11:53:40.479 +04:00 [DBG] Request matched endpoint 'HTTP: GET /Roles'
2025-07-14 11:53:40.482 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:53:40.486 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 11:53:40.488 +04:00 [INF] Executing endpoint 'HTTP: GET /Roles'
2025-07-14 11:53:40.492 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 11:53:40.497 +04:00 [DBG] Creating DbConnection.
2025-07-14 11:53:40.500 +04:00 [DBG] Created DbConnection. (2ms).
2025-07-14 11:53:40.502 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:53:40.506 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:53:40.509 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 11:53:40.512 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-07-14 11:53:40.516 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-07-14 11:53:40.519 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
2025-07-14 11:53:40.526 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedUserId], [r].[DeletedAt], [r].[DeletedUserId], [r].[IsDeleted], [r].[ModifiedAt], [r].[ModifiedUserId], [r].[Name], [r].[RestoredAt], [r].[RestoredUserId]
FROM [Roles] AS [r]
2025-07-14 11:53:40.532 +04:00 [DBG] Context 'AppDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 11:53:40.537 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:53:40.541 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 9ms reading results.
2025-07-14 11:53:40.546 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:53:40.551 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (4ms).
2025-07-14 11:53:40.554 +04:00 [INF] Executed endpoint 'HTTP: GET /Roles'
2025-07-14 11:53:40.558 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Roles   Responded with [200] in 72ms
2025-07-14 11:53:40.562 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 11:53:40.568 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 11:53:40.570 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 11:53:40.573 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Roles - 200 172 application/json 106.5481ms
2025-07-14 11:53:45.657 +04:00 [DBG] Connection id "0HNE2LD4B7FE3" received FIN.
2025-07-14 11:53:45.661 +04:00 [DBG] Connection id "0HNE2LD4B7FE3" is closed. The last processed stream ID was 1.
2025-07-14 11:53:45.662 +04:00 [DBG] The connection queue processing loop for 0HNE2LD4B7FE3 completed.
2025-07-14 11:53:45.666 +04:00 [DBG] Connection id "0HNE2LD4B7FE3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 11:53:45.686 +04:00 [DBG] Connection id "0HNE2LD4B7FE3" stopped.
2025-07-14 11:53:53.706 +04:00 [DBG] Connection id "0HNE2LD4B7FE4" accepted.
2025-07-14 11:53:53.712 +04:00 [DBG] Connection id "0HNE2LD4B7FE4" started.
2025-07-14 11:53:53.737 +04:00 [DBG] Connection 0HNE2LD4B7FE4 established using the following protocol: "Tls13"
2025-07-14 11:53:53.752 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/auth/login - application/json 47
2025-07-14 11:53:53.763 +04:00 [DBG] 1 candidate(s) found for the request path '/auth/login'
2025-07-14 11:53:53.768 +04:00 [DBG] Request matched endpoint 'HTTP: POST /auth/login'
2025-07-14 11:53:53.772 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:53:53.787 +04:00 [DBG] Connection id "0HNE2LD4B7FE4", Request id "0HNE2LD4B7FE4:00000001": started reading request body.
2025-07-14 11:53:53.793 +04:00 [DBG] Connection id "0HNE2LD4B7FE4", Request id "0HNE2LD4B7FE4:00000001": done reading request body.
2025-07-14 11:53:53.797 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 11:53:53.801 +04:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-07-14 11:53:53.985 +04:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-07-14 11:53:53.989 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '240' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at OrderApp.Web.Login.LoginEndpoint.HandleAsync(LoginRequest req, CancellationToken ct) in C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web\Login\LoginEndpoint.cs:line 36
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-14 11:53:54.075 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/auth/login  {
  "username": "admin",
  "password": "1234"
} Responded with [500] in 298ms
2025-07-14 11:53:54.081 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/auth/login - 500 3190 application/json 328.3016ms
2025-07-14 11:53:55.676 +04:00 [DBG] Connection id "0HNE2LD4B7FE4" received FIN.
2025-07-14 11:53:55.681 +04:00 [DBG] Connection id "0HNE2LD4B7FE4" is closed. The last processed stream ID was 1.
2025-07-14 11:53:55.681 +04:00 [DBG] The connection queue processing loop for 0HNE2LD4B7FE4 completed.
2025-07-14 11:53:55.684 +04:00 [DBG] Connection id "0HNE2LD4B7FE4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 11:53:55.706 +04:00 [DBG] Connection id "0HNE2LD4B7FE4" stopped.
2025-07-14 11:54:59.838 +04:00 [DBG] Config reload token fired. Checking for changes...
2025-07-14 11:54:59.844 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 11:54:59.849 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 11:55:00.115 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 11:55:00.118 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 11:55:00.121 +04:00 [DBG] Config reload token fired. Checking for changes...
2025-07-14 11:55:10.727 +04:00 [DBG] Connection id "0HNE2LD4B7FE5" accepted.
2025-07-14 11:55:10.730 +04:00 [DBG] Connection id "0HNE2LD4B7FE5" started.
2025-07-14 11:55:10.808 +04:00 [DBG] Connection 0HNE2LD4B7FE5 established using the following protocol: "Tls13"
2025-07-14 11:55:10.814 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/auth/login - application/json 47
2025-07-14 11:55:10.825 +04:00 [DBG] 1 candidate(s) found for the request path '/auth/login'
2025-07-14 11:55:10.827 +04:00 [DBG] Request matched endpoint 'HTTP: POST /auth/login'
2025-07-14 11:55:10.828 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 11:55:10.833 +04:00 [DBG] Connection id "0HNE2LD4B7FE5", Request id "0HNE2LD4B7FE5:00000001": started reading request body.
2025-07-14 11:55:10.836 +04:00 [DBG] Connection id "0HNE2LD4B7FE5", Request id "0HNE2LD4B7FE5:00000001": done reading request body.
2025-07-14 11:55:10.841 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 11:55:10.843 +04:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-07-14 11:55:10.854 +04:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-07-14 11:55:10.861 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/auth/login  {
  "username": "admin",
  "password": "1234"
} Responded with [200] in 27ms
2025-07-14 11:55:10.866 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/auth/login - 200 438 application/json 50.5639ms
2025-07-14 11:55:15.769 +04:00 [DBG] Connection id "0HNE2LD4B7FE5" received FIN.
2025-07-14 11:55:15.777 +04:00 [DBG] Connection id "0HNE2LD4B7FE5" is closed. The last processed stream ID was 1.
2025-07-14 11:55:15.777 +04:00 [DBG] The connection queue processing loop for 0HNE2LD4B7FE5 completed.
2025-07-14 11:55:15.782 +04:00 [DBG] Connection id "0HNE2LD4B7FE5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 11:55:15.800 +04:00 [DBG] Connection id "0HNE2LD4B7FE5" stopped.
2025-07-14 12:11:59.620 +04:00 [INF] Application is shutting down...
2025-07-14 12:11:59.622 +04:00 [DBG] Hosting stopping
2025-07-14 12:11:59.636 +04:00 [DBG] Hosting stopped
2025-07-14 12:12:24.358 +04:00 [INF] Starting web host
2025-07-14 12:12:24.803 +04:00 [INF] Options were configured
2025-07-14 12:12:24.815 +04:00 [INF] Infrastructure services registered
2025-07-14 12:12:24.845 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 12:12:25.593 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 12:12:25.653 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 12:12:26.021 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 12:12:26.481 +04:00 [INF] Registered 29 endpoints in 1,570 milliseconds.
2025-07-14 12:12:29.093 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 12:12:30.546 +04:00 [WRN] The foreign key property 'UserRole.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-14 12:12:30.651 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 12:12:30.826 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 12:12:31.031 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 12:12:31.648 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 12:12:31.828 +04:00 [DBG] Creating DbConnection.
2025-07-14 12:12:31.898 +04:00 [DBG] Created DbConnection. (57ms).
2025-07-14 12:12:31.910 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:12:32.401 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:12:32.408 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 12:12:32.422 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-07-14 12:12:32.426 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-07-14 12:12:32.440 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 12:12:32.541 +04:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 12:12:32.568 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:12:32.578 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 26ms reading results.
2025-07-14 12:12:32.586 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:12:32.595 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (9ms).
2025-07-14 12:12:32.600 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 12:12:32.605 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:12:32.608 +04:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-07-14 12:12:32.613 +04:00 [DBG] Hosting starting
2025-07-14 12:12:32.636 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 12:12:32.684 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 12:12:32.692 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 12:12:32.707 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 12:12:32.829 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 12:12:32.873 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 12:12:32.878 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 12:12:32.887 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 12:12:32.893 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 12:12:32.919 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 12:12:32.932 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 12:12:33.140 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 12:12:33.143 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 12:12:33.253 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 12:12:33.255 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 12:12:33.256 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 12:12:33.258 +04:00 [INF] Hosting environment: Development
2025-07-14 12:12:33.259 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 12:12:33.262 +04:00 [DBG] Hosting started
2025-07-14 12:12:33.269 +04:00 [DBG] Connection id "0HNE2LONN7HOV" accepted.
2025-07-14 12:12:33.272 +04:00 [DBG] Connection id "0HNE2LONN7HOV" started.
2025-07-14 12:12:33.372 +04:00 [DBG] Connection 0HNE2LONN7HOV established using the following protocol: "Tls13"
2025-07-14 12:12:33.538 +04:00 [DBG] Connection id "0HNE2LONN7HP0" accepted.
2025-07-14 12:12:33.583 +04:00 [DBG] Connection id "0HNE2LONN7HP0" started.
2025-07-14 12:12:33.592 +04:00 [DBG] Connection 0HNE2LONN7HP0 established using the following protocol: "Tls13"
2025-07-14 12:12:33.598 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 12:12:33.683 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 12:12:33.687 +04:00 [DBG] Request did not match any endpoints
2025-07-14 12:12:33.745 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 12:12:33.950 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 355.5057ms
2025-07-14 12:12:34.976 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 12:12:35.021 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 12:12:35.026 +04:00 [DBG] Request did not match any endpoints
2025-07-14 12:12:35.037 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 12:12:35.049 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 12:12:35.096 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 12:12:37.481 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 2505.1693ms
2025-07-14 12:12:42.366 +04:00 [DBG] Connection id "0HNE2LONN7HP0" received FIN.
2025-07-14 12:12:42.366 +04:00 [DBG] Connection id "0HNE2LONN7HOV" received FIN.
2025-07-14 12:12:42.411 +04:00 [DBG] Connection id "0HNE2LONN7HP0" is closed. The last processed stream ID was 0.
2025-07-14 12:12:42.607 +04:00 [DBG] Connection id "0HNE2LONN7HP0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 12:12:42.549 +04:00 [DBG] Connection id "0HNE2LONN7HOV" is closed. The last processed stream ID was 3.
2025-07-14 12:12:42.550 +04:00 [DBG] Connection id "0HNE2LONN7HOV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 12:12:42.652 +04:00 [DBG] The connection queue processing loop for 0HNE2LONN7HOV completed.
2025-07-14 12:12:42.662 +04:00 [DBG] Connection id "0HNE2LONN7HOV" stopped.
2025-07-14 12:12:42.455 +04:00 [DBG] The connection queue processing loop for 0HNE2LONN7HP0 completed.
2025-07-14 12:12:42.719 +04:00 [DBG] Connection id "0HNE2LONN7HP0" stopped.
2025-07-14 12:12:50.707 +04:00 [DBG] Connection id "0HNE2LONN7HP1" accepted.
2025-07-14 12:12:50.709 +04:00 [DBG] Connection id "0HNE2LONN7HP1" started.
2025-07-14 12:12:50.715 +04:00 [DBG] Connection 0HNE2LONN7HP1 established using the following protocol: "Tls13"
2025-07-14 12:12:52.188 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Users - null null
2025-07-14 12:12:52.212 +04:00 [DBG] 1 candidate(s) found for the request path '/Users'
2025-07-14 12:12:52.221 +04:00 [DBG] Request matched endpoint 'HTTP: GET /Users'
2025-07-14 12:12:52.225 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 12:12:52.238 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 12:12:52.242 +04:00 [INF] Executing endpoint 'HTTP: GET /Users'
2025-07-14 12:12:52.349 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 12:12:52.359 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()'
2025-07-14 12:12:52.594 +04:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<User>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Name (string) Required, 1], [Property: User.Password (string) Required, 2] }
        SELECT u.Id, u.Name, u.Password
        FROM Users AS u) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Name (string) Required, 1], [Property: User.Password (string) Required, 2] }
        SELECT u.Id, u.Name, u.Password
        FROM Users AS u, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            User instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(User);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (User)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.User")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Name>k__BackingField = dataReader.GetString(1);
                                instance.<Password>k__BackingField = dataReader.GetString(2);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: OrderApp.Infrastructure.Data.AppDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-07-14 12:12:52.617 +04:00 [DBG] Creating DbConnection.
2025-07-14 12:12:52.663 +04:00 [DBG] Created DbConnection. (45ms).
2025-07-14 12:12:52.666 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:12:52.672 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:12:52.675 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 12:12:52.682 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-07-14 12:12:52.686 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-07-14 12:12:52.690 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Password]
FROM [Users] AS [u]
2025-07-14 12:12:52.714 +04:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Name], [u].[Password]
FROM [Users] AS [u]
2025-07-14 12:12:52.861 +04:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 12:12:52.928 +04:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 12:12:52.933 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:12:52.936 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 216ms reading results.
2025-07-14 12:12:52.940 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:12:52.943 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (2ms).
2025-07-14 12:12:53.031 +04:00 [INF] Executed endpoint 'HTTP: GET /Users'
2025-07-14 12:12:53.156 +04:00 [INF] Source:[::1] Request: GET https localhost:57679/Users   Responded with [200] in 903ms
2025-07-14 12:12:53.188 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 12:12:53.236 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:12:53.238 +04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-07-14 12:12:53.239 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Users - 200 231 application/json 1051.4847ms
2025-07-14 12:13:02.369 +04:00 [DBG] Connection id "0HNE2LONN7HP1" received FIN.
2025-07-14 12:13:02.375 +04:00 [DBG] Connection id "0HNE2LONN7HP1" is closed. The last processed stream ID was 1.
2025-07-14 12:13:02.376 +04:00 [DBG] The connection queue processing loop for 0HNE2LONN7HP1 completed.
2025-07-14 12:13:02.383 +04:00 [DBG] Connection id "0HNE2LONN7HP1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 12:13:02.414 +04:00 [DBG] Connection id "0HNE2LONN7HP1" stopped.
2025-07-14 12:13:06.176 +04:00 [DBG] Connection id "0HNE2LONN7HP2" accepted.
2025-07-14 12:13:06.179 +04:00 [DBG] Connection id "0HNE2LONN7HP2" started.
2025-07-14 12:13:06.199 +04:00 [DBG] Connection 0HNE2LONN7HP2 established using the following protocol: "Tls13"
2025-07-14 12:13:06.208 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Users - application/json 43
2025-07-14 12:13:06.217 +04:00 [DBG] 1 candidate(s) found for the request path '/Users'
2025-07-14 12:13:06.220 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Users'
2025-07-14 12:13:06.222 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 12:13:06.231 +04:00 [DBG] Connection id "0HNE2LONN7HP2", Request id "0HNE2LONN7HP2:00000001": started reading request body.
2025-07-14 12:13:06.234 +04:00 [DBG] Connection id "0HNE2LONN7HP2", Request id "0HNE2LONN7HP2:00000001": done reading request body.
2025-07-14 12:13:06.237 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 12:13:06.240 +04:00 [INF] Executing endpoint 'HTTP: POST /Users'
2025-07-14 12:13:06.450 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 12:13:06.493 +04:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 12:13:06.520 +04:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 12:13:06.536 +04:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-07-14 12:13:06.553 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 12:13:06.577 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 12:13:06.594 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 12:13:06.600 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 12:13:06.946 +04:00 [DBG] Creating DbConnection.
2025-07-14 12:13:06.950 +04:00 [DBG] Created DbConnection. (3ms).
2025-07-14 12:13:06.954 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:13:06.962 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:13:06.980 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 12:13:06.985 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-07-14 12:13:07.010 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2025-07-14 12:13:07.030 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Name], [Password])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-07-14 12:13:07.341 +04:00 [INF] Executed DbCommand (323ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Name], [Password])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-07-14 12:13:07.370 +04:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-14 12:13:07.385 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:13:07.388 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 42ms reading results.
2025-07-14 12:13:07.399 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:13:07.403 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (3ms).
2025-07-14 12:13:07.442 +04:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 12:13:07.452 +04:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-07-14 12:13:07.457 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 12:13:07.462 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 12:13:07.482 +04:00 [INF] Executed endpoint 'HTTP: POST /Users'
2025-07-14 12:13:07.488 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/Users  {
  "name": "admin",
  "password": "1234"
} Responded with [200] in 1262ms
2025-07-14 12:13:07.498 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 12:13:07.502 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:13:07.507 +04:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-07-14 12:13:07.513 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Users - 200 148 application/json 1304.7036ms
2025-07-14 12:13:12.374 +04:00 [DBG] Connection id "0HNE2LONN7HP2" received FIN.
2025-07-14 12:13:12.376 +04:00 [DBG] Connection id "0HNE2LONN7HP2" is closed. The last processed stream ID was 1.
2025-07-14 12:13:12.376 +04:00 [DBG] The connection queue processing loop for 0HNE2LONN7HP2 completed.
2025-07-14 12:13:12.379 +04:00 [DBG] Connection id "0HNE2LONN7HP2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 12:13:12.387 +04:00 [DBG] Connection id "0HNE2LONN7HP2" stopped.
2025-07-14 12:13:15.970 +04:00 [DBG] Connection id "0HNE2LONN7HP3" accepted.
2025-07-14 12:13:15.972 +04:00 [DBG] Connection id "0HNE2LONN7HP3" started.
2025-07-14 12:13:16.031 +04:00 [DBG] Connection 0HNE2LONN7HP3 established using the following protocol: "Tls13"
2025-07-14 12:13:16.035 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/auth/login - application/json 47
2025-07-14 12:13:16.052 +04:00 [DBG] 1 candidate(s) found for the request path '/auth/login'
2025-07-14 12:13:16.055 +04:00 [DBG] Request matched endpoint 'HTTP: POST /auth/login'
2025-07-14 12:13:16.058 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 12:13:16.062 +04:00 [DBG] Connection id "0HNE2LONN7HP3", Request id "0HNE2LONN7HP3:00000001": started reading request body.
2025-07-14 12:13:16.067 +04:00 [DBG] Connection id "0HNE2LONN7HP3", Request id "0HNE2LONN7HP3:00000001": done reading request body.
2025-07-14 12:13:16.072 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 12:13:16.075 +04:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-07-14 12:13:16.139 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 12:13:16.198 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => u.Name == __name_0 && u.Password == __password_1)
    .FirstOrDefault()'
2025-07-14 12:13:16.314 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Name (string) Required, 1], [Property: User.Password (string) Required, 2] }
            SELECT TOP(1) u.Id, u.Name, u.Password
            FROM Users AS u
            WHERE (u.Name == @__name_0) && (u.Password == @__password_1)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Name (string) Required, 1], [Property: User.Password (string) Required, 2] }
            SELECT TOP(1) u.Id, u.Name, u.Password
            FROM Users AS u
            WHERE (u.Name == @__name_0) && (u.Password == @__password_1), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    instance.<Password>k__BackingField = dataReader.GetString(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 12:13:16.393 +04:00 [DBG] Creating DbConnection.
2025-07-14 12:13:16.397 +04:00 [DBG] Created DbConnection. (4ms).
2025-07-14 12:13:16.402 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:13:16.410 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:13:16.417 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 12:13:16.423 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-07-14 12:13:16.429 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-07-14 12:13:16.437 +04:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Name] = @__name_0 AND [u].[Password] = @__password_1
2025-07-14 12:13:16.564 +04:00 [INF] Executed DbCommand (127ms) [Parameters=[@__name_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Name] = @__name_0 AND [u].[Password] = @__password_1
2025-07-14 12:13:16.576 +04:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 12:13:16.585 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:13:16.592 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 16ms reading results.
2025-07-14 12:13:16.599 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:13:16.608 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (8ms).
2025-07-14 12:13:16.701 +04:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-07-14 12:13:16.704 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/auth/login  {
  "username": "admin",
  "password": "1234"
} Responded with [200] in 641ms
2025-07-14 12:13:16.708 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 12:13:16.712 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:13:16.717 +04:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-07-14 12:13:16.722 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/auth/login - 200 538 application/json 685.8102ms
2025-07-14 12:13:22.415 +04:00 [DBG] Connection id "0HNE2LONN7HP3" received FIN.
2025-07-14 12:13:22.416 +04:00 [DBG] Connection id "0HNE2LONN7HP3" is closed. The last processed stream ID was 1.
2025-07-14 12:13:22.417 +04:00 [DBG] The connection queue processing loop for 0HNE2LONN7HP3 completed.
2025-07-14 12:13:22.419 +04:00 [DBG] Connection id "0HNE2LONN7HP3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 12:13:22.434 +04:00 [DBG] Connection id "0HNE2LONN7HP3" stopped.
2025-07-14 12:14:25.735 +04:00 [DBG] Connection id "0HNE2LONN7HP4" accepted.
2025-07-14 12:14:25.737 +04:00 [DBG] Connection id "0HNE2LONN7HP4" started.
2025-07-14 12:14:25.796 +04:00 [DBG] Connection 0HNE2LONN7HP4 established using the following protocol: "Tls13"
2025-07-14 12:14:25.800 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/auth/login - application/json 47
2025-07-14 12:14:25.807 +04:00 [DBG] 1 candidate(s) found for the request path '/auth/login'
2025-07-14 12:14:25.810 +04:00 [DBG] Request matched endpoint 'HTTP: POST /auth/login'
2025-07-14 12:14:25.814 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 12:14:25.818 +04:00 [DBG] Connection id "0HNE2LONN7HP4", Request id "0HNE2LONN7HP4:00000001": started reading request body.
2025-07-14 12:14:25.822 +04:00 [DBG] Connection id "0HNE2LONN7HP4", Request id "0HNE2LONN7HP4:00000001": done reading request body.
2025-07-14 12:14:25.824 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 12:14:25.825 +04:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-07-14 12:14:25.829 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 12:14:25.839 +04:00 [DBG] Creating DbConnection.
2025-07-14 12:14:25.841 +04:00 [DBG] Created DbConnection. (2ms).
2025-07-14 12:14:25.844 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:14:25.848 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:14:25.852 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 12:14:25.856 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-07-14 12:14:25.859 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-07-14 12:14:25.861 +04:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Name] = @__name_0 AND [u].[Password] = @__password_1
2025-07-14 12:14:25.871 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__name_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Name] = @__name_0 AND [u].[Password] = @__password_1
2025-07-14 12:14:25.876 +04:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 12:14:25.878 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:14:25.879 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 3ms reading results.
2025-07-14 12:14:25.882 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:14:25.887 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (5ms).
2025-07-14 12:14:25.890 +04:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-07-14 12:14:25.892 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/auth/login  {
  "username": "admin",
  "password": "1234"
} Responded with [200] in 74ms
2025-07-14 12:14:25.894 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 12:14:25.895 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:14:25.900 +04:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-07-14 12:14:25.904 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/auth/login - 200 538 application/json 104.155ms
2025-07-14 12:14:32.486 +04:00 [DBG] Connection id "0HNE2LONN7HP4" received FIN.
2025-07-14 12:14:32.491 +04:00 [DBG] Connection id "0HNE2LONN7HP4" is closed. The last processed stream ID was 1.
2025-07-14 12:14:32.491 +04:00 [DBG] The connection queue processing loop for 0HNE2LONN7HP4 completed.
2025-07-14 12:14:32.498 +04:00 [DBG] Connection id "0HNE2LONN7HP4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 12:14:32.515 +04:00 [DBG] Connection id "0HNE2LONN7HP4" stopped.
2025-07-14 12:14:46.225 +04:00 [INF] Application is shutting down...
2025-07-14 12:14:46.226 +04:00 [DBG] Hosting stopping
2025-07-14 12:14:46.236 +04:00 [DBG] Hosting stopped
2025-07-14 12:14:55.565 +04:00 [INF] Starting web host
2025-07-14 12:14:56.009 +04:00 [INF] Options were configured
2025-07-14 12:14:56.018 +04:00 [INF] Infrastructure services registered
2025-07-14 12:14:56.042 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 12:14:56.770 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 12:14:56.830 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 12:14:57.170 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 12:14:57.618 +04:00 [INF] Registered 29 endpoints in 1,557 milliseconds.
2025-07-14 12:14:59.297 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 12:14:59.308 +04:00 [WRN] The foreign key property 'UserRole.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-14 12:14:59.389 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 12:14:59.529 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 12:14:59.711 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 12:15:00.462 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 12:15:00.552 +04:00 [DBG] Creating DbConnection.
2025-07-14 12:15:00.586 +04:00 [DBG] Created DbConnection. (29ms).
2025-07-14 12:15:00.597 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:15:01.078 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:15:01.086 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 12:15:01.103 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-07-14 12:15:01.112 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2025-07-14 12:15:01.127 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 12:15:01.216 +04:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 12:15:01.248 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:15:01.264 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 33ms reading results.
2025-07-14 12:15:01.271 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:15:01.288 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (16ms).
2025-07-14 12:15:01.300 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 12:15:01.307 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:15:01.313 +04:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-07-14 12:15:01.320 +04:00 [DBG] Hosting starting
2025-07-14 12:15:01.352 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 12:15:01.449 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 12:15:01.459 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 12:15:01.481 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 12:15:01.487 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 12:15:01.489 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 12:15:01.494 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 12:15:01.502 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 12:15:01.505 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 12:15:01.509 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 12:15:01.515 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 12:15:01.671 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 12:15:01.673 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 12:15:01.903 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 12:15:01.906 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 12:15:01.912 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 12:15:01.915 +04:00 [INF] Hosting environment: Development
2025-07-14 12:15:01.919 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 12:15:01.923 +04:00 [DBG] Hosting started
2025-07-14 12:15:01.948 +04:00 [DBG] Connection id "0HNE2LQ414L53" accepted.
2025-07-14 12:15:01.953 +04:00 [DBG] Connection id "0HNE2LQ414L53" started.
2025-07-14 12:15:02.030 +04:00 [DBG] Connection 0HNE2LQ414L53 established using the following protocol: "Tls13"
2025-07-14 12:15:02.101 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 12:15:02.217 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 12:15:02.334 +04:00 [DBG] Request did not match any endpoints
2025-07-14 12:15:02.436 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 12:15:02.629 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 529.6684ms
2025-07-14 12:15:03.540 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 12:15:03.598 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 12:15:03.605 +04:00 [DBG] Request did not match any endpoints
2025-07-14 12:15:03.616 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 12:15:03.634 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 12:15:03.719 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 12:15:05.518 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 1979.2613ms
2025-07-14 12:15:12.545 +04:00 [DBG] Connection id "0HNE2LQ414L53" received FIN.
2025-07-14 12:15:12.551 +04:00 [DBG] The connection queue processing loop for 0HNE2LQ414L53 completed.
2025-07-14 12:15:12.551 +04:00 [DBG] Connection id "0HNE2LQ414L53" is closed. The last processed stream ID was 3.
2025-07-14 12:15:12.567 +04:00 [DBG] Connection id "0HNE2LQ414L53" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 12:15:12.580 +04:00 [DBG] Connection id "0HNE2LQ414L53" stopped.
2025-07-14 12:15:16.600 +04:00 [DBG] Connection id "0HNE2LQ414L54" accepted.
2025-07-14 12:15:16.603 +04:00 [DBG] Connection id "0HNE2LQ414L54" started.
2025-07-14 12:15:16.612 +04:00 [DBG] Connection 0HNE2LQ414L54 established using the following protocol: "Tls13"
2025-07-14 12:15:16.617 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Users - application/json 43
2025-07-14 12:15:16.632 +04:00 [DBG] 1 candidate(s) found for the request path '/Users'
2025-07-14 12:15:16.636 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Users'
2025-07-14 12:15:16.643 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 12:15:16.657 +04:00 [DBG] Connection id "0HNE2LQ414L54", Request id "0HNE2LQ414L54:00000001": started reading request body.
2025-07-14 12:15:16.662 +04:00 [DBG] Connection id "0HNE2LQ414L54", Request id "0HNE2LQ414L54:00000001": done reading request body.
2025-07-14 12:15:16.674 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 12:15:16.681 +04:00 [INF] Executing endpoint 'HTTP: POST /Users'
2025-07-14 12:15:16.888 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 12:15:16.982 +04:00 [DBG] 'AppDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 12:15:17.198 +04:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 12:15:17.222 +04:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-07-14 12:15:17.242 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 12:15:17.286 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 12:15:17.306 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 12:15:17.314 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 12:15:17.554 +04:00 [DBG] Creating DbConnection.
2025-07-14 12:15:17.561 +04:00 [DBG] Created DbConnection. (6ms).
2025-07-14 12:15:17.567 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:15:17.582 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:15:17.598 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 12:15:17.603 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-07-14 12:15:17.623 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2025-07-14 12:15:17.637 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Name], [Password])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-07-14 12:15:17.724 +04:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Name], [Password])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-07-14 12:15:17.788 +04:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-14 12:15:17.828 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:15:17.835 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 98ms reading results.
2025-07-14 12:15:17.850 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:15:17.857 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (6ms).
2025-07-14 12:15:17.900 +04:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 12:15:17.914 +04:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-07-14 12:15:17.922 +04:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-07-14 12:15:17.927 +04:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-07-14 12:15:17.989 +04:00 [INF] Executed endpoint 'HTTP: POST /Users'
2025-07-14 12:15:18.205 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/Users  {
  "name": "admin",
  "password": "1234"
} Responded with [200] in 1525ms
2025-07-14 12:15:18.216 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 12:15:18.225 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:15:18.233 +04:00 [DBG] Disposed connection to database '' on server '' (9ms).
2025-07-14 12:15:18.236 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Users - 200 148 application/json 1618.7218ms
2025-07-14 12:15:22.548 +04:00 [DBG] Connection id "0HNE2LQ414L54" received FIN.
2025-07-14 12:15:22.552 +04:00 [DBG] Connection id "0HNE2LQ414L54" is closed. The last processed stream ID was 1.
2025-07-14 12:15:22.552 +04:00 [DBG] The connection queue processing loop for 0HNE2LQ414L54 completed.
2025-07-14 12:15:22.556 +04:00 [DBG] Connection id "0HNE2LQ414L54" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 12:15:22.579 +04:00 [DBG] Connection id "0HNE2LQ414L54" stopped.
2025-07-14 12:15:27.497 +04:00 [DBG] Connection id "0HNE2LQ414L55" accepted.
2025-07-14 12:15:27.501 +04:00 [DBG] Connection id "0HNE2LQ414L55" started.
2025-07-14 12:15:27.515 +04:00 [DBG] Connection 0HNE2LQ414L55 established using the following protocol: "Tls13"
2025-07-14 12:15:32.571 +04:00 [DBG] Connection id "0HNE2LQ414L55" received FIN.
2025-07-14 12:15:32.574 +04:00 [DBG] Connection id "0HNE2LQ414L55" is closed. The last processed stream ID was 0.
2025-07-14 12:15:32.574 +04:00 [DBG] The connection queue processing loop for 0HNE2LQ414L55 completed.
2025-07-14 12:15:32.578 +04:00 [DBG] Connection id "0HNE2LQ414L55" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 12:15:32.602 +04:00 [DBG] Connection id "0HNE2LQ414L55" stopped.
2025-07-14 12:15:33.822 +04:00 [DBG] Connection id "0HNE2LQ414L56" accepted.
2025-07-14 12:15:33.831 +04:00 [DBG] Connection id "0HNE2LQ414L56" started.
2025-07-14 12:15:33.852 +04:00 [DBG] Connection 0HNE2LQ414L56 established using the following protocol: "Tls13"
2025-07-14 12:15:33.861 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/auth/login - application/json 47
2025-07-14 12:15:33.879 +04:00 [DBG] 1 candidate(s) found for the request path '/auth/login'
2025-07-14 12:15:33.886 +04:00 [DBG] Request matched endpoint 'HTTP: POST /auth/login'
2025-07-14 12:15:33.892 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 12:15:33.898 +04:00 [DBG] Connection id "0HNE2LQ414L56", Request id "0HNE2LQ414L56:00000001": started reading request body.
2025-07-14 12:15:33.903 +04:00 [DBG] Connection id "0HNE2LQ414L56", Request id "0HNE2LQ414L56:00000001": done reading request body.
2025-07-14 12:15:33.909 +04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-14 12:15:33.915 +04:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-07-14 12:15:34.282 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 12:15:34.450 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => u.Name == __name_0 && u.Password == __password_1)
    .FirstOrDefault()'
2025-07-14 12:15:34.614 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Name (string) Required, 1], [Property: User.Password (string) Required, 2] }
            SELECT TOP(1) u.Id, u.Name, u.Password
            FROM Users AS u
            WHERE (u.Name == @__name_0) && (u.Password == @__password_1)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Name (string) Required, 1], [Property: User.Password (string) Required, 2] }
            SELECT TOP(1) u.Id, u.Name, u.Password
            FROM Users AS u
            WHERE (u.Name == @__name_0) && (u.Password == @__password_1), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Name>k__BackingField = dataReader.GetString(1);
                                    instance.<Password>k__BackingField = dataReader.GetString(2);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("OrderApp.Core.UserAggregate.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 12:15:34.696 +04:00 [DBG] Creating DbConnection.
2025-07-14 12:15:34.700 +04:00 [DBG] Created DbConnection. (4ms).
2025-07-14 12:15:34.707 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:15:34.718 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:15:34.727 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 12:15:34.734 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-07-14 12:15:34.742 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-07-14 12:15:34.752 +04:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Name] = @__name_0 AND [u].[Password] = @__password_1
2025-07-14 12:15:34.784 +04:00 [INF] Executed DbCommand (32ms) [Parameters=[@__name_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Name], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Name] = @__name_0 AND [u].[Password] = @__password_1
2025-07-14 12:15:34.807 +04:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-14 12:15:34.814 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:15:34.817 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 26ms reading results.
2025-07-14 12:15:34.820 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:15:34.828 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (7ms).
2025-07-14 12:15:34.883 +04:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-07-14 12:15:34.886 +04:00 [INF] Source:[::1] Request: POST https localhost:57679/auth/login  {
  "username": "admin",
  "password": "1234"
} Responded with [200] in 988ms
2025-07-14 12:15:34.892 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 12:15:34.896 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:15:34.898 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 12:15:34.901 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/auth/login - 200 309 application/json 1039.4212ms
2025-07-14 12:15:42.573 +04:00 [DBG] Connection id "0HNE2LQ414L56" received FIN.
2025-07-14 12:15:42.580 +04:00 [DBG] Connection id "0HNE2LQ414L56" is closed. The last processed stream ID was 1.
2025-07-14 12:15:42.580 +04:00 [DBG] The connection queue processing loop for 0HNE2LQ414L56 completed.
2025-07-14 12:15:42.587 +04:00 [DBG] Connection id "0HNE2LQ414L56" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 12:15:42.614 +04:00 [DBG] Connection id "0HNE2LQ414L56" stopped.
2025-07-14 12:35:46.071 +04:00 [INF] Application is shutting down...
2025-07-14 12:35:46.073 +04:00 [DBG] Hosting stopping
2025-07-14 12:35:46.094 +04:00 [DBG] Hosting stopped
2025-07-14 12:51:01.758 +04:00 [INF] Starting web host
2025-07-14 12:51:01.991 +04:00 [INF] Options were configured
2025-07-14 12:51:01.998 +04:00 [INF] Infrastructure services registered
2025-07-14 12:51:02.015 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 12:51:02.404 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 12:51:02.438 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 12:51:02.624 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 12:51:02.868 +04:00 [INF] Registered 29 endpoints in 840 milliseconds.
2025-07-14 12:51:03.787 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 12:51:03.795 +04:00 [WRN] The foreign key property 'UserRole.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-14 12:51:03.908 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 12:51:04.005 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 12:51:04.094 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 12:51:04.364 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 12:51:04.427 +04:00 [DBG] Creating DbConnection.
2025-07-14 12:51:04.456 +04:00 [DBG] Created DbConnection. (30ms).
2025-07-14 12:51:04.462 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:51:04.694 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:51:04.700 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 12:51:04.711 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-07-14 12:51:04.716 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-07-14 12:51:04.726 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 12:51:04.793 +04:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 12:51:04.817 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:51:04.828 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 25ms reading results.
2025-07-14 12:51:04.834 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:51:04.842 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (7ms).
2025-07-14 12:51:04.847 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 12:51:04.850 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:51:04.852 +04:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-07-14 12:51:04.856 +04:00 [DBG] Hosting starting
2025-07-14 12:51:04.875 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 12:51:04.908 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 12:51:04.919 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 12:51:04.939 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 12:51:04.945 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 12:51:04.947 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 12:51:04.950 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 12:51:04.956 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 12:51:04.958 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 12:51:04.961 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 12:51:04.963 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 12:51:05.113 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 12:51:05.115 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 12:51:05.225 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 12:51:05.228 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 12:51:05.230 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 12:51:05.231 +04:00 [INF] Hosting environment: Development
2025-07-14 12:51:05.232 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 12:51:05.235 +04:00 [DBG] Hosting started
2025-07-14 12:51:08.284 +04:00 [DBG] Connection id "0HNE2ME9KTSMF" accepted.
2025-07-14 12:51:08.286 +04:00 [DBG] Connection id "0HNE2ME9KTSMF" started.
2025-07-14 12:51:08.333 +04:00 [DBG] Connection 0HNE2ME9KTSMF established using the following protocol: "Tls13"
2025-07-14 12:51:08.413 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 12:51:08.498 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 12:51:08.500 +04:00 [DBG] Request did not match any endpoints
2025-07-14 12:51:08.551 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 12:51:08.672 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 261.6972ms
2025-07-14 12:51:09.333 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 12:51:09.349 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 12:51:09.351 +04:00 [DBG] Request did not match any endpoints
2025-07-14 12:51:09.355 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 12:51:09.366 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 12:51:09.395 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 12:51:10.509 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 1176.5096ms
2025-07-14 12:51:21.040 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Roles - application/json 22
2025-07-14 12:51:21.048 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 12:51:21.052 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Roles'
2025-07-14 12:51:21.062 +04:00 [DBG] Policy authentication schemes  did not succeed
2025-07-14 12:51:21.066 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-14 12:51:21.139 +04:00 [DBG] Successfully validated the token.
2025-07-14 12:51:21.142 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-14 12:51:21.143 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Roles - 401 0 null 103.5173ms
2025-07-14 12:51:21.148 +04:00 [DBG] Connection id "0HNE2ME9KTSMF", Request id "0HNE2ME9KTSMF:00000005": started reading request body.
2025-07-14 12:51:21.151 +04:00 [DBG] Connection id "0HNE2ME9KTSMF", Request id "0HNE2ME9KTSMF:00000005": done reading request body.
2025-07-14 12:53:32.298 +04:00 [DBG] Connection id "0HNE2ME9KTSMF" is closing.
2025-07-14 12:53:32.318 +04:00 [DBG] Connection id "0HNE2ME9KTSMF" is closed. The last processed stream ID was 5.
2025-07-14 12:53:32.328 +04:00 [DBG] Connection id "0HNE2ME9KTSMF" received FIN.
2025-07-14 12:53:32.333 +04:00 [DBG] Connection id "0HNE2ME9KTSMF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 12:53:32.342 +04:00 [DBG] The connection queue processing loop for 0HNE2ME9KTSMF completed.
2025-07-14 12:53:32.357 +04:00 [DBG] Connection id "0HNE2ME9KTSMF" stopped.
2025-07-14 12:55:01.550 +04:00 [INF] Application is shutting down...
2025-07-14 12:55:01.552 +04:00 [DBG] Hosting stopping
2025-07-14 12:55:01.561 +04:00 [DBG] Hosting stopped
2025-07-14 12:55:08.174 +04:00 [INF] Starting web host
2025-07-14 12:55:08.441 +04:00 [INF] Options were configured
2025-07-14 12:55:08.448 +04:00 [INF] Infrastructure services registered
2025-07-14 12:55:08.470 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 12:55:09.100 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 12:55:09.141 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 12:55:09.337 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 12:55:09.600 +04:00 [INF] Registered 29 endpoints in 1,114 milliseconds.
2025-07-14 12:55:10.595 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 12:55:10.602 +04:00 [WRN] The foreign key property 'UserRole.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-14 12:55:10.667 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 12:55:10.759 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 12:55:10.824 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 12:55:11.092 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 12:55:11.152 +04:00 [DBG] Creating DbConnection.
2025-07-14 12:55:11.182 +04:00 [DBG] Created DbConnection. (25ms).
2025-07-14 12:55:11.187 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:55:11.393 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:55:11.399 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 12:55:11.412 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-07-14 12:55:11.416 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-07-14 12:55:11.424 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 12:55:11.501 +04:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 12:55:11.545 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:55:11.562 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 47ms reading results.
2025-07-14 12:55:11.570 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:55:11.582 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (11ms).
2025-07-14 12:55:11.586 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 12:55:11.591 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 12:55:11.596 +04:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-07-14 12:55:11.604 +04:00 [DBG] Hosting starting
2025-07-14 12:55:11.629 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 12:55:11.671 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 12:55:11.681 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 12:55:11.697 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 12:55:11.701 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 12:55:11.703 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 12:55:11.705 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 12:55:11.712 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 12:55:11.716 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 12:55:11.721 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 12:55:11.724 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 12:55:11.864 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 12:55:11.866 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 12:55:12.052 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 12:55:12.055 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 12:55:12.057 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 12:55:12.059 +04:00 [INF] Hosting environment: Development
2025-07-14 12:55:12.060 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 12:55:12.061 +04:00 [DBG] Hosting started
2025-07-14 12:55:13.952 +04:00 [DBG] Connection id "0HNE2MGIRPSPD" accepted.
2025-07-14 12:55:13.955 +04:00 [DBG] Connection id "0HNE2MGIRPSPD" started.
2025-07-14 12:55:14.044 +04:00 [DBG] Connection 0HNE2MGIRPSPD established using the following protocol: "Tls13"
2025-07-14 12:55:14.096 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 12:55:14.157 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 12:55:14.162 +04:00 [DBG] Request did not match any endpoints
2025-07-14 12:55:14.203 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 12:55:14.349 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 253.8476ms
2025-07-14 12:55:14.999 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 12:55:15.005 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 12:55:15.032 +04:00 [DBG] Request did not match any endpoints
2025-07-14 12:55:15.036 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 12:55:15.053 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 12:55:15.080 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 12:55:15.884 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 885.3457ms
2025-07-14 12:55:24.184 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Roles - application/json 22
2025-07-14 12:55:24.195 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 12:55:24.197 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Roles'
2025-07-14 12:55:24.202 +04:00 [DBG] Policy authentication schemes  did not succeed
2025-07-14 12:55:24.213 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-14 12:55:24.276 +04:00 [DBG] Successfully validated the token.
2025-07-14 12:55:24.279 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-14 12:55:24.281 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Roles - 401 0 null 96.7442ms
2025-07-14 12:55:24.286 +04:00 [DBG] Connection id "0HNE2MGIRPSPD", Request id "0HNE2MGIRPSPD:00000005": started reading request body.
2025-07-14 12:55:24.290 +04:00 [DBG] Connection id "0HNE2MGIRPSPD", Request id "0HNE2MGIRPSPD:00000005": done reading request body.
2025-07-14 12:55:47.091 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Roles - application/json 22
2025-07-14 12:55:47.095 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 12:55:47.097 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Roles'
2025-07-14 12:55:47.099 +04:00 [DBG] Policy authentication schemes  did not succeed
2025-07-14 12:55:47.100 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-14 12:55:47.106 +04:00 [DBG] Successfully validated the token.
2025-07-14 12:55:47.108 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-14 12:55:47.110 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Roles - 401 0 null 18.7462ms
2025-07-14 12:55:47.115 +04:00 [DBG] Connection id "0HNE2MGIRPSPD", Request id "0HNE2MGIRPSPD:00000007": started reading request body.
2025-07-14 12:55:47.116 +04:00 [DBG] Connection id "0HNE2MGIRPSPD", Request id "0HNE2MGIRPSPD:00000007": done reading request body.
2025-07-14 12:57:58.422 +04:00 [DBG] Connection id "0HNE2MGIRPSPD" is closing.
2025-07-14 12:57:58.424 +04:00 [DBG] Connection id "0HNE2MGIRPSPD" is closed. The last processed stream ID was 7.
2025-07-14 12:57:58.427 +04:00 [DBG] Connection id "0HNE2MGIRPSPD" received FIN.
2025-07-14 12:57:58.428 +04:00 [DBG] The connection queue processing loop for 0HNE2MGIRPSPD completed.
2025-07-14 12:57:58.429 +04:00 [DBG] Connection id "0HNE2MGIRPSPD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-14 12:57:58.439 +04:00 [DBG] Connection id "0HNE2MGIRPSPD" stopped.
2025-07-14 13:03:25.179 +04:00 [INF] Application is shutting down...
2025-07-14 13:03:25.185 +04:00 [DBG] Hosting stopping
2025-07-14 13:03:25.221 +04:00 [DBG] Hosting stopped
2025-07-14 13:03:31.972 +04:00 [INF] Starting web host
2025-07-14 13:03:32.203 +04:00 [INF] Options were configured
2025-07-14 13:03:32.210 +04:00 [INF] Infrastructure services registered
2025-07-14 13:03:32.229 +04:00 [INF] Mediatr and Email Sender services registered
2025-07-14 13:03:32.576 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-14 13:03:32.612 +04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-07-14 13:03:32.762 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-14 13:03:32.991 +04:00 [INF] Registered 29 endpoints in 753 milliseconds.
2025-07-14 13:03:33.661 +04:00 [DBG] The property 'PhoneNumber.ContributorId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-07-14 13:03:33.669 +04:00 [WRN] The foreign key property 'UserRole.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-14 13:03:33.722 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 13:03:33.799 +04:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2025-07-14 13:03:33.856 +04:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-07-14 13:03:34.089 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: OrderApp.Infrastructure.Data.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-14 13:03:34.156 +04:00 [DBG] Creating DbConnection.
2025-07-14 13:03:34.181 +04:00 [DBG] Created DbConnection. (22ms).
2025-07-14 13:03:34.186 +04:00 [DBG] Opening connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 13:03:34.379 +04:00 [DBG] Opened connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 13:03:34.386 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-14 13:03:34.395 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-07-14 13:03:34.399 +04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-07-14 13:03:34.441 +04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 13:03:34.570 +04:00 [INF] Executed DbCommand (146ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 13:03:34.595 +04:00 [DBG] Closing data reader to 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 13:03:34.604 +04:00 [DBG] A data reader for 'OrderApp' on server 'DESKTOP-ZAKIR' is being disposed after spending 24ms reading results.
2025-07-14 13:03:34.610 +04:00 [DBG] Closing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 13:03:34.618 +04:00 [DBG] Closed connection to database 'OrderApp' on server 'DESKTOP-ZAKIR' (8ms).
2025-07-14 13:03:34.622 +04:00 [DBG] 'AppDbContext' disposed.
2025-07-14 13:03:34.627 +04:00 [DBG] Disposing connection to database 'OrderApp' on server 'DESKTOP-ZAKIR'.
2025-07-14 13:03:34.630 +04:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-07-14 13:03:34.634 +04:00 [DBG] Hosting starting
2025-07-14 13:03:34.652 +04:00 [INF] User profile is available. Using 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-14 13:03:34.689 +04:00 [DBG] Reading data from file 'C:\Users\zakir\AppData\Local\ASP.NET\DataProtection-Keys\key-d76fcede-8a6f-46d5-9032-13cac50778bc.xml'.
2025-07-14 13:03:34.697 +04:00 [DBG] Found key {d76fcede-8a6f-46d5-9032-13cac50778bc}.
2025-07-14 13:03:34.707 +04:00 [DBG] Considering key {d76fcede-8a6f-46d5-9032-13cac50778bc} with expiration date 2025-08-04 16:06:59Z as default key.
2025-07-14 13:03:34.713 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 13:03:34.714 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-14 13:03:34.716 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-14 13:03:34.720 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-14 13:03:34.722 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-14 13:03:34.726 +04:00 [DBG] Using key {d76fcede-8a6f-46d5-9032-13cac50778bc} as the default key.
2025-07-14 13:03:34.728 +04:00 [DBG] Key ring with default key {d76fcede-8a6f-46d5-9032-13cac50778bc} was loaded during application startup.
2025-07-14 13:03:34.836 +04:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-07-14 13:03:34.838 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-14 13:03:34.909 +04:00 [INF] Now listening on: https://localhost:57679
2025-07-14 13:03:34.911 +04:00 [DBG] Loaded hosting startup assembly OrderApp.Web
2025-07-14 13:03:34.912 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 13:03:34.914 +04:00 [INF] Hosting environment: Development
2025-07-14 13:03:34.915 +04:00 [INF] Content root path: C:\Users\zakir\OneDrive\Masaüstü\Work\OrderApp\src\OrderApp.Web
2025-07-14 13:03:34.916 +04:00 [DBG] Hosting started
2025-07-14 13:03:38.572 +04:00 [DBG] Connection id "0HNE2ML987JJK" accepted.
2025-07-14 13:03:38.575 +04:00 [DBG] Connection id "0HNE2ML987JJK" started.
2025-07-14 13:03:38.619 +04:00 [DBG] Connection 0HNE2ML987JJK established using the following protocol: "Tls13"
2025-07-14 13:03:38.660 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-07-14 13:03:38.711 +04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-14 13:03:38.713 +04:00 [DBG] Request did not match any endpoints
2025-07-14 13:03:38.745 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 13:03:38.846 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 189.6364ms
2025-07-14 13:03:39.450 +04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-07-14 13:03:39.457 +04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-14 13:03:39.459 +04:00 [DBG] Request did not match any endpoints
2025-07-14 13:03:39.525 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-14 13:03:39.536 +04:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 13:03:39.573 +04:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-07-14 13:03:40.584 +04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 1134.4733ms
2025-07-14 13:03:45.778 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Roles - application/json 22
2025-07-14 13:03:45.789 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 13:03:45.793 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Roles'
2025-07-14 13:03:45.801 +04:00 [DBG] Policy authentication schemes  did not succeed
2025-07-14 13:03:45.805 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-14 13:03:45.861 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '14-Jul-25 08:55:10', Current time (UTC): '14-Jul-25 09:03:45'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-14 13:03:45.877 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-14 13:03:45.878 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Roles - 401 0 null 100.1694ms
2025-07-14 13:03:45.883 +04:00 [DBG] Connection id "0HNE2ML987JJK", Request id "0HNE2ML987JJK:00000005": started reading request body.
2025-07-14 13:03:45.885 +04:00 [DBG] Connection id "0HNE2ML987JJK", Request id "0HNE2ML987JJK:00000005": done reading request body.
2025-07-14 13:03:52.777 +04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Roles - application/json 20
2025-07-14 13:03:52.781 +04:00 [DBG] 1 candidate(s) found for the request path '/Roles'
2025-07-14 13:03:52.783 +04:00 [DBG] Request matched endpoint 'HTTP: POST /Roles'
2025-07-14 13:03:52.786 +04:00 [DBG] Policy authentication schemes  did not succeed
2025-07-14 13:03:52.790 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-14 13:03:52.793 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '14-Jul-25 08:55:10', Current time (UTC): '14-Jul-25 09:03:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-14 13:03:52.798 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-14 13:03:52.800 +04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Roles - 401 0 null 23.5767ms
2025-07-14 13:03:52.804 +04:00 [DBG] Connection id "0HNE2ML987JJK", Request id "0HNE2ML987JJK:00000007": started reading request body.
2025-07-14 13:03:52.807 +04:00 [DBG] Connection id "0HNE2ML987JJK", Request id "0HNE2ML987JJK:00000007": done reading request body.
